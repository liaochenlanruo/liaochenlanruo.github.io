{"title":"Linux中使用tar将大文件压缩为多个小的压缩包","slug":"Linux中使用tar将大文件压缩为多个小的压缩包","date":"2021-11-26T14:35:35.000Z","updated":"2024-03-11T13:07:17.000Z","comments":true,"path":"api/articles/Linux中使用tar将大文件压缩为多个小的压缩包.json","excerpt":null,"covers":null,"content":"<p>在GitHub上传文件时，单个文件不允许超过100m，超过的话需要使用Git Large File Storage，操作起来稍有些复杂，而且我记得也有限制。在这里我们可以将大文件压缩并切片，使之被分割为多个小文件，再上传GitHub，下载之后再合并即可。</p>\n<ul>\n<li><p>压缩</p>\n<p>假设有个大文件<code>CAZy.faa</code>，原始大小为725m，压缩后为135m，因此我们可以将其压缩为2~3个文件 即可避免100m的限制。建议上传至GitHub的单个文件大小不要超过50m，因此我们以50m为阈值对文件进行切割（参数-b）。</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar czf - CAZy.faa | <span class=\"built_in\">split</span> -b 50m - CAZy.faa.tar.gz</span><br></pre></td></tr></table></figure>\n\n<p>运行命令后，得到了3个文件：CAZy.faa.tar.gzaa，CAZy.faa.tar.gzab，CAZy.faa.tar.gzac。</p>\n</li>\n<li><p>解压</p>\n<p>通过如下命令解压后可以得到完整的<code>CAZy.faa</code>文件。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cat</span> CAZy.faa.tar.gz* | tar -xzv</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>在Windows下解压</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 先合并，再用压缩软件解压</span></span><br><span class=\"line\"><span class=\"comment\">## 按“win+r”键，在弹出的输入框中输入“cmd”进入windows下的命令提示符界面。切换路径，如进入F盘，直接输入“F:”，再进入F盘的xin文件夹输入“cd xin”，输入以下命令进行合并（注意，用的是cmd而不是powershell）：</span></span><br><span class=\"line\">copy /b CAZy.faa.tar.gza* CAZy.faa.tar.gz</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h1 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h1><ul>\n<li><a href=\"https://my.oschina.net/yysue/blog/1815340\">Linux下将一个文件压缩分包成多个小文件</a></li>\n</ul>\n","more":"<p>在GitHub上传文件时，单个文件不允许超过100m，超过的话需要使用Git Large File Storage，操作起来稍有些复杂，而且我记得也有限制。在这里我们可以将大文件压缩并切片，使之被分割为多个小文件，再上传GitHub，下载之后再合并即可。</p>\n<ul>\n<li><p>压缩</p>\n<p>假设有个大文件<code>CAZy.faa</code>，原始大小为725m，压缩后为135m，因此我们可以将其压缩为2~3个文件 即可避免100m的限制。建议上传至GitHub的单个文件大小不要超过50m，因此我们以50m为阈值对文件进行切割（参数-b）。</p>\n  <figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tar czf - CAZy.faa | <span class=\"built_in\">split</span> -b 50m - CAZy.faa.tar.gz</span><br></pre></td></tr></table></figure>\n\n<p>运行命令后，得到了3个文件：CAZy.faa.tar.gzaa，CAZy.faa.tar.gzab，CAZy.faa.tar.gzac。</p>\n</li>\n<li><p>解压</p>\n<p>通过如下命令解压后可以得到完整的<code>CAZy.faa</code>文件。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">cat</span> CAZy.faa.tar.gz* | tar -xzv</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>在Windows下解压</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># 先合并，再用压缩软件解压</span></span><br><span class=\"line\"><span class=\"comment\">## 按“win+r”键，在弹出的输入框中输入“cmd”进入windows下的命令提示符界面。切换路径，如进入F盘，直接输入“F:”，再进入F盘的xin文件夹输入“cd xin”，输入以下命令进行合并（注意，用的是cmd而不是powershell）：</span></span><br><span class=\"line\">copy /b CAZy.faa.tar.gza* CAZy.faa.tar.gz</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h1 id=\"参考\"><a href=\"#参考\" class=\"headerlink\" title=\"参考\"></a>参考</h1><ul>\n<li><a href=\"https://my.oschina.net/yysue/blog/1815340\">Linux下将一个文件压缩分包成多个小文件</a></li>\n</ul>\n","categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"Linux","path":"api/tags/Linux.json"},{"name":"Github","path":"api/tags/Github.json"}]}