{"title":"syncthing搭建自己的同步云网盘","slug":"syncthing搭建自己的同步云网盘","date":"2018-09-19T06:20:50.000Z","updated":"2022-01-08T02:16:28.423Z","comments":true,"path":"api/articles/syncthing搭建自己的同步云网盘.json","excerpt":"还在为百度网盘传输速度慢而头疼吗，有服务器的同学不妨试试自己搭建同步云盘，保护自己的数据。","covers":null,"content":"<p>还在为百度网盘传输速度慢而头疼吗，有服务器的同学不妨试试自己搭建同步云盘，保护自己的数据。</p>\n<span id=\"more\"></span>\n<p><strong>参考前辈写的</strong><br />\n<a href=\"https://www.cnblogs.com/xingyunfashi/p/8708807.html\"> https://www.cnblogs.com/xingyunfashi/p/8708807.html</a></p>\n<p><a href=\"https://www.jianshu.com/p/4235cc85c32d\">https://www.jianshu.com/p/4235cc85c32d</a></p>\n<p><strong>错误修复：</strong></p>\n<p>2.2.32. How do I increase the inotify limit to get my filesystem watcher to work?</p>\n<p>You are probably reading this because you encountered the following error with the filesystem watcher on linux:</p>\n<p>Failed to start filesystem watcher for folder yourLabel (yourID): failed to setup inotify handler. Please increase inotify limits, seehttps://docs.syncthing.net/users/faq.html#inotify-limits</p>\n<p>Linux typically restricts the amount of watches per user (usually 8192). When you have more directories you need to adjust that number.</p>\n<p>On many Linux distributions you can run the following to fix it:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> fs.inotify.max_user_watches<span class=\"token operator\">=</span><span class=\"token number\">524288</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> -a /etc/sysctl.conf <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">sudo</span> sysctl -p<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>On Arch Linux and potentially others it is preferred to write this line into a separate file, i.e. you should run:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"fs.inotify.max_user_watches=204800\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> -a /etc/sysctl.d/90-override.conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>This only takes effect after a reboot. To adjust the limit immediately, run:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> sh-c <span class=\"token string\">'echo 204800 > /proc/sys/fs/inotify/max_user_watches'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n","more":"<p><strong>参考前辈写的</strong><br />\n<a href=\"https://www.cnblogs.com/xingyunfashi/p/8708807.html\"> https://www.cnblogs.com/xingyunfashi/p/8708807.html</a></p>\n<p><a href=\"https://www.jianshu.com/p/4235cc85c32d\">https://www.jianshu.com/p/4235cc85c32d</a></p>\n<p><strong>错误修复：</strong></p>\n<p>2.2.32. How do I increase the inotify limit to get my filesystem watcher to work?</p>\n<p>You are probably reading this because you encountered the following error with the filesystem watcher on linux:</p>\n<p>Failed to start filesystem watcher for folder yourLabel (yourID): failed to setup inotify handler. Please increase inotify limits, seehttps://docs.syncthing.net/users/faq.html#inotify-limits</p>\n<p>Linux typically restricts the amount of watches per user (usually 8192). When you have more directories you need to adjust that number.</p>\n<p>On many Linux distributions you can run the following to fix it:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> fs.inotify.max_user_watches<span class=\"token operator\">=</span><span class=\"token number\">524288</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> -a /etc/sysctl.conf <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">sudo</span> sysctl -p<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>On Arch Linux and potentially others it is preferred to write this line into a separate file, i.e. you should run:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token builtin class-name\">echo</span> <span class=\"token string\">\"fs.inotify.max_user_watches=204800\"</span> <span class=\"token operator\">|</span> <span class=\"token function\">sudo</span> <span class=\"token function\">tee</span> -a /etc/sysctl.d/90-override.conf<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>This only takes effect after a reboot. To adjust the limit immediately, run:</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token function\">sudo</span> sh-c <span class=\"token string\">'echo 204800 > /proc/sys/fs/inotify/max_user_watches'</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>","categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"网盘","path":"api/tags/网盘.json"}]}