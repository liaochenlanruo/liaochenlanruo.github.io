{"title":"syncthing搭建自己的同步云网盘","slug":"syncthing搭建自己的同步云网盘","date":"2018-09-19T06:20:50.000Z","updated":"2024-03-11T13:07:17.335Z","comments":true,"path":"api/articles/syncthing搭建自己的同步云网盘.json","excerpt":"还在为百度网盘传输速度慢而头疼吗，有服务器的同学不妨试试自己搭建同步云盘，保护自己的数据。","covers":null,"content":"<p>还在为百度网盘传输速度慢而头疼吗，有服务器的同学不妨试试自己搭建同步云盘，保护自己的数据。</p>\n<span id=\"more\"></span>\n\n<p><strong>参考前辈写的</strong><br><a href=\"https://www.cnblogs.com/xingyunfashi/p/8708807.html\">https://www.cnblogs.com/xingyunfashi/p/8708807.html</a></p>\n<p><a href=\"https://www.jianshu.com/p/4235cc85c32d\">https://www.jianshu.com/p/4235cc85c32d</a></p>\n<p><strong>错误修复：</strong></p>\n<p>2.2.32. How do I increase the inotify limit to get my filesystem watcher to work?</p>\n<p>You are probably reading this because you encountered the following error with the filesystem watcher on linux:</p>\n<p>Failed to start filesystem watcher for folder yourLabel (yourID): failed to setup inotify handler. Please increase inotify limits, see<a href=\"https://docs.syncthing.net/users/faq.html#inotify-limits\">https://docs.syncthing.net/users/faq.html#inotify-limits</a></p>\n<p>Linux typically restricts the amount of watches per user (usually 8192). When you have more directories you need to adjust that number.</p>\n<p>On many Linux distributions you can run the following to fix it:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> fs.inotify.max_user_watches=524288 | sudo <span class=\"built_in\">tee</span> -a /etc/sysctl.conf &amp;&amp; sudo sysctl -p</span><br></pre></td></tr></table></figure>\n\n<p>On Arch Linux and potentially others it is preferred to write this line into a separate file, i.e. you should run:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;fs.inotify.max_user_watches=204800&quot;</span> | sudo <span class=\"built_in\">tee</span> -a /etc/sysctl.d/90-override.conf</span><br></pre></td></tr></table></figure>\n\n<p>This only takes effect after a reboot. To adjust the limit immediately, run:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo sh-c <span class=\"string\">&#x27;echo 204800 &gt; /proc/sys/fs/inotify/max_user_watches&#x27;</span></span><br></pre></td></tr></table></figure>\n","more":"<p><strong>参考前辈写的</strong><br><a href=\"https://www.cnblogs.com/xingyunfashi/p/8708807.html\">https://www.cnblogs.com/xingyunfashi/p/8708807.html</a></p>\n<p><a href=\"https://www.jianshu.com/p/4235cc85c32d\">https://www.jianshu.com/p/4235cc85c32d</a></p>\n<p><strong>错误修复：</strong></p>\n<p>2.2.32. How do I increase the inotify limit to get my filesystem watcher to work?</p>\n<p>You are probably reading this because you encountered the following error with the filesystem watcher on linux:</p>\n<p>Failed to start filesystem watcher for folder yourLabel (yourID): failed to setup inotify handler. Please increase inotify limits, see<a href=\"https://docs.syncthing.net/users/faq.html#inotify-limits\">https://docs.syncthing.net/users/faq.html#inotify-limits</a></p>\n<p>Linux typically restricts the amount of watches per user (usually 8192). When you have more directories you need to adjust that number.</p>\n<p>On many Linux distributions you can run the following to fix it:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> fs.inotify.max_user_watches=524288 | sudo <span class=\"built_in\">tee</span> -a /etc/sysctl.conf &amp;&amp; sudo sysctl -p</span><br></pre></td></tr></table></figure>\n\n<p>On Arch Linux and potentially others it is preferred to write this line into a separate file, i.e. you should run:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">echo</span> <span class=\"string\">&quot;fs.inotify.max_user_watches=204800&quot;</span> | sudo <span class=\"built_in\">tee</span> -a /etc/sysctl.d/90-override.conf</span><br></pre></td></tr></table></figure>\n\n<p>This only takes effect after a reboot. To adjust the limit immediately, run:</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo sh-c <span class=\"string\">&#x27;echo 204800 &gt; /proc/sys/fs/inotify/max_user_watches&#x27;</span></span><br></pre></td></tr></table></figure>","categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"网盘","path":"api/tags/网盘.json"}]}