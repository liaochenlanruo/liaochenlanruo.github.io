{"title":"Ubuntu open-mpi运行错误","slug":"Ubuntu-open-mpi运行错误","date":"2019-03-30T07:07:30.000Z","updated":"2022-01-08T02:16:28.416Z","comments":true,"path":"api/articles/Ubuntu-open-mpi运行错误.json","excerpt":null,"covers":null,"content":"<span id=\"more\"></span>\n<p>我在 win10 Linux 子系统下使用 mpirun 多线程运行 ABySS 基因组拼接软件的时候，出现以下错误提示：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">Linux kernel CMA support was requested via the btl_vader_single_copy_mechanism MCA variable, but CMA support is not available due to restrictive ptrace settings.\n\n<span class=\"token punctuation\">[</span>liaochenlanruo:49950<span class=\"token punctuation\">]</span> <span class=\"token number\">4</span> <span class=\"token function\">more</span> processes have sent <span class=\"token builtin class-name\">help</span> message help-mpi-btl-openib-cpc-base.txt / ibv_create_qp failed\n\n<span class=\"token punctuation\">[</span>liaochenlanruo:49950<span class=\"token punctuation\">]</span> Set MCA parameter <span class=\"token string\">\"orte_base_help_aggregate\"</span> to <span class=\"token number\">0</span> to see all <span class=\"token builtin class-name\">help</span> / error messages <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</br>\n<p>结果就是无法运行多线程，跑了一夜的程序没有任何动静，似乎是卡死了。</p>\n</br>\nGoogle到的解决方案，root用户下，终端运行如下命令：\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#echo 0 > /proc/sys/kernel/yama/ptrace_scope</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</br>\n**提示：\"ptrace_scope\"文件中原来的值为“1”，改成“0”就可以了。**\n","more":"<p>我在 win10 Linux 子系统下使用 mpirun 多线程运行 ABySS 基因组拼接软件的时候，出现以下错误提示：</p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">Linux kernel CMA support was requested via the btl_vader_single_copy_mechanism MCA variable, but CMA support is not available due to restrictive ptrace settings.\n\n<span class=\"token punctuation\">[</span>liaochenlanruo:49950<span class=\"token punctuation\">]</span> <span class=\"token number\">4</span> <span class=\"token function\">more</span> processes have sent <span class=\"token builtin class-name\">help</span> message help-mpi-btl-openib-cpc-base.txt / ibv_create_qp failed\n\n<span class=\"token punctuation\">[</span>liaochenlanruo:49950<span class=\"token punctuation\">]</span> Set MCA parameter <span class=\"token string\">\"orte_base_help_aggregate\"</span> to <span class=\"token number\">0</span> to see all <span class=\"token builtin class-name\">help</span> / error messages <span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</br>\n<p>结果就是无法运行多线程，跑了一夜的程序没有任何动静，似乎是卡死了。</p>\n</br>\nGoogle到的解决方案，root用户下，终端运行如下命令：\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#echo 0 > /proc/sys/kernel/yama/ptrace_scope</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n</br>\n**提示：\"ptrace_scope\"文件中原来的值为“1”，改成“0”就可以了。**","categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"Linux","path":"api/tags/Linux.json"}]}