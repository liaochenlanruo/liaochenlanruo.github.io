{"title":"Ubuntu open-mpi运行错误","slug":"Ubuntu-open-mpi运行错误","date":"2019-03-30T07:07:30.000Z","updated":"2024-03-11T13:07:17.335Z","comments":true,"path":"api/articles/Ubuntu-open-mpi运行错误.json","excerpt":null,"covers":null,"content":"<span id=\"more\"></span>\n\n<p>我在win10 Linux子系统下使用mpirun多线程运行ABySS基因组拼接软件的时候，出现以下错误提示：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Linux kernel CMA support was requested via the btl_vader_single_copy_mechanism MCA variable, but CMA support is not available due to restrictive ptrace settings.</span><br><span class=\"line\"></span><br><span class=\"line\">[liaochenlanruo:49950] 4 more processes have sent <span class=\"built_in\">help</span> message help-mpi-btl-openib-cpc-base.txt / ibv_create_qp failed</span><br><span class=\"line\"></span><br><span class=\"line\">[liaochenlanruo:49950] Set MCA parameter <span class=\"string\">&quot;orte_base_help_aggregate&quot;</span> to 0 to see all <span class=\"built_in\">help</span> / error messages </span><br></pre></td></tr></table></figure>\n</br>\n\n<p>结果就是无法运行多线程，跑了一夜的程序没有任何动静，似乎是卡死了。</p>\n</br>\nGoogle到的解决方案，root用户下，终端运行如下命令：\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#echo 0 &gt; /proc/sys/kernel/yama/ptrace_scope</span></span><br></pre></td></tr></table></figure>\n\n</br>\n**提示：\"ptrace_scope\"文件中原来的值为“1”，改成“0”就可以了。**\n","more":"<p>我在win10 Linux子系统下使用mpirun多线程运行ABySS基因组拼接软件的时候，出现以下错误提示：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Linux kernel CMA support was requested via the btl_vader_single_copy_mechanism MCA variable, but CMA support is not available due to restrictive ptrace settings.</span><br><span class=\"line\"></span><br><span class=\"line\">[liaochenlanruo:49950] 4 more processes have sent <span class=\"built_in\">help</span> message help-mpi-btl-openib-cpc-base.txt / ibv_create_qp failed</span><br><span class=\"line\"></span><br><span class=\"line\">[liaochenlanruo:49950] Set MCA parameter <span class=\"string\">&quot;orte_base_help_aggregate&quot;</span> to 0 to see all <span class=\"built_in\">help</span> / error messages </span><br></pre></td></tr></table></figure>\n</br>\n\n<p>结果就是无法运行多线程，跑了一夜的程序没有任何动静，似乎是卡死了。</p>\n</br>\nGoogle到的解决方案，root用户下，终端运行如下命令：\n\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#echo 0 &gt; /proc/sys/kernel/yama/ptrace_scope</span></span><br></pre></td></tr></table></figure>\n\n</br>\n**提示：\"ptrace_scope\"文件中原来的值为“1”，改成“0”就可以了。**","categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"Linux","path":"api/tags/Linux.json"}]}