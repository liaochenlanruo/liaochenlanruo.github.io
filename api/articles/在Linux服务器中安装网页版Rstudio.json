{"title":"在Linux服务器中安装网页版Rstudio","slug":"在Linux服务器中安装网页版Rstudio","date":"2021-11-02T01:37:03.000Z","updated":"2024-03-11T13:07:17.353Z","comments":true,"path":"api/articles/在Linux服务器中安装网页版Rstudio.json","excerpt":null,"covers":["https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_1.jpg","https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_2.jpg","https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_3.jpg","https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_4.jpg"],"content":"<p>本文演示如何在CentOS7服务器上安装Rstudio server。</p>\n<h1 id=\"安装Rstudio\"><a href=\"#安装Rstudio\" class=\"headerlink\" title=\"安装Rstudio\"></a>安装Rstudio</h1><p>访问<a href=\"https://www.rstudio.com/products/rstudio/download-server\">Rstudio官网</a>，选择对应的Linux发行版，下载Rstudio安装包。本文以最常见的CentOS7为例演示，<strong>前提是系统中已经安装了R</strong>。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://download2.rstudio.org/server/centos7/x86_64/rstudio-server-rhel-2021.09.0-351-x86_64.rpm</span><br><span class=\"line\">sudo yum install rstudio-server-rhel-2021.09.0-351-x86_64.rpm</span><br></pre></td></tr></table></figure>\n<h1 id=\"开启Rstudio服务\"><a href=\"#开启Rstudio服务\" class=\"headerlink\" title=\"开启Rstudio服务\"></a>开启Rstudio服务</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl <span class=\"built_in\">enable</span> rstudio-server.service</span><br><span class=\"line\">sudo systemctl start rstudio-server.service</span><br><span class=\"line\">sudo systemctl status rstudio-server</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"开启8787端口\"><a href=\"#开启8787端口\" class=\"headerlink\" title=\"开启8787端口\"></a>开启8787端口</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo firewalld</span><br><span class=\"line\">sudo firewall-cmd --permanent --add-port=8787/tcp</span><br><span class=\"line\">sudo firewall-cmd --permanent --add-port=8787/udp</span><br><span class=\"line\">sudo firewall-cmd --reload</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"远程登录Rstudio\"><a href=\"#远程登录Rstudio\" class=\"headerlink\" title=\"远程登录Rstudio\"></a>远程登录Rstudio</h1><p>在浏览器地址栏输入<code>http://ip:8787/</code>打开网页，输入自己的用户名和密码登录即可。</p>\n<h1 id=\"错误处理\"><a href=\"#错误处理\" class=\"headerlink\" title=\"错误处理\"></a>错误处理</h1><h2 id=\"Rstudio服务启动失败\"><a href=\"#Rstudio服务启动失败\" class=\"headerlink\" title=\"Rstudio服务启动失败\"></a>Rstudio服务启动失败</h2><h3 id=\"症状\"><a href=\"#症状\" class=\"headerlink\" title=\"症状\"></a>症状</h3><p><img src=\"https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_1.jpg\" class=\"lazyload placeholder\" data-srcset=\"https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_1.jpg\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"sudo rstudio-server status\"></p>\n<h3 id=\"排雷\"><a href=\"#排雷\" class=\"headerlink\" title=\"排雷\"></a>排雷</h3><ul>\n<li><p>检查安装</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rstudio-server verify-installation</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_2.jpg\" class=\"lazyload placeholder\" data-srcset=\"https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_2.jpg\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"sudo rstudio-server verify-installation\"></p>\n<p>提示“&#x2F;usr&#x2F;lib&#x2F;rstudio-server&#x2F;bin&#x2F;rsession: error while loading shared libraries: libR.so: cannot open shared object file: No such file or directory”，表明缺少libR.so库。</p>\n</li>\n<li><p>安装R</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install -y R.x86_64</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>再次检查安装情况</p>\n<p>提示找不到R。</p>\n<p><img src=\"https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_3.jpg\" class=\"lazyload placeholder\" data-srcset=\"https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_3.jpg\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"sudo rstudio-server verify-installation\"></p>\n<p>可以看到这里进入了conda的base环境，它影响了程序的判断，退出conda环境后再试一下就不再报错了。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda deactivate</span><br></pre></td></tr></table></figure>\n\n<p><strong>注</strong>：conda环境一定要退彻底。</p>\n</li>\n<li><p>再次启动Rstudio服务，并查看状态</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rstudio-server start</span><br><span class=\"line\">sudo rstudio-server status</span><br></pre></td></tr></table></figure>\n\n<p>  <img src=\"https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_4.jpg\" class=\"lazyload placeholder\" data-srcset=\"https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_4.jpg\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"rstudio-server正常运行\"></p>\n</li>\n</ul>\n","more":"<p>本文演示如何在CentOS7服务器上安装Rstudio server。</p>\n<h1 id=\"安装Rstudio\"><a href=\"#安装Rstudio\" class=\"headerlink\" title=\"安装Rstudio\"></a>安装Rstudio</h1><p>访问<a href=\"https://www.rstudio.com/products/rstudio/download-server\">Rstudio官网</a>，选择对应的Linux发行版，下载Rstudio安装包。本文以最常见的CentOS7为例演示，<strong>前提是系统中已经安装了R</strong>。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">wget https://download2.rstudio.org/server/centos7/x86_64/rstudio-server-rhel-2021.09.0-351-x86_64.rpm</span><br><span class=\"line\">sudo yum install rstudio-server-rhel-2021.09.0-351-x86_64.rpm</span><br></pre></td></tr></table></figure>\n<h1 id=\"开启Rstudio服务\"><a href=\"#开启Rstudio服务\" class=\"headerlink\" title=\"开启Rstudio服务\"></a>开启Rstudio服务</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo systemctl <span class=\"built_in\">enable</span> rstudio-server.service</span><br><span class=\"line\">sudo systemctl start rstudio-server.service</span><br><span class=\"line\">sudo systemctl status rstudio-server</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"开启8787端口\"><a href=\"#开启8787端口\" class=\"headerlink\" title=\"开启8787端口\"></a>开启8787端口</h1><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo firewalld</span><br><span class=\"line\">sudo firewall-cmd --permanent --add-port=8787/tcp</span><br><span class=\"line\">sudo firewall-cmd --permanent --add-port=8787/udp</span><br><span class=\"line\">sudo firewall-cmd --reload</span><br></pre></td></tr></table></figure>\n\n<h1 id=\"远程登录Rstudio\"><a href=\"#远程登录Rstudio\" class=\"headerlink\" title=\"远程登录Rstudio\"></a>远程登录Rstudio</h1><p>在浏览器地址栏输入<code>http://ip:8787/</code>打开网页，输入自己的用户名和密码登录即可。</p>\n<h1 id=\"错误处理\"><a href=\"#错误处理\" class=\"headerlink\" title=\"错误处理\"></a>错误处理</h1><h2 id=\"Rstudio服务启动失败\"><a href=\"#Rstudio服务启动失败\" class=\"headerlink\" title=\"Rstudio服务启动失败\"></a>Rstudio服务启动失败</h2><h3 id=\"症状\"><a href=\"#症状\" class=\"headerlink\" title=\"症状\"></a>症状</h3><p><img src=\"https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_1.jpg\" alt=\"sudo rstudio-server status\"></p>\n<h3 id=\"排雷\"><a href=\"#排雷\" class=\"headerlink\" title=\"排雷\"></a>排雷</h3><ul>\n<li><p>检查安装</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rstudio-server verify-installation</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_2.jpg\" alt=\"sudo rstudio-server verify-installation\"></p>\n<p>提示“&#x2F;usr&#x2F;lib&#x2F;rstudio-server&#x2F;bin&#x2F;rsession: error while loading shared libraries: libR.so: cannot open shared object file: No such file or directory”，表明缺少libR.so库。</p>\n</li>\n<li><p>安装R</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo yum install -y R.x86_64</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>再次检查安装情况</p>\n<p>提示找不到R。</p>\n<p><img src=\"https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_3.jpg\" alt=\"sudo rstudio-server verify-installation\"></p>\n<p>可以看到这里进入了conda的base环境，它影响了程序的判断，退出conda环境后再试一下就不再报错了。</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">conda deactivate</span><br></pre></td></tr></table></figure>\n\n<p><strong>注</strong>：conda环境一定要退彻底。</p>\n</li>\n<li><p>再次启动Rstudio服务，并查看状态</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sudo rstudio-server start</span><br><span class=\"line\">sudo rstudio-server status</span><br></pre></td></tr></table></figure>\n\n<p>  <img src=\"https://fastly.jsdelivr.net/gh/liaochenlanruo/cdn@master/images/post/ea71_4.jpg\" alt=\"rstudio-server正常运行\"></p>\n</li>\n</ul>\n","categories":[{"name":"生物信息","path":"api/categories/生物信息.json"}],"tags":[{"name":"Linux","path":"api/tags/Linux.json"},{"name":"R语言","path":"api/tags/R语言.json"},{"name":"软件","path":"api/tags/软件.json"}]}