{"title":"R语言自定义坐标轴排序","slug":"R语言自定义坐标轴排序","date":"2019-02-22T08:57:21.000Z","updated":"2022-01-08T02:16:28.414Z","comments":true,"path":"api/articles/R语言自定义坐标轴排序.json","excerpt":"R 语言作图时，默认情况下软件会按照自己的方式对坐标轴的项目进行排序，然而这种排序往往不是我们所希望的，因此需要想办法让坐标轴的项目按照我们希望的顺序输出。","covers":null,"content":"<p>R 语言作图时，默认情况下软件会按照自己的方式对坐标轴的项目进行排序，然而这种排序往往不是我们所希望的，因此需要想办法让坐标轴的项目按照我们希望的顺序输出。</p>\n<span id=\"more\"></span>\n<p>如下所示，我有两列数据，要绘制箱线图，以第一列为 Y 轴，第二列为 X 轴，希望 X 轴的输出顺序按照第二列由上到下排列。</br></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">size    <span class=\"token builtin class-name\">type</span>\n<span class=\"token number\">6.612309456</span>    T-8\n<span class=\"token number\">5.878857613</span>    T-10\n<span class=\"token number\">6.724282265</span>    T-15\n<span class=\"token number\">5.68136692</span>    T-56\n<span class=\"token number\">5.863334656</span>    T-1723<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p></br>然而软件输出的顺序如下：</br></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">T-10    T-15    T-1723    T-56    T-8<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>解决方案：</br></p>\n<p>通过一个因子事先自定义 X 轴顺序，作图命令如下：</br></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#读入数据</span>\ngsize <span class=\"token operator\">&lt;</span>- read.delim<span class=\"token punctuation\">(</span><span class=\"token string\">\"gsize.txt\"</span>, <span class=\"token assign-left variable\">header</span><span class=\"token operator\">=</span>TRUE, <span class=\"token assign-left variable\">sep</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token entity\" title=\"\\t\">\\t</span>\"</span>, <span class=\"token assign-left variable\">stringsAsFactors</span><span class=\"token operator\">=</span>FALSE<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#自定义X轴顺序</span>\nx1 <span class=\"token operator\">=</span> factor<span class=\"token punctuation\">(</span>gsize<span class=\"token variable\">$type</span>, <span class=\"token assign-left variable\">levels</span><span class=\"token operator\">=</span>c<span class=\"token punctuation\">(</span><span class=\"token string\">\"T-8\"</span>,<span class=\"token string\">\"T-10\"</span>,<span class=\"token string\">\"T-15\"</span>,<span class=\"token string\">\"T-56\"</span>,<span class=\"token string\">\"T-1723\"</span><span class=\"token punctuation\">))</span>\n<span class=\"token comment\">#用x1代替gsize$type绘图</span>\nboxplot<span class=\"token punctuation\">(</span>size~x1, <span class=\"token assign-left variable\">data</span><span class=\"token operator\">=</span>gsize, <span class=\"token assign-left variable\">xlab</span><span class=\"token operator\">=</span><span class=\"token string\">\"Sequence Type\"</span>, <span class=\"token assign-left variable\">ylab</span><span class=\"token operator\">=</span><span class=\"token string\">\"Genome Size\"</span>, <span class=\"token assign-left variable\">varwidth</span><span class=\"token operator\">=</span>TRUE, <span class=\"token assign-left variable\">notch</span><span class=\"token operator\">=</span>FALSE<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p></br>至此，X 轴各项目会按照我们自定义的顺序排列。</p>\n","more":"<p>如下所示，我有两列数据，要绘制箱线图，以第一列为 Y 轴，第二列为 X 轴，希望 X 轴的输出顺序按照第二列由上到下排列。</br></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">size    <span class=\"token builtin class-name\">type</span>\n<span class=\"token number\">6.612309456</span>    T-8\n<span class=\"token number\">5.878857613</span>    T-10\n<span class=\"token number\">6.724282265</span>    T-15\n<span class=\"token number\">5.68136692</span>    T-56\n<span class=\"token number\">5.863334656</span>    T-1723<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p></br>然而软件输出的顺序如下：</br></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\">T-10    T-15    T-1723    T-56    T-8<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>解决方案：</br></p>\n<p>通过一个因子事先自定义 X 轴顺序，作图命令如下：</br></p>\n<pre class=\"line-numbers language-bash\" data-language=\"bash\"><code class=\"language-bash\"><span class=\"token comment\">#读入数据</span>\ngsize <span class=\"token operator\">&lt;</span>- read.delim<span class=\"token punctuation\">(</span><span class=\"token string\">\"gsize.txt\"</span>, <span class=\"token assign-left variable\">header</span><span class=\"token operator\">=</span>TRUE, <span class=\"token assign-left variable\">sep</span><span class=\"token operator\">=</span><span class=\"token string\">\"<span class=\"token entity\" title=\"\\t\">\\t</span>\"</span>, <span class=\"token assign-left variable\">stringsAsFactors</span><span class=\"token operator\">=</span>FALSE<span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#自定义X轴顺序</span>\nx1 <span class=\"token operator\">=</span> factor<span class=\"token punctuation\">(</span>gsize<span class=\"token variable\">$type</span>, <span class=\"token assign-left variable\">levels</span><span class=\"token operator\">=</span>c<span class=\"token punctuation\">(</span><span class=\"token string\">\"T-8\"</span>,<span class=\"token string\">\"T-10\"</span>,<span class=\"token string\">\"T-15\"</span>,<span class=\"token string\">\"T-56\"</span>,<span class=\"token string\">\"T-1723\"</span><span class=\"token punctuation\">))</span>\n<span class=\"token comment\">#用x1代替gsize$type绘图</span>\nboxplot<span class=\"token punctuation\">(</span>size~x1, <span class=\"token assign-left variable\">data</span><span class=\"token operator\">=</span>gsize, <span class=\"token assign-left variable\">xlab</span><span class=\"token operator\">=</span><span class=\"token string\">\"Sequence Type\"</span>, <span class=\"token assign-left variable\">ylab</span><span class=\"token operator\">=</span><span class=\"token string\">\"Genome Size\"</span>, <span class=\"token assign-left variable\">varwidth</span><span class=\"token operator\">=</span>TRUE, <span class=\"token assign-left variable\">notch</span><span class=\"token operator\">=</span>FALSE<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p></br>至此，X 轴各项目会按照我们自定义的顺序排列。</p>","categories":[{"name":"可视化","path":"api/categories/可视化.json"}],"tags":[{"name":"R语言","path":"api/tags/R语言.json"},{"name":"绘图","path":"api/tags/绘图.json"}]}