{"title":"Perl处理可恶的Windows换行符","slug":"Perl处理可恶的Windows换行符","date":"2021-09-27T12:13:15.000Z","updated":"2022-01-08T02:16:28.410Z","comments":true,"path":"api/articles/Perl处理可恶的Windows换行符.json","excerpt":null,"covers":null,"content":"<p>每次在 Windows 下运行 Perl，或者通过 Perl 处理 Windows 系统生成的文件时，行尾总会有隐藏的换行符删不掉，chomp 毛用都没有。处理后的文件在文本阅读器如 TXT、EditPlus 等中是看不到换行符的，然而当将文本内容拷贝到 Excel 表格中时，明明应该在一行的内容却变成了两行，这便是隐藏的换行符在捣鬼。疑惑、愤怒、迷茫的情绪交织在一起，伴随着一声声的 “哪儿错了” 却不知所措，其实只要通过下面一句代码干掉那些隐藏的换行符就万事大吉了。</p>\n<pre class=\"line-numbers language-perl\" data-language=\"perl\"><code class=\"language-perl\"><span class=\"token variable\">$_</span><span class=\"token operator\">=~</span><span class=\"token regex\">s/[\\n\\r]+$//</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>上述命令表示通过查找替换的方式去除当前行末尾的所有换行符。</p>\n","more":"<p>每次在 Windows 下运行 Perl，或者通过 Perl 处理 Windows 系统生成的文件时，行尾总会有隐藏的换行符删不掉，chomp 毛用都没有。处理后的文件在文本阅读器如 TXT、EditPlus 等中是看不到换行符的，然而当将文本内容拷贝到 Excel 表格中时，明明应该在一行的内容却变成了两行，这便是隐藏的换行符在捣鬼。疑惑、愤怒、迷茫的情绪交织在一起，伴随着一声声的 “哪儿错了” 却不知所措，其实只要通过下面一句代码干掉那些隐藏的换行符就万事大吉了。</p>\n<pre class=\"line-numbers language-perl\" data-language=\"perl\"><code class=\"language-perl\"><span class=\"token variable\">$_</span><span class=\"token operator\">=~</span><span class=\"token regex\">s/[\\n\\r]+$//</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p>上述命令表示通过查找替换的方式去除当前行末尾的所有换行符。</p>\n","categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"perl","path":"api/tags/perl.json"},{"name":"编程","path":"api/tags/编程.json"}]}