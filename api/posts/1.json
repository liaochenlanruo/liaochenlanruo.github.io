{"total":129,"pageSize":10,"pageCount":13,"data":[{"title":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”12-Tidy evaluation","slug":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”12-Tidy-evaluation","date":"2024-04-27T12:58:06.000Z","updated":"2024-04-27T12:59:49.755Z","comments":true,"path":"api/articles/Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”12-Tidy-evaluation.json","excerpt":null,"keywords":null,"cover":"https://d33wubrfki0l68.cloudfront.net/2c131334332cadef7ec2b3e3bdf32689f3f1ebc6/f6143/demos/action-tidy/messed-up.png","content":"<h1 id=\"æ•´æ´è¯„ä¼°\"><a href=\"#æ•´æ´è¯„ä¼°\" class=\"headerlink\" title=\"æ•´æ´è¯„ä¼°\"></a>æ•´æ´è¯„ä¼°</h1><p>å¦‚æœä½ åœ¨ä½¿ç”¨Shinyä¸tidyverseï¼Œé‚£ä¹ˆä½ å‡ ä¹è‚¯å®šä¼šé‡åˆ°æ•´æ´è¯„ä¼°ç¼–ç¨‹çš„æŒ‘æˆ˜ã€‚æ•´æ´è¯„ä¼°åœ¨tidyverseä¸­è¢«å¹¿æ³›ä½¿ç”¨ï¼Œä½¿äº¤äº’å¼æ•°æ®æ¢ç´¢æ›´åŠ æµç•…ï¼Œä½†å®ƒä¹Ÿæœ‰ä»£ä»·ï¼šå¾ˆéš¾é—´æ¥å¼•ç”¨å˜é‡ï¼Œå› æ­¤ç¼–ç¨‹èµ·æ¥ä¹Ÿæ›´åŠ å›°éš¾ã€‚</p>\n<p>åœ¨æœ¬ç« ä¸­ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•åœ¨Shinyåº”ç”¨ç¨‹åºä¸­åŒ…è£…ggplot2å’Œdplyrå‡½æ•°ã€‚ï¼ˆå¦‚æœä½ ä¸ä½¿ç”¨tidyverseï¼Œé‚£ä¹ˆå¯ä»¥è·³è¿‡è¿™ä¸€ç« ğŸ˜„ã€‚ï¼‰å°†ggplot2å’Œdplyrå‡½æ•°åŒ…è£…åœ¨å‡½æ•°å’ŒåŒ…ä¸­çš„æŠ€æœ¯ç•¥æœ‰ä¸åŒï¼Œå¹¶ä¸”åœ¨å…¶ä»–èµ„æºå¦‚<a href=\"http://ggplot2.tidyverse.org/dev/articles/ggplot2-in-packages.html\">â€œåœ¨åŒ…ä¸­ä½¿ç”¨ggplot2â€</a>æˆ–<a href=\"http://dplyr.tidyverse.org/articles/programming.html\">â€œä½¿ç”¨dplyrç¼–ç¨‹â€</a>ä¸­æœ‰æ‰€æ¶µç›–ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>shiny<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>dplyr<span class=\"punctuation\">,</span> warn.conflicts <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>ggplot2<span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"12-1-åŠ¨æœº\"><a href=\"#12-1-åŠ¨æœº\" class=\"headerlink\" title=\"12.1 åŠ¨æœº\"></a>12.1 åŠ¨æœº</h2><p>å‡è®¾æˆ‘æƒ³åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå…è®¸ä½ è¿‡æ»¤ä¸€ä¸ªæ•°å€¼å˜é‡ï¼Œä»¥é€‰æ‹©å¤§äºæŸä¸ªé˜ˆå€¼çš„è¡Œã€‚ä½ å¯èƒ½ä¼šå†™å‡ºç±»ä¼¼è¿™æ ·çš„ä»£ç ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">num_vars <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;carat&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;depth&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;table&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;price&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;x&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;y&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;z&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;var&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Variable&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> num_vars<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;min&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Minimum&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;output&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  data <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span>diamonds <span class=\"operator\">%&gt;%</span> filter<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>var <span class=\"operator\">&gt;</span> input<span class=\"operator\">$</span><span class=\"built_in\">min</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>output <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span>head<span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/2c131334332cadef7ec2b3e3bdf32689f3f1ebc6/f6143/demos/action-tidy/messed-up.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/2c131334332cadef7ec2b3e3bdf32689f3f1ebc6/f6143/demos/action-tidy/messed-up.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾12.1 ä¸€ä¸ªåº”ç”¨ç¨‹åºè¯•å›¾é€‰æ‹©ç”¨æˆ·é€‰å®šå˜é‡ä¸­å¤§äºé˜ˆå€¼çš„è¡Œ\"></p>\n<p>ä»<code>å›¾12.1</code>ä¸­ä½ å¯ä»¥çœ‹åˆ°ï¼Œè¯¥åº”ç”¨ç¨‹åºå¯ä»¥æ— é”™è¯¯åœ°è¿è¡Œï¼Œä½†å®ƒå¹¶æ²¡æœ‰è¿”å›æ­£ç¡®çš„ç»“æœâ€”â€”æ‰€æœ‰çš„è¡Œä¸­ï¼Œé’»çŸ³çš„å‡€é‡ï¼ˆ<code>carat</code>ï¼‰å€¼éƒ½å°äº1ã€‚æœ¬ç« çš„ç›®æ ‡æ˜¯å¸®åŠ©ä½ ç†è§£ä¸ºä»€ä¹ˆè¿™ä¸èµ·ä½œç”¨ï¼Œä»¥åŠä¸ºä»€ä¹ˆdplyrè®¤ä¸ºä½ è¯·æ±‚çš„æ˜¯<code>filter(diamonds, &quot;carat&quot; &gt; 1)</code>ã€‚</p>\n<p>è¿™æ˜¯ä¸€ä¸ª<code>é—´æ¥å¼•ç”¨</code>çš„é—®é¢˜ï¼šé€šå¸¸åœ¨ä½¿ç”¨tidyverseå‡½æ•°æ—¶ï¼Œä½ ä¼šç›´æ¥åœ¨å‡½æ•°è°ƒç”¨ä¸­è¾“å…¥å˜é‡çš„åç§°ã€‚ä½†ç°åœ¨ä½ æƒ³è¦é—´æ¥å¼•ç”¨å®ƒï¼šå˜é‡ï¼ˆ<code>carat</code>ï¼‰å­˜å‚¨åœ¨å¦ä¸€ä¸ªå˜é‡ï¼ˆ<code>input$var</code>ï¼‰ä¸­ã€‚</p>\n<p>è¿™å¥è¯å¯èƒ½å¯¹ä½ æ¥è¯´å¾ˆç›´è§‚ï¼Œä½†æœ‰ç‚¹ä»¤äººå›°æƒ‘ï¼Œå› ä¸ºæˆ‘åœ¨è¿™é‡Œç”¨â€œå˜é‡â€æ¥æŒ‡ä»£ä¸¤ç§ç•¥æœ‰ä¸åŒçš„äº‹ç‰©ã€‚å¦‚æœæˆ‘ä»¬å¼•å…¥ä¸¤ä¸ªæ–°æœ¯è¯­æ¥æ¶ˆé™¤è¿™ä¸¤ç§ç”¨æ³•ä¹‹é—´çš„æ­§ä¹‰ï¼Œé‚£ä¹ˆç†è§£æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ä¼šæ›´å®¹æ˜“ï¼š</p>\n<ul>\n<li><p>ç¯å¢ƒå˜é‡ï¼ˆ<strong>env-variable</strong>ï¼‰æ˜¯ä¸€ä¸ªâ€œç¼–ç¨‹â€å˜é‡ï¼Œä½ ç”¨<code>&lt;-</code>æ¥åˆ›å»ºã€‚<code>input$var</code>æ˜¯ä¸€ä¸ªç¯å¢ƒå˜é‡ã€‚</p>\n</li>\n<li><p>æ•°æ®å˜é‡ï¼ˆ<strong>data-variable</strong>ï¼‰æ˜¯å­˜å‚¨åœ¨æ•°æ®æ¡†ä¸­çš„â€œç»Ÿè®¡â€å˜é‡ã€‚<code>carat</code>æ˜¯ä¸€ä¸ªæ•°æ®å˜é‡ã€‚</p>\n</li>\n</ul>\n<p>æœ‰äº†è¿™äº›æ–°æœ¯è¯­ï¼Œæˆ‘ä»¬å¯ä»¥æ›´æ¸…æ¥šåœ°é˜è¿°é—´æ¥å¼•ç”¨çš„é—®é¢˜ï¼šæˆ‘ä»¬æœ‰ä¸€ä¸ªæ•°æ®å˜é‡ï¼ˆ<code>carat</code>ï¼‰å­˜å‚¨åœ¨ä¸€ä¸ªç¯å¢ƒå˜é‡ï¼ˆ<code>input$var</code>ï¼‰ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•æ¥å‘Šè¯‰dplyrè¿™ä¸€ç‚¹ã€‚æ ¹æ®ä½ æ‰€ä½¿ç”¨çš„å‡½æ•°æ˜¯â€œæ•°æ®æ©è”½â€å‡½æ•°è¿˜æ˜¯â€œæ•´æ´é€‰æ‹©â€å‡½æ•°ï¼Œå®ç°è¿™ä¸€ç‚¹çš„æ–¹æ³•ç•¥æœ‰ä¸åŒã€‚</p>\n<h2 id=\"12-2-æ•°æ®æ©è”½\"><a href=\"#12-2-æ•°æ®æ©è”½\" class=\"headerlink\" title=\"12.2 æ•°æ®æ©è”½\"></a>12.2 æ•°æ®æ©è”½</h2><p>æ•°æ®æ©è”½å‡½æ•°å…è®¸ä½ åœ¨â€œå½“å‰â€æ•°æ®æ¡†ä¸­ä½¿ç”¨å˜é‡ï¼Œè€Œæ— éœ€ä»»ä½•é¢å¤–çš„è¯­æ³•ã€‚å®ƒåœ¨è®¸å¤šdplyrå‡½æ•°ï¼ˆå¦‚<a href=\"https://dplyr.tidyverse.org/reference/arrange.html\">arrange()</a>ã€<a href=\"https://dplyr.tidyverse.org/reference/filter.html\">filter()</a>ã€<a href=\"https://dplyr.tidyverse.org/reference/group_by.html\">group_by()</a>ã€<a href=\"https://dplyr.tidyverse.org/reference/mutate.html\">mutate()</a>å’Œ<a href=\"https://dplyr.tidyverse.org/reference/summarise.html\">summarise()</a>ï¼‰ä»¥åŠggplot2çš„<a href=\"https://ggplot2.tidyverse.org/reference/aes.html\">aes()</a>ä¸­ä½¿ç”¨ã€‚æ•°æ®æ©è”½å¾ˆæœ‰ç”¨ï¼Œå› ä¸ºå®ƒå…è®¸ä½ ä½¿ç”¨æ•°æ®å˜é‡ï¼Œè€Œæ— éœ€ä»»ä½•é¢å¤–çš„è¯­æ³•ã€‚</p>\n<h3 id=\"12-2-1-å¼€å§‹\"><a href=\"#12-2-1-å¼€å§‹\" class=\"headerlink\" title=\"12.2.1 å¼€å§‹\"></a>12.2.1 å¼€å§‹</h3><p>è®©æˆ‘ä»¬ä»è°ƒç”¨<code>filter()</code>å‡½æ•°å¼€å§‹ï¼Œå®ƒä½¿ç”¨äº†ä¸€ä¸ªæ•°æ®å˜é‡ï¼ˆ<code>carat</code>ï¼‰å’Œä¸€ä¸ªç¯å¢ƒå˜é‡ï¼ˆ<code>min</code>ï¼‰ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">min</span> <span class=\"operator\">&lt;-</span> 1</span><br><span class=\"line\">diamonds <span class=\"operator\">%&gt;%</span> filter<span class=\"punctuation\">(</span>carat <span class=\"operator\">&gt;</span> <span class=\"built_in\">min</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 17,502 Ã— 10</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   carat cut       color clarity depth table price     x     y     z</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   &lt;dbl&gt; &lt;ord&gt;     &lt;ord&gt; &lt;ord&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1  1.17 Very Good J     I1       60.2    61  2774  6.83  6.9   4.13</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2  1.01 Premium   F     I1       61.8    60  2781  6.39  6.36  3.94</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3  1.01 Fair      E     I1       64.5    58  2788  6.29  6.21  4.03</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 4  1.01 Premium   H     SI2      62.7    59  2788  6.31  6.22  3.93</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 5  1.05 Very Good J     SI2      63.2    56  2789  6.49  6.45  4.09</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 6  1.05 Fair      J     SI2      65.8    59  2789  6.41  6.27  4.18</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 17,496 more rows</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸åŸºç¡€Rçš„ç­‰æ•ˆä»£ç è¿›è¡Œæ¯”è¾ƒï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">diamonds<span class=\"punctuation\">[</span>diamonds<span class=\"operator\">$</span>carat <span class=\"operator\">&gt;</span> <span class=\"built_in\">min</span><span class=\"punctuation\">,</span> <span class=\"punctuation\">]</span></span><br></pre></td></tr></table></figure>\n<p>åœ¨å¤§å¤šæ•°ï¼ˆä½†ä¸æ˜¯å…¨éƒ¨ï¼‰åŸºç¡€Rå‡½æ•°ä¸­ï¼Œä½ éœ€è¦ä½¿ç”¨<code>$</code>æ¥å¼•ç”¨æ•°æ®å˜é‡ã€‚è¿™æ„å‘³ç€ä½ ç»å¸¸éœ€è¦å¤šæ¬¡é‡å¤æ•°æ®æ¡†çš„åç§°ï¼Œä½†è¿™ç¡®å®æ¸…æ¥šåœ°è¡¨æ˜äº†ä»€ä¹ˆæ˜¯æ•°æ®å˜é‡ï¼Œä»€ä¹ˆæ˜¯ç¯å¢ƒå˜é‡ã€‚è¿™ä¹Ÿä½¿å¾—é—´æ¥å¼•ç”¨å˜å¾—ç›´æ¥æ˜äº†ï¼Œå› ä¸ºä½ å¯ä»¥å°†æ•°æ®å˜é‡çš„åç§°å­˜å‚¨åœ¨ä¸€ä¸ªç¯å¢ƒå˜é‡ä¸­ï¼Œç„¶åä»<code>$</code>åˆ‡æ¢åˆ°<code>[[</code>ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var <span class=\"operator\">&lt;-</span> <span class=\"string\">&quot;carat&quot;</span></span><br><span class=\"line\">diamonds<span class=\"punctuation\">[</span>diamonds<span class=\"punctuation\">[[</span>var<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span> <span class=\"operator\">&gt;</span> <span class=\"built_in\">min</span><span class=\"punctuation\">,</span> <span class=\"punctuation\">]</span></span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬å¦‚ä½•ä½¿ç”¨æ•´æ´è¯„ä¼°æ¥è¾¾åˆ°ç›¸åŒçš„æ•ˆæœå‘¢ï¼Ÿæˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•å°†<code>$</code>é‡æ–°åŠ å…¥è¿›æ¥ã€‚å¹¸è¿çš„æ˜¯ï¼Œåœ¨æ•°æ®æ©è”½å‡½æ•°ä¸­ï¼Œå¦‚æœä½ æƒ³æ˜ç¡®è¡¨ç¤ºä½ æ˜¯åœ¨è°ˆè®ºæ•°æ®å˜é‡è¿˜æ˜¯ç¯å¢ƒå˜é‡ï¼Œä½ å¯ä»¥ä½¿ç”¨<code>.data</code>æˆ–<code>.env</code>ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">diamonds <span class=\"operator\">%&gt;%</span> filter<span class=\"punctuation\">(</span>.data<span class=\"operator\">$</span>carat <span class=\"operator\">&gt;</span> .env<span class=\"operator\">$</span><span class=\"built_in\">min</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥ä»$åˆ‡æ¢åˆ°[[ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">diamonds <span class=\"operator\">%&gt;%</span> filter<span class=\"punctuation\">(</span>.data<span class=\"punctuation\">[[</span>var<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span> <span class=\"operator\">&gt;</span> .env<span class=\"operator\">$</span><span class=\"built_in\">min</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<p>è®©æˆ‘ä»¬é€šè¿‡æ›´æ–°æœ¬ç« å¼€å§‹æ—¶ä½¿ç”¨çš„æœåŠ¡å™¨å‡½æ•°æ¥æ£€æŸ¥å®ƒæ˜¯å¦æœ‰æ•ˆï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">num_vars <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;carat&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;depth&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;table&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;price&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;x&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;y&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;z&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;var&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Variable&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> num_vars<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;min&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Minimum&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;output&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  data <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span>diamonds <span class=\"operator\">%&gt;%</span> filter<span class=\"punctuation\">(</span>.data<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span> <span class=\"operator\">&gt;</span> .env<span class=\"operator\">$</span>input<span class=\"operator\">$</span><span class=\"built_in\">min</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>output <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span>head<span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/878d4b65fc1671d180c91732193924ce2f3b3ea8/ca76b/demos/action-tidy/tidied-up.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/878d4b65fc1671d180c91732193924ce2f3b3ea8/ca76b/demos/action-tidy/tidied-up.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾12.2 æˆ‘ä»¬çš„åº”ç”¨ç°åœ¨è¿è¡Œè‰¯å¥½ï¼Œå› ä¸ºæˆ‘ä»¬æ˜ç¡®äº†.dataå’Œ.envä»¥åŠ[[ä¸$çš„åŒºåˆ«ã€‚è¯·è®¿é—®https://hadley.shinyapps.io/ms-tidied-upæŸ¥çœ‹å®æ—¶æ•ˆæœ\"></p>\n<p><code>å›¾12.2</code>æ˜¾ç¤ºæˆ‘ä»¬å·²ç»æˆåŠŸäº†â€”â€”æˆ‘ä»¬åªçœ‹åˆ°å…‹æ‹‰å€¼å¤§äº1çš„é’»çŸ³ã€‚ç°åœ¨ä½ å·²ç»äº†è§£äº†åŸºç¡€çŸ¥è¯†ï¼Œæˆ‘ä»¬å°†å¼€å‘å‡ ä¸ªæ›´ç°å®ä½†ä»ç„¶ç®€å•çš„Shinyåº”ç”¨ã€‚</p>\n<h3 id=\"12-2-2-ç¤ºä¾‹ï¼šggplot2\"><a href=\"#12-2-2-ç¤ºä¾‹ï¼šggplot2\" class=\"headerlink\" title=\"12.2.2 ç¤ºä¾‹ï¼šggplot2\"></a>12.2.2 ç¤ºä¾‹ï¼šggplot2</h3><p>è®©æˆ‘ä»¬å°†è¿™ä¸ªæƒ³æ³•åº”ç”¨äºåŠ¨æ€ç»˜å›¾ï¼Œå…è®¸ç”¨æˆ·é€šè¿‡é€‰æ‹©è¦åœ¨<code>x</code>è½´å’Œ<code>y</code>è½´ä¸Šæ˜¾ç¤ºçš„å˜é‡æ¥åˆ›å»ºæ•£ç‚¹å›¾ã€‚ç»“æœå¦‚<code>å›¾12.3</code>æ‰€ç¤ºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;x&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;X variable&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>iris<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;y&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Y variable&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>iris<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;plot&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>plot <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    ggplot<span class=\"punctuation\">(</span>iris<span class=\"punctuation\">,</span> aes<span class=\"punctuation\">(</span>.data<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>x<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> .data<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>y<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span></span><br><span class=\"line\">      geom_point<span class=\"punctuation\">(</span>position <span class=\"operator\">=</span> ggforce<span class=\"operator\">::</span>position_auto<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<table>\n<tr>\n<td><img src=\"https://d33wubrfki0l68.cloudfront.net/9defdeb8a9d4c779898f02f540feb95283b62c65/23a54/demos/action-tidy/ggplot2-scatter.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/9defdeb8a9d4c779898f02f540feb95283b62c65/23a54/demos/action-tidy/ggplot2-scatter.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\"></td>\n<td><img src=\"https://d33wubrfki0l68.cloudfront.net/74cf9f3e211b5f2430a03a5c960da0ab63a1e29e/41abe/demos/action-tidy/ggplot2-swarm.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/74cf9f3e211b5f2430a03a5c960da0ab63a1e29e/41abe/demos/action-tidy/ggplot2-swarm.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\"></td>\n</tr>\n<tr>\n<td colspan=\"2\">å›¾12.3 ä¸€ä¸ªç®€å•çš„åº”ç”¨ç¨‹åºï¼Œå…è®¸æ‚¨é€‰æ‹©è¦åœ¨xè½´å’Œyè½´ä¸Šç»˜åˆ¶çš„å˜é‡ã€‚è¯·è®¿é—®<a href=\"https://hadley.shinyapps.io/ms-ggplot2\">https://hadley.shinyapps.io/ms-ggplot2</a>æŸ¥çœ‹å®æ—¶æ•ˆæœ</td>\n</tr>\n</table>\n\n<p>è¿™é‡Œæˆ‘ä½¿ç”¨äº†<a href=\"https://ggforce.data-imaginist.com/reference/position_auto.html\">ggforce::position_auto()</a>ï¼Œè¿™æ ·æ— è®ºxå’Œyå˜é‡æ˜¯è¿ç»­çš„è¿˜æ˜¯ç¦»æ•£çš„ï¼Œ<a href=\"https://ggplot2.tidyverse.org/reference/geom_point.html\">geom_point()</a>éƒ½èƒ½å¾ˆå¥½åœ°å·¥ä½œã€‚æˆ–è€…ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥è®©ç”¨æˆ·é€‰æ‹©geomã€‚ä¸‹é¢çš„åº”ç”¨ç¨‹åºä½¿ç”¨<a href=\"https://rdrr.io/r/base/switch.html\">switch()</a>è¯­å¥ç”Ÿæˆä¸€ä¸ªååº”æ€§çš„geomï¼Œç¨åä¼šå°†å…¶æ·»åŠ åˆ°å›¾ä¸­ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;x&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;X variable&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>iris<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;y&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Y variable&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>iris<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;geom&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;geom&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;point&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;smooth&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;jitter&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;plot&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  plot_geom <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"built_in\">switch</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>geom<span class=\"punctuation\">,</span></span><br><span class=\"line\">      point <span class=\"operator\">=</span> geom_point<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      smooth <span class=\"operator\">=</span> geom_smooth<span class=\"punctuation\">(</span>se <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      jitter <span class=\"operator\">=</span> geom_jitter<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>plot <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    ggplot<span class=\"punctuation\">(</span>iris<span class=\"punctuation\">,</span> aes<span class=\"punctuation\">(</span>.data<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>x<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> .data<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>y<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span></span><br><span class=\"line\">      plot_geom<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ˜¯ä½¿ç”¨ç”¨æˆ·é€‰æ‹©çš„å˜é‡è¿›è¡Œç¼–ç¨‹æ—¶é¢ä¸´çš„æŒ‘æˆ˜ä¹‹ä¸€ï¼šä½ çš„ä»£ç å¿…é¡»å˜å¾—æ›´åŠ å¤æ‚ï¼Œä»¥å¤„ç†ç”¨æˆ·å¯èƒ½ç”Ÿæˆçš„æ‰€æœ‰æƒ…å†µã€‚</p>\n<h3 id=\"12-2-3-ç¤ºä¾‹ï¼šdplyr\"><a href=\"#12-2-3-ç¤ºä¾‹ï¼šdplyr\" class=\"headerlink\" title=\"12.2.3 ç¤ºä¾‹ï¼šdplyr\"></a>12.2.3 ç¤ºä¾‹ï¼šdplyr</h3><p>åŒæ ·çš„æŠ€æœ¯ä¹Ÿé€‚ç”¨äºdplyrã€‚ä¸‹é¢çš„åº”ç”¨ç¨‹åºæ‰©å±•äº†å‰é¢ç®€å•çš„ç¤ºä¾‹ï¼Œå…è®¸æ‚¨é€‰æ‹©ä¸€ä¸ªå˜é‡è¿›è¡Œè¿‡æ»¤ï¼Œé€‰æ‹©ä¸€ä¸ªæœ€å°å€¼è¿›è¡Œé€‰æ‹©ï¼Œä»¥åŠé€‰æ‹©ä¸€ä¸ªå˜é‡è¿›è¡Œæ’åºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;var&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Select variable&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;min&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Minimum value&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">100</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;sort&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Sort by&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;data&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    rng <span class=\"operator\">&lt;-</span> <span class=\"built_in\">range</span><span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    updateSliderInput<span class=\"punctuation\">(</span></span><br><span class=\"line\">      session<span class=\"punctuation\">,</span> <span class=\"string\">&quot;min&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">      value <span class=\"operator\">=</span> rng<span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">      <span class=\"built_in\">min</span> <span class=\"operator\">=</span> rng<span class=\"punctuation\">[[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">      <span class=\"built_in\">max</span> <span class=\"operator\">=</span> rng<span class=\"punctuation\">[[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>data <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    mtcars <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">      filter<span class=\"punctuation\">(</span>.data<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span> <span class=\"operator\">&gt;</span> input<span class=\"operator\">$</span><span class=\"built_in\">min</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">      arrange<span class=\"punctuation\">(</span>.data<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>sort<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/4b67467c8ad6e40cb3fffad24222564bf4858788/ae5b1/demos/action-tidy/dplyr.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/4b67467c8ad6e40cb3fffad24222564bf4858788/ae5b1/demos/action-tidy/dplyr.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾12.4 ä¸€ä¸ªç®€å•çš„åº”ç”¨ç¨‹åºï¼Œå…è®¸æ‚¨é€‰æ‹©ä¸€ä¸ªå˜é‡ä½œä¸ºé˜ˆå€¼ï¼Œå¹¶é€‰æ‹©å¦‚ä½•å¯¹ç»“æœè¿›è¡Œæ’åºã€‚è¯·è®¿é—®https://hadley.shinyapps.io/ms-dplyr/æŸ¥çœ‹å®æ—¶æ•ˆæœ\"></p>\n<p>å¤§å¤šæ•°å…¶ä»–é—®é¢˜éƒ½å¯ä»¥é€šè¿‡ç»“åˆ<code>.data</code>å’Œæ‚¨çš„ç°æœ‰ç¼–ç¨‹æŠ€èƒ½æ¥è§£å†³ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æƒ³è¦æ¡ä»¶æ€§åœ°ä»¥å‡åºæˆ–é™åºè¿›è¡Œæ’åºï¼Œåº”è¯¥æ€ä¹ˆåšå‘¢ï¼Ÿ</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;var&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Sort by&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  checkboxInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;desc&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Descending order?&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;data&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  sorted <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>desc<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      arrange<span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">,</span> desc<span class=\"punctuation\">(</span>.data<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span> <span class=\"keyword\">else</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      arrange<span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">,</span> .data<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>data <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span>sorted<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>éšç€ä½ æä¾›æ›´å¤šæ§åˆ¶é€‰é¡¹ï¼Œä½ ä¼šå‘ç°ä»£ç å˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼ŒåŒæ—¶åˆ›å»ºä¸€ä¸ªæ—¢å…¨é¢åˆå‹å¥½çš„ç”¨æˆ·ç•Œé¢ä¹Ÿå˜å¾—è¶Šæ¥è¶Šéš¾ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä¸€ç›´ä¸“æ³¨äºæ•°æ®åˆ†æçš„ä»£ç å·¥å…·ï¼šåˆ›å»ºå¥½çš„ç”¨æˆ·ç•Œé¢çœŸçš„éå¸¸éš¾ï¼</p>\n<h3 id=\"12-2-4-ç”¨æˆ·æä¾›çš„æ•°æ®\"><a href=\"#12-2-4-ç”¨æˆ·æä¾›çš„æ•°æ®\" class=\"headerlink\" title=\"12.2.4 ç”¨æˆ·æä¾›çš„æ•°æ®\"></a>12.2.4 ç”¨æˆ·æä¾›çš„æ•°æ®</h3><p>åœ¨ç»§ç»­è®¨è®ºæ•´æ´é€‰æ‹©ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦è®¨è®ºæœ€åä¸€ä¸ªè¯é¢˜ï¼šç”¨æˆ·æä¾›çš„æ•°æ®ã€‚ä»¥<code>å›¾12.5</code>ä¸­æ˜¾ç¤ºçš„è¿™ä¸ªåº”ç”¨ç¨‹åºä¸ºä¾‹ï¼šå®ƒå…è®¸ç”¨æˆ·ä¸Šä¼ ä¸€ä¸ªtsvæ–‡ä»¶ï¼Œç„¶åé€‰æ‹©ä¸€ä¸ªå˜é‡å¹¶æ ¹æ®è¯¥å˜é‡è¿›è¡Œç­›é€‰ã€‚å®ƒé€‚ç”¨äºç»å¤§å¤šæ•°ä½ å¯èƒ½ä¼šå°è¯•çš„è¾“å…¥ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  fileInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;data&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;dataset&quot;</span><span class=\"punctuation\">,</span> accept <span class=\"operator\">=</span> <span class=\"string\">&quot;.tsv&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;var&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;var&quot;</span><span class=\"punctuation\">,</span> character<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;min&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;min&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> step <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;output&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  data <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    req<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>data<span class=\"punctuation\">)</span></span><br><span class=\"line\">    vroom<span class=\"operator\">::</span>vroom<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>data<span class=\"operator\">$</span>datapath<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    updateSelectInput<span class=\"punctuation\">(</span>session<span class=\"punctuation\">,</span> <span class=\"string\">&quot;var&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    val <span class=\"operator\">&lt;-</span> data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">    updateNumericInput<span class=\"punctuation\">(</span>session<span class=\"punctuation\">,</span> <span class=\"string\">&quot;min&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"built_in\">min</span><span class=\"punctuation\">(</span>val<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>output <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    req<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">)</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">      filter<span class=\"punctuation\">(</span>.data<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span> <span class=\"operator\">&gt;</span> input<span class=\"operator\">$</span><span class=\"built_in\">min</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">      arrange<span class=\"punctuation\">(</span>.data<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">      head<span class=\"punctuation\">(</span><span class=\"number\">10</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/a2b57fbb1d8a118a0410942708a051e92355b7a6/a504d/demos/action-tidy/user-supplied.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/a2b57fbb1d8a118a0410942708a051e92355b7a6/a504d/demos/action-tidy/user-supplied.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾12.5 ä¸€ä¸ªè¿‡æ»¤ç”¨æˆ·æä¾›çš„æ•°æ®çš„åº”ç”¨ç¨‹åºï¼Œå…·æœ‰ä»¤äººæƒŠè®¶çš„æ•…éšœæ¨¡å¼ã€‚è¯·è®¿é—®https://hadley.shinyapps.io/ms-user-supplied/æŸ¥çœ‹å®æ—¶æ•ˆæœ\"></p>\n<p>è¿™é‡Œä½¿ç”¨<a href=\"https://dplyr.tidyverse.org/reference/filter.html\">filter()</a>æœ‰ä¸€ä¸ªå¾®å¦™çš„é—®é¢˜ã€‚è®©æˆ‘ä»¬æŠŠå¯¹<code>filter()</code>çš„è°ƒç”¨æå–å‡ºæ¥ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¹‹å¤–ç›´æ¥æ“ä½œå®ƒï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df <span class=\"operator\">&lt;-</span> data.frame<span class=\"punctuation\">(</span>x <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> y <span class=\"operator\">=</span> <span class=\"number\">2</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">input <span class=\"operator\">&lt;-</span> <span class=\"built_in\">list</span><span class=\"punctuation\">(</span>var <span class=\"operator\">=</span> <span class=\"string\">&quot;x&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">df <span class=\"operator\">%&gt;%</span> filter<span class=\"punctuation\">(</span>.data<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span> <span class=\"operator\">&gt;</span> input<span class=\"operator\">$</span><span class=\"built_in\">min</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   x y</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1 1 2</span></span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœä½ è¯•éªŒè¿™æ®µä»£ç ï¼Œä½ ä¼šå‘ç°å®ƒå¯¹äºç»å¤§å¤šæ•°æ•°æ®æ¡†éƒ½èƒ½å¾ˆå¥½åœ°å·¥ä½œã€‚ç„¶è€Œï¼Œæœ‰ä¸€ä¸ªå¾®å¦™çš„é—®é¢˜ï¼šå¦‚æœæ•°æ®æ¡†ä¸­åŒ…å«ä¸€ä¸ªåä¸º<code>input</code>çš„å˜é‡ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df <span class=\"operator\">&lt;-</span> data.frame<span class=\"punctuation\">(</span>x <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> y <span class=\"operator\">=</span> <span class=\"number\">2</span><span class=\"punctuation\">,</span> input <span class=\"operator\">=</span> <span class=\"number\">3</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">df <span class=\"operator\">%&gt;%</span> filter<span class=\"punctuation\">(</span>.data<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span> <span class=\"operator\">&gt;</span> input<span class=\"operator\">$</span><span class=\"built_in\">min</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; Error in `filter()`:</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; ! Problem while computing `..1 = .data[[&quot;x&quot;]] &gt; input$min`.</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; Caused by error in `input$min`:</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; ! $ operator is invalid for atomic vectors</span></span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬æ”¶åˆ°ä¸€æ¡é”™è¯¯ä¿¡æ¯ï¼Œå› ä¸º<code>filter()</code>æ­£åœ¨å°è¯•è®¡ç®—<code>df$input$min</code>ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df<span class=\"operator\">$</span>input<span class=\"operator\">$</span><span class=\"built_in\">min</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; Error in df$input$min: $ operator is invalid for atomic vectors</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¸ªé—®é¢˜æ˜¯ç”±äºæ•°æ®å˜é‡å’Œç¯å¢ƒå˜é‡çš„æ­§ä¹‰é€ æˆçš„ï¼Œå¹¶ä¸”åœ¨ä¸¤è€…éƒ½å¯ç”¨æ—¶ï¼Œæ•°æ®æ©è”½æ›´å€¾å‘äºä½¿ç”¨æ•°æ®å˜é‡ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨<code>.env</code>æ¥å‘Šè¯‰<code>filter()</code>åªåœ¨ç¯å¢ƒå˜é‡ä¸­æŸ¥æ‰¾<code>min</code>æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df <span class=\"operator\">%&gt;%</span> filter<span class=\"punctuation\">(</span>.data<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span> <span class=\"operator\">&gt;</span> .env<span class=\"operator\">$</span>input<span class=\"operator\">$</span><span class=\"built_in\">min</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   x y input</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1 1 2     3</span></span><br></pre></td></tr></table></figure>\n\n<p>è¯·æ³¨æ„ï¼Œè¿™ä¸ªé—®é¢˜åªæœ‰åœ¨å¤„ç†ç”¨æˆ·æä¾›çš„æ•°æ®æ—¶æ‰éœ€è¦è€ƒè™‘ï¼›åœ¨å¤„ç†è‡ªå·±çš„æ•°æ®æ—¶ï¼Œä½ å¯ä»¥ç¡®ä¿æ•°æ®å˜é‡çš„åç§°ä¸ä¼šä¸ç¯å¢ƒå˜é‡çš„åç§°å†²çªï¼ˆå¦‚æœä¸å°å¿ƒå†²çªäº†ï¼Œä½ ä¼šç«‹åˆ»å‘ç°ï¼‰ã€‚</p>\n<h3 id=\"12-2-5-ä¸ºä»€ä¹ˆä¸ä½¿ç”¨åŸºç¡€Rï¼Ÿ\"><a href=\"#12-2-5-ä¸ºä»€ä¹ˆä¸ä½¿ç”¨åŸºç¡€Rï¼Ÿ\" class=\"headerlink\" title=\"12.2.5 ä¸ºä»€ä¹ˆä¸ä½¿ç”¨åŸºç¡€Rï¼Ÿ\"></a>12.2.5 ä¸ºä»€ä¹ˆä¸ä½¿ç”¨åŸºç¡€Rï¼Ÿ</h3><p>åˆ°è¿™æ—¶ï¼Œä½ å¯èƒ½ä¼šæƒ³ï¼Œå¦‚æœæ²¡æœ‰<code>filter()</code>å‡½æ•°ï¼Œä½¿ç”¨ç­‰æ•ˆçš„åŸºç¡€Rä»£ç ä¼šä¸ä¼šæ›´å¥½ï¼Ÿ</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">df<span class=\"punctuation\">[</span>df<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>var<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span> <span class=\"operator\">&gt;</span> input<span class=\"operator\">$</span><span class=\"built_in\">min</span><span class=\"punctuation\">,</span> <span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   x y input</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1 1 2     3</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ˜¯ä¸€ä¸ªå®Œå…¨åˆç†çš„ç«‹åœºï¼Œåªè¦ä½ æ„è¯†åˆ°<code>filter()</code>ä¸ºä½ åšçš„å·¥ä½œï¼Œä»¥ä¾¿ä½ èƒ½ç”Ÿæˆç­‰æ•ˆçš„åŸºç¡€Rä»£ç ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼š</p>\n<ul>\n<li><p>å¦‚æœdfåªåŒ…å«ä¸€åˆ—ï¼Œä½ éœ€è¦ä½¿ç”¨<code>drop = FALSE</code>ï¼ˆå¦åˆ™ä½ ä¼šå¾—åˆ°ä¸€ä¸ªå‘é‡è€Œä¸æ˜¯æ•°æ®æ¡†ï¼‰ã€‚</p>\n</li>\n<li><p>ä½ éœ€è¦ä½¿ç”¨<a href=\"https://rdrr.io/r/base/which.html\">which()</a>æˆ–ç±»ä¼¼å‡½æ•°æ¥åˆ é™¤ä»»ä½•ç¼ºå¤±å€¼ã€‚</p>\n</li>\n<li><p>ä½ ä¸èƒ½è¿›è¡Œåˆ†ç»„è¿‡æ»¤ï¼ˆä¾‹å¦‚ï¼Œ<code>df %&gt;% group_by(g) %&gt;% filter(n() == 1)</code>ï¼‰ã€‚</p>\n</li>\n</ul>\n<p>ä¸€èˆ¬æ¥è¯´ï¼Œå¦‚æœä½ åªæ˜¯ä½¿ç”¨dplyræ¥å¤„ç†éå¸¸ç®€å•çš„æ¡ˆä¾‹ï¼Œä½ å¯èƒ½ä¼šå‘ç°ä½¿ç”¨ä¸ä½¿ç”¨æ•°æ®æ©è”½çš„åŸºç¡€Rå‡½æ•°æ›´å®¹æ˜“ã€‚ç„¶è€Œï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œtidyverseçš„ä¸€ä¸ªä¼˜åŠ¿åœ¨äºå®ƒä»”ç»†è€ƒè™‘äº†è¾¹ç¼˜æƒ…å†µï¼Œä»¥ä¾¿å‡½æ•°èƒ½æ›´ä¸€è‡´åœ°å·¥ä½œã€‚æˆ‘ä¸æƒ³å¤¸å¤§è¿™ä¸€ç‚¹ï¼Œä½†åŒæ—¶ï¼Œå¾ˆå®¹æ˜“å¿˜è®°ç‰¹å®šåŸºç¡€Rå‡½æ•°çš„æ€ªç™–ï¼Œå¹¶ç¼–å†™å‡º95%ä»¥ä¸Šæ—¶é—´éƒ½èƒ½å·¥ä½œï¼Œä½†åœ¨å¦å¤–5%çš„æ—¶é—´é‡Œä¼šä»¥ä¸å¯»å¸¸çš„æ–¹å¼å¤±è´¥çš„ä»£ç ã€‚</p>\n<h2 id=\"12-3-æ•´æ´é€‰æ‹©-Tidy-selection\"><a href=\"#12-3-æ•´æ´é€‰æ‹©-Tidy-selection\" class=\"headerlink\" title=\"12.3 æ•´æ´é€‰æ‹© Tidy-selection\"></a>12.3 æ•´æ´é€‰æ‹© Tidy-selection</h2><p>é™¤äº†æ•°æ®æ©è”½ä¹‹å¤–ï¼Œæ•´æ´è¯„ä¼°è¿˜æœ‰ä¸€ä¸ªé‡è¦çš„éƒ¨åˆ†ï¼šæ•´æ´é€‰æ‹©ã€‚æ•´æ´é€‰æ‹©æä¾›äº†ä¸€ç§ç®€æ´çš„æ–¹å¼æ¥é€šè¿‡ä½ç½®ã€åç§°æˆ–ç±»å‹é€‰æ‹©åˆ—ã€‚å®ƒåœ¨<a href=\"https://dplyr.tidyverse.org/reference/select.html\">dplyr::select()</a>å’Œ<a href=\"https://dplyr.tidyverse.org/reference/across.html\">dplyr::across()</a>ä»¥åŠtidyrä¸­çš„è®¸å¤šå‡½æ•°ï¼ˆå¦‚<a href=\"https://tidyr.tidyverse.org/reference/pivot_longer.html\">pivot_longer()</a>ã€<a href=\"https://tidyr.tidyverse.org/reference/pivot_wider.html\">pivot_wider()</a>ã€<a href=\"https://tidyr.tidyverse.org/reference/separate.html\">separate()</a>ã€<a href=\"https://tidyr.tidyverse.org/reference/extract.html\">extract()</a>å’Œ<a href=\"https://tidyr.tidyverse.org/reference/unite.html\">unite()</a>ï¼‰ä¸­ä½¿ç”¨ã€‚</p>\n<h3 id=\"12-3-1-é—´æ¥å¼•ç”¨\"><a href=\"#12-3-1-é—´æ¥å¼•ç”¨\" class=\"headerlink\" title=\"12.3.1 é—´æ¥å¼•ç”¨\"></a>12.3.1 é—´æ¥å¼•ç”¨</h3><p>è¦é—´æ¥å¼•ç”¨å˜é‡ï¼Œå¯ä»¥ä½¿ç”¨<a href=\"https://tidyselect.r-lib.org/reference/all_of.html\">any_of()</a>æˆ–<a href=\"https://tidyselect.r-lib.org/reference/all_of.html\">all_of()</a>ï¼šä¸¤è€…éƒ½æœŸæœ›ä¸€ä¸ªåŒ…å«æ•°æ®å˜é‡åç§°çš„å­—ç¬¦å‘é‡ä½œä¸ºç¯å¢ƒå˜é‡ã€‚å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œå¦‚æœä½ æä¾›äº†ä¸€ä¸ªåœ¨è¾“å…¥ä¸­ä¸å­˜åœ¨çš„å˜é‡åï¼Œ<code>all_of()</code>ä¼šå¼•å‘é”™è¯¯ï¼Œè€Œ<code>any_of()</code>åˆ™ä¼šé™é»˜åœ°å¿½ç•¥å®ƒã€‚</p>\n<p>ä¾‹å¦‚ï¼Œä»¥ä¸‹åº”ç”¨ç¨‹åºå…è®¸ç”¨æˆ·ä½¿ç”¨å¤šé€‰è¾“å…¥é€‰æ‹©ä»»æ„æ•°é‡çš„å˜é‡ï¼ŒåŒæ—¶ä½¿ç”¨<code>all_of()</code>ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;vars&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Variables&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> multiple <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;data&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>data <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    req<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>vars<span class=\"punctuation\">)</span></span><br><span class=\"line\">    mtcars <span class=\"operator\">%&gt;%</span> select<span class=\"punctuation\">(</span>all_of<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>vars<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"12-3-2-æ•´æ´é€‰æ‹©ä¸æ•°æ®æ©è”½\"><a href=\"#12-3-2-æ•´æ´é€‰æ‹©ä¸æ•°æ®æ©è”½\" class=\"headerlink\" title=\"12.3.2 æ•´æ´é€‰æ‹©ä¸æ•°æ®æ©è”½\"></a>12.3.2 æ•´æ´é€‰æ‹©ä¸æ•°æ®æ©è”½</h3><p>å½“ä½¿ç”¨é‡‡ç”¨æ•´æ´é€‰æ‹©çš„å‡½æ•°æ—¶ï¼Œå¤„ç†å¤šä¸ªå˜é‡å˜å¾—è½»è€Œæ˜“ä¸¾ï¼šæ‚¨åªéœ€å°†åŒ…å«å˜é‡åçš„å­—ç¬¦å‘é‡ä¼ é€’ç»™<code>any_of()</code>æˆ–<code>all_of()</code>ã€‚å¦‚æœæˆ‘ä»¬ä¹Ÿèƒ½åœ¨æ•°æ®æ©è”½å‡½æ•°ä¸­ä½¿ç”¨è¿™ç§æ–¹æ³•ï¼Œé‚£è¯¥æœ‰å¤šå¥½ï¼Ÿè¿™æ­£æ˜¯dplyr 1.0.0ç‰ˆæœ¬ä¸­æ·»åŠ çš„<a href=\"https://dplyr.tidyverse.org/reference/across.html\">across()</a>å‡½æ•°çš„è®¾è®¡ç†å¿µã€‚å®ƒå…è®¸æ‚¨åœ¨æ•°æ®æ©è”½å‡½æ•°ä¸­ä½¿ç”¨æ•´æ´é€‰æ‹©ã€‚</p>\n<p><code>across()</code>å‡½æ•°é€šå¸¸ä½¿ç”¨ä¸€ä¸ªæˆ–ä¸¤ä¸ªå‚æ•°ã€‚ç¬¬ä¸€ä¸ªå‚æ•°ç”¨äºé€‰æ‹©å˜é‡ï¼Œåœ¨<a href=\"https://dplyr.tidyverse.org/reference/group_by.html\">group_by()</a>æˆ–<a href=\"https://dplyr.tidyverse.org/reference/distinct.html\">distinct()</a>ç­‰å‡½æ•°ä¸­éå¸¸æœ‰ç”¨ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹åº”ç”¨ç¨‹åºå…è®¸æ‚¨é€‰æ‹©ä»»æ„æ•°é‡çš„å˜é‡å¹¶è®¡ç®—å®ƒä»¬çš„å”¯ä¸€å€¼æ•°é‡ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;vars&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Variables&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> multiple <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;count&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>count <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    req<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>vars<span class=\"punctuation\">)</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    mtcars <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">      group_by<span class=\"punctuation\">(</span>across<span class=\"punctuation\">(</span>all_of<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>vars<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">      summarise<span class=\"punctuation\">(</span>n <span class=\"operator\">=</span> n<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> .groups <span class=\"operator\">=</span> <span class=\"string\">&quot;drop&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/20b7acd57783cbc15cf0d64d8964bba1e093ba06/1c155/demos/action-tidy/across.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/20b7acd57783cbc15cf0d64d8964bba1e093ba06/1c155/demos/action-tidy/across.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾12.6 æ­¤åº”ç”¨ç¨‹åºå…è®¸æ‚¨é€‰æ‹©ä»»æ„æ•°é‡çš„å˜é‡ï¼Œå¹¶è®¡ç®—å®ƒä»¬çš„å”¯ä¸€ç»„åˆæ•°é‡ã€‚è¯·è®¿é—®https://hadley.shinyapps.io/ms-acrosså®æ—¶æŸ¥çœ‹\"></p>\n<p>ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå‡½æ•°ï¼ˆæˆ–å‡½æ•°åˆ—è¡¨ï¼‰ï¼Œåº”ç”¨äºæ¯ä¸ªé€‰å®šçš„åˆ—ã€‚è¿™ä½¿å¾—å®ƒéå¸¸é€‚åˆ<a href=\"https://dplyr.tidyverse.org/reference/mutate.html\">mutate()</a>å’Œ<a href=\"https://dplyr.tidyverse.org/reference/summarise.html\">summarise()</a>ç­‰å‡½æ•°ï¼Œå› ä¸ºæ‚¨é€šå¸¸æƒ³è¦ä»¥æŸç§æ–¹å¼è½¬æ¢æ¯ä¸ªå˜é‡ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç å…è®¸ç”¨æˆ·é€‰æ‹©ä»»æ„æ•°é‡çš„åˆ†ç»„å˜é‡ï¼Œä»¥åŠä»»æ„æ•°é‡çš„å˜é‡ï¼Œä»¥è®¡ç®—å®ƒä»¬çš„å¹³å‡å€¼è¿›è¡Œæ±‡æ€»ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;vars_g&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Group by&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> multiple <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;vars_s&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Summarise&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> multiple <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;data&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>data <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    mtcars <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">      group_by<span class=\"punctuation\">(</span>across<span class=\"punctuation\">(</span>all_of<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>vars_g<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">      summarise<span class=\"punctuation\">(</span>across<span class=\"punctuation\">(</span>all_of<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>vars_s<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> mean<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> n <span class=\"operator\">=</span> n<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"12-4-parse-eval\"><a href=\"#12-4-parse-eval\" class=\"headerlink\" title=\"12.4 parse() + eval()\"></a>12.4 parse() + eval()</h2><p>åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œæœ‰å¿…è¦å¯¹<a href=\"https://rdrr.io/r/base/paste.html\">paste()</a> + <a href=\"https://rdrr.io/r/base/parse.html\">parse()</a> + <a href=\"https://rdrr.io/r/base/eval.html\">eval()</a>ç»„åˆè¿›è¡Œç®€çŸ­çš„è¯„è®ºã€‚å¦‚æœä½ å®Œå…¨ä¸äº†è§£è¿™ä¸ªç»„åˆï¼Œå¯ä»¥è·³è¿‡è¿™ä¸€èŠ‚ï¼Œä½†å¦‚æœä½ å·²ç»ä½¿ç”¨è¿‡å®ƒï¼Œæˆ‘æƒ³ç»™ä½ ä¸€ä¸ªå°å°çš„è­¦å‘Šã€‚</p>\n<p>è¿™æ˜¯ä¸€ä¸ªè¯±äººçš„æ–¹æ³•ï¼Œå› ä¸ºå®ƒåªéœ€è¦å­¦ä¹ å¾ˆå°‘çš„æ–°æ¦‚å¿µã€‚ä½†å®ƒä¹Ÿæœ‰ä¸€äº›ä¸»è¦çš„ç¼ºç‚¹ï¼šç”±äºä½ æ­£åœ¨å°†å­—ç¬¦ä¸²æ‹¼æ¥åœ¨ä¸€èµ·ï¼Œå¾ˆå®¹æ˜“æ„å¤–åœ°åˆ›å»ºå‡ºæ— æ•ˆçš„ä»£ç ï¼Œæˆ–è€…å¯èƒ½è¢«æ»¥ç”¨ä»¥æ‰§è¡Œä½ ä¸å¸Œæœ›çš„æ“ä½œçš„ä»£ç ã€‚å¦‚æœè¿™åªæ˜¯ä½ è‡ªå·±ä½¿ç”¨çš„Shinyåº”ç”¨ç¨‹åºï¼Œè¿™å¯èƒ½ä¸æ˜¯éå¸¸é‡è¦ï¼Œä½†è¿™å¹¶ä¸æ˜¯ä¸€ä¸ªå€¼å¾—å…»æˆçš„å¥½ä¹ æƒ¯â€”â€”å¦åˆ™ï¼Œå¾ˆå®¹æ˜“åœ¨ä½ å¹¿æ³›åˆ†äº«çš„åº”ç”¨ç¨‹åºä¸­æ„å¤–åœ°åˆ›å»ºä¸€ä¸ªå®‰å…¨æ¼æ´ã€‚æˆ‘ä»¬å°†åœ¨ç¬¬<code>22ç« </code>ä¸­å†æ¬¡æåŠè¿™ä¸ªè§‚ç‚¹ã€‚</p>\n<p>ï¼ˆå¦‚æœä½ å‘ç°è¿™æ˜¯è§£å†³é—®é¢˜çš„å”¯ä¸€æ–¹æ³•ï¼Œä¸å¿…æ„Ÿåˆ°æ²®ä¸§ã€‚ä½†å½“ä½ æœ‰äº†æ›´å¤šçš„æ€è€ƒç©ºé—´æ—¶ï¼Œæˆ‘å»ºè®®èŠ±äº›æ—¶é—´å¼„æ¸…æ¥šå¦‚ä½•åœ¨ä¸è¿›è¡Œå­—ç¬¦ä¸²æ“ä½œçš„æƒ…å†µä¸‹å®ç°ã€‚è¿™å°†æœ‰åŠ©äºä½ æˆä¸ºä¸€åæ›´å¥½çš„Rç¨‹åºå‘˜ã€‚ï¼‰</p>\n<h2 id=\"12-5-æ€»ç»“\"><a href=\"#12-5-æ€»ç»“\" class=\"headerlink\" title=\"12.5 æ€»ç»“\"></a>12.5 æ€»ç»“</h2><p>åœ¨æœ¬ç« ä¸­ï¼Œä½ å­¦ä¹ äº†å¦‚ä½•åˆ›å»ºShinyåº”ç”¨ç¨‹åºï¼Œè®©ç”¨æˆ·é€‰æ‹©å°†å“ªäº›å˜é‡è¾“å…¥åˆ°å¦‚<a href=\"https://dplyr.tidyverse.org/reference/filter.html\">dplyr::filter()</a>å’Œ<a href=\"https://ggplot2.tidyverse.org/reference/aes.html\">ggplot2::aes()</a>è¿™æ ·çš„tidyverseå‡½æ•°ä¸­ã€‚è¿™éœ€è¦ä½ ç†è§£ä¸€ä¸ªä½ ä¹‹å‰å¯èƒ½ä»æœªè€ƒè™‘è¿‡çš„å…³é”®åŒºåˆ«ï¼šæ•°æ®å˜é‡å’Œç¯å¢ƒå˜é‡çš„ä¸åŒã€‚è¿™å¯èƒ½éœ€è¦ä¸€äº›ç»ƒä¹ æ‰èƒ½å˜å¾—è‡ªç„¶ï¼Œä½†ä¸€æ—¦ä½ æŒæ¡äº†è¿™äº›æ¦‚å¿µï¼Œä½ å°±èƒ½å¤Ÿè§£é”tidyverseçš„æ•°æ®åˆ†æåŠŸèƒ½ï¼Œå¹¶å°†å…¶æš´éœ²ç»™éRç”¨æˆ·ã€‚</p>\n<p>è¿™æ˜¯æœ¬ä¹¦<code>â€œShinyå®æˆ˜â€</code>éƒ¨åˆ†çš„æœ€åä¸€ç« ã€‚æ—¢ç„¶ä½ å·²ç»æ‹¥æœ‰äº†åˆ¶ä½œä¸€ç³»åˆ—æœ‰ç”¨åº”ç”¨ç¨‹åºæ‰€éœ€çš„å·¥å…·ï¼Œæˆ‘å°†é‡ç‚¹æé«˜ä½ å¯¹Shinyåº•å±‚ç†è®ºçš„ç†è§£ã€‚</p>\n<h1 id=\"åŠ å…³æ³¨\"><a href=\"#åŠ å…³æ³¨\" class=\"headerlink\" title=\"åŠ å…³æ³¨\"></a>åŠ å…³æ³¨</h1><table align=\"center\"><tr>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å¾®ä¿¡å…¬ä¼—å·\" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-right: 0px;margin-bottom: 5px;align: center;\"></td>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å°ç¨‹åºç \" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-left: 0px;margin-bottom: 5px;align: center\"></td>\n</tr></table>\n\n\n<p><font color=\"#FF0000\"><ruby><b>æ•¬å‘Š</b>ï¼šä½¿ç”¨æ–‡ä¸­è„šæœ¬è¯·å¼•ç”¨æœ¬æ–‡ç½‘å€ï¼Œè¯·å°Šé‡æœ¬äººçš„åŠ³åŠ¨æˆæœï¼Œè°¢è°¢ï¼<rt><b>Notice</b>: When you use the scripts in this article, please cite the link of this webpage. Thank you!</rt></ruby></font></p>\n","raw":null,"categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"ç¼–ç¨‹","path":"api/tags/ç¼–ç¨‹.json"},{"name":"Shinyå…¥é—¨ç³»åˆ—","path":"api/tags/Shinyå…¥é—¨ç³»åˆ—.json"}]},{"title":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”11-ä¹¦ç­¾","slug":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”11-ä¹¦ç­¾","date":"2024-04-27T09:53:52.000Z","updated":"2024-04-27T09:55:47.969Z","comments":true,"path":"api/articles/Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”11-ä¹¦ç­¾.json","excerpt":null,"keywords":null,"cover":"https://d33wubrfki0l68.cloudfront.net/6ad93d80475f1ebc6d632c1293f210174da9b9d6/f576b/demos/action-bookmark/pendulum.png","content":"<h1 id=\"11-ä¹¦ç­¾\"><a href=\"#11-ä¹¦ç­¾\" class=\"headerlink\" title=\"11 ä¹¦ç­¾\"></a>11 ä¹¦ç­¾</h1><p>ä¸å¤§å¤šæ•°ç½‘ç«™ç›¸æ¯”ï¼ŒShinyåº”ç”¨ç¨‹åºæœ‰ä¸€ä¸ªä¸»è¦çš„ç¼ºç‚¹ï¼šæ‚¨æ— æ³•ä¸ºåº”ç”¨ç¨‹åºæ·»åŠ ä¹¦ç­¾ä»¥ä¾¿å°†æ¥è¿”å›åŒä¸€ä½ç½®ï¼Œä¹Ÿæ— æ³•é€šè¿‡ç”µå­é‚®ä»¶ä¸­çš„é“¾æ¥ä¸ä»–äººåˆ†äº«æ‚¨çš„å·¥ä½œã€‚è¿™æ˜¯å› ä¸ºï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼ŒShinyä¸ä¼šåœ¨URLä¸­å…¬å¼€åº”ç”¨ç¨‹åºçš„å½“å‰çŠ¶æ€ã€‚ç„¶è€Œï¼Œå¹¸è¿çš„æ˜¯ï¼Œé€šè¿‡ä¸€äº›é¢å¤–çš„å·¥ä½œï¼Œæ‚¨å¯ä»¥æ›´æ”¹æ­¤è¡Œä¸ºï¼Œæœ¬ç« å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•æ“ä½œã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>shiny<span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"11-1-åŸºæœ¬æ€è·¯\"><a href=\"#11-1-åŸºæœ¬æ€è·¯\" class=\"headerlink\" title=\"11.1 åŸºæœ¬æ€è·¯\"></a>11.1 åŸºæœ¬æ€è·¯</h2><p>è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªç®€å•çš„åº”ç”¨ç¨‹åºæ¥æ¼”ç¤ºå¦‚ä½•ä½¿å…¶å…·æœ‰ä¹¦ç­¾åŠŸèƒ½ã€‚è¿™ä¸ªåº”ç”¨ç¨‹åºç»˜åˆ¶äº†åˆ©è¨èŒ¹æ›²çº¿ï¼Œè¿™äº›æ›²çº¿å¤åˆ¶äº†æ‘†é”¤çš„è¿åŠ¨ã€‚è¿™ä¸ªåº”ç”¨ç¨‹åºå¯ä»¥ç”Ÿæˆå„ç§æœ‰è¶£çš„å›¾æ¡ˆï¼Œæ‚¨å¯èƒ½æƒ³è¦ä¸ä»–äººåˆ†äº«ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">    sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;omega&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;omega&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"operator\">-</span><span class=\"number\">2</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">2</span><span class=\"punctuation\">,</span> step <span class=\"operator\">=</span> <span class=\"number\">0.01</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;delta&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;delta&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">2</span><span class=\"punctuation\">,</span> step <span class=\"operator\">=</span> <span class=\"number\">0.01</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;damping&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;damping&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0.9</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> step <span class=\"operator\">=</span> <span class=\"number\">0.001</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;length&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;length&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">100</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;fig&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  t <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span>seq<span class=\"punctuation\">(</span><span class=\"number\">0</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span><span class=\"built_in\">length</span><span class=\"punctuation\">,</span> length.out <span class=\"operator\">=</span> input<span class=\"operator\">$</span><span class=\"built_in\">length</span> <span class=\"operator\">*</span> <span class=\"number\">100</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  x <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"built_in\">sin</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>omega <span class=\"operator\">*</span> t<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span> input<span class=\"operator\">$</span>delta<span class=\"punctuation\">)</span> <span class=\"operator\">*</span> input<span class=\"operator\">$</span>damping <span class=\"operator\">^</span> t<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  y <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"built_in\">sin</span><span class=\"punctuation\">(</span>t<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">*</span> input<span class=\"operator\">$</span>damping <span class=\"operator\">^</span> t<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>fig <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    plot<span class=\"punctuation\">(</span>x<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> y<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> axes <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span><span class=\"punctuation\">,</span> xlab <span class=\"operator\">=</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">,</span> ylab <span class=\"operator\">=</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">,</span> type <span class=\"operator\">=</span> <span class=\"string\">&quot;l&quot;</span><span class=\"punctuation\">,</span> lwd <span class=\"operator\">=</span> <span class=\"number\">2</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/6ad93d80475f1ebc6d632c1293f210174da9b9d6/f576b/demos/action-bookmark/pendulum.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/6ad93d80475f1ebc6d632c1293f210174da9b9d6/f576b/demos/action-bookmark/pendulum.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾11.1 è¿™ä¸ªåº”ç”¨ç¨‹åºå…è®¸æ‚¨ä½¿ç”¨æ‘†é”¤æ¨¡å‹ç”Ÿæˆæœ‰è¶£çš„å›¾æ¡ˆã€‚å¦‚æœèƒ½å’Œæœ‹å‹åˆ†äº«ä¸€ä¸ªé“¾æ¥ï¼Œå²‚ä¸æ˜¯å¾ˆé…·ï¼Ÿ\"></p>\n<p>ä¸ºäº†ä½¿è¿™ä¸ªåº”ç”¨ç¨‹åºå…·æœ‰ä¹¦ç­¾åŠŸèƒ½ï¼Œæˆ‘ä»¬éœ€è¦åšä¸‰ä»¶äº‹æƒ…ï¼š</p>\n<ol>\n<li><p>åœ¨ç”¨æˆ·ç•Œé¢ä¸­æ·»åŠ ä¸€ä¸ª<a href=\"https://rdrr.io/pkg/shiny/man/bookmarkButton.html\">bookmarkButton()</a>ã€‚è¿™å°†ç”Ÿæˆä¸€ä¸ªæŒ‰é’®ï¼Œç”¨æˆ·ç‚¹å‡»åç”Ÿæˆå¯ä¹¦ç­¾çš„URLã€‚</p>\n</li>\n<li><p>å°†uiå˜ä¸ºä¸€ä¸ªå‡½æ•°ã€‚æ‚¨éœ€è¦è¿™æ ·åšæ˜¯å› ä¸ºä¹¦ç­¾åŒ–çš„åº”ç”¨ç¨‹åºå¿…é¡»é‡æ–°æ’­æ”¾ä¹¦ç­¾åŒ–çš„å€¼ï¼šå®é™…ä¸Šï¼ŒShinyä¼šä¿®æ”¹æ¯ä¸ªè¾“å…¥æ§ä»¶çš„é»˜è®¤<code>value</code>ã€‚è¿™æ„å‘³ç€ä¸å†æœ‰ä¸€ä¸ªå•ä¸€çš„é™æ€ç”¨æˆ·ç•Œé¢ï¼Œè€Œæ˜¯å¯èƒ½æœ‰å¤šä¸ªä¾èµ–äºURLä¸­å‚æ•°çš„ç”¨æˆ·ç•Œé¢ï¼Œå› æ­¤å®ƒå¿…é¡»æ˜¯ä¸€ä¸ªå‡½æ•°ã€‚</p>\n</li>\n<li><p>åœ¨<a href=\"https://rdrr.io/pkg/shiny/man/shinyApp.html\">shinyApp()</a>è°ƒç”¨ä¸­æ·»åŠ <code>enableBookmarking = &quot;url&quot;</code>ã€‚</p>\n</li>\n</ol>\n<p>è¿›è¡Œè¿™äº›æ›´æ”¹åï¼Œæˆ‘ä»¬å¾—åˆ°ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>request<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">    sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">      sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">        sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;omega&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;omega&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"operator\">-</span><span class=\"number\">2</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">2</span><span class=\"punctuation\">,</span> step <span class=\"operator\">=</span> <span class=\"number\">0.01</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;delta&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;delta&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">2</span><span class=\"punctuation\">,</span> step <span class=\"operator\">=</span> <span class=\"number\">0.01</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;damping&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;damping&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0.9</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> step <span class=\"operator\">=</span> <span class=\"number\">0.001</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;length&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;length&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">100</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        bookmarkButton<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">      <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">        plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;fig&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">      <span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">shinyApp<span class=\"punctuation\">(</span>ui<span class=\"punctuation\">,</span> server<span class=\"punctuation\">,</span> enableBookmarking <span class=\"operator\">=</span> <span class=\"string\">&quot;url&quot;</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>æ‚¨å¯ä»¥åœ¨<a href=\"https://hadley.shinyapps.io/ms-bookmark-url\">https://hadley.shinyapps.io/ms-bookmark-url</a>å°è¯•ä¸€ä¸‹ã€‚å¦‚æœæ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­æ“ä½œå¹¶ä¹¦ç­¾äº†ä¸€äº›æœ‰è¶£çš„çŠ¶æ€ï¼Œæ‚¨ä¼šå‘ç°ç”Ÿæˆçš„URLçœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>\n<ul>\n<li><p><a href=\"https://hadley.shinyapps.io/ms-bookmark-url/?_inputs_&damping=1&delta=1&length=100&omega=1\">https://hadley.shinyapps.io/ms-bookmark-url/?_inputs_&amp;damping=1&amp;delta=1&amp;length=100&amp;omega=1</a></p>\n</li>\n<li><p><a href=\"https://hadley.shinyapps.io/ms-bookmark-url/?_inputs_&damping=0.966&delta=1.25&length=100&omega=-0.54\">https://hadley.shinyapps.io/ms-bookmark-url/?_inputs_&amp;damping=0.966&amp;delta=1.25&amp;length=100&amp;omega=-0.54</a></p>\n</li>\n<li><p><a href=\"https://hadley.shinyapps.io/ms-bookmark-url/?_inputs_&damping=0.997&delta=1.37&length=500&omega=-0.9\">https://hadley.shinyapps.io/ms-bookmark-url/?_inputs_&amp;damping=0.997&amp;delta=1.37&amp;length=500&amp;omega=-0.9</a></p>\n</li>\n</ul>\n<p>ä¸ºäº†ç†è§£å‘ç”Ÿäº†ä»€ä¹ˆï¼Œè®©æˆ‘ä»¬ä»¥ç¬¬ä¸€ä¸ªURLä¸ºä¾‹ï¼Œå°†å…¶åˆ†è§£æˆå‡ ä¸ªéƒ¨åˆ†ï¼š</p>\n<ul>\n<li><p><code>http://</code> æ˜¯ä¸åº”ç”¨ç¨‹åºé€šä¿¡æ—¶ä½¿ç”¨çš„â€œåè®®â€ã€‚è¿™å§‹ç»ˆæ˜¯<code>http</code>æˆ–<code>https</code>ã€‚</p>\n</li>\n<li><p><code>hadley.shinyapps.io/ms-bookmark-url</code> æ˜¯åº”ç”¨ç¨‹åºçš„ä½ç½®ã€‚</p>\n</li>\n</ul>\n<p>é—®å·<code>?</code>ä¹‹åçš„æ‰€æœ‰å†…å®¹éƒ½æ˜¯â€œå‚æ•°â€ã€‚æ¯ä¸ªå‚æ•°ä¹‹é—´ç”¨<code>&amp;</code>åˆ†éš”ï¼Œå¦‚æœå°†å…¶åˆ†è§£ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°åº”ç”¨ç¨‹åºä¸­æ¯ä¸ªè¾“å…¥çš„å€¼ï¼š</p>\n<ul>\n<li><p>damping&#x3D;1</p>\n</li>\n<li><p>delta&#x3D;1</p>\n</li>\n<li><p>length&#x3D;100</p>\n</li>\n<li><p>omega&#x3D;1</p>\n</li>\n</ul>\n<p>å› æ­¤ï¼Œâ€œç”Ÿæˆä¹¦ç­¾â€æ„å‘³ç€åœ¨URLçš„å‚æ•°ä¸­è®°å½•è¾“å…¥çš„å½“å‰å€¼ã€‚å¦‚æœæ‚¨åœ¨æœ¬åœ°è¿›è¡Œæ“ä½œï¼ŒURLçœ‹èµ·æ¥ä¼šç•¥æœ‰ä¸åŒï¼š</p>\n<ul>\n<li><p><a href=\"http://127.0.0.1:4087/?_inputs_&damping=1&delta=1&length=100&omega=1\">http://127.0.0.1:4087/?_inputs_&amp;damping=1&amp;delta=1&amp;length=100&amp;omega=1</a></p>\n</li>\n<li><p><a href=\"http://127.0.0.1:4087/?_inputs_&damping=0.966&delta=1.25&length=100&omega=-0.54\">http://127.0.0.1:4087/?_inputs_&amp;damping=0.966&amp;delta=1.25&amp;length=100&amp;omega=-0.54</a></p>\n</li>\n<li><p><a href=\"http://127.0.0.1:4087/?_inputs_&damping=0.997&delta=1.37&length=500&omega=-0.9\">http://127.0.0.1:4087/?_inputs_&amp;damping=0.997&amp;delta=1.37&amp;length=500&amp;omega=-0.9</a></p>\n</li>\n</ul>\n<p>é™¤äº†å°†<code>hadley.shinyapps.io/ms-bookmark-url</code>æ›¿æ¢ä¸ºç±»ä¼¼<code>127.0.0.1:4087</code>çš„å†…å®¹å¤–ï¼Œå¤§å¤šæ•°éƒ¨åˆ†éƒ½æ˜¯ç›¸åŒçš„ã€‚<code>127.0.0.1</code>æ˜¯ä¸€ä¸ªç‰¹æ®Šåœ°å€ï¼Œå§‹ç»ˆæŒ‡å‘æ‚¨è‡ªå·±çš„è®¡ç®—æœºï¼Œè€Œ<code>4087</code>æ˜¯ä¸€ä¸ªéšæœºåˆ†é…çš„ç«¯å£ã€‚é€šå¸¸ï¼Œä¸åŒçš„åº”ç”¨ç¨‹åºä¼šè·å¾—ä¸åŒçš„è·¯å¾„æˆ–IPåœ°å€ï¼Œä½†å¦‚æœæ‚¨åœ¨è‡ªå·±çš„è®¡ç®—æœºä¸Šæ‰˜ç®¡å¤šä¸ªåº”ç”¨ç¨‹åºï¼Œåˆ™æ— æ³•åšåˆ°è¿™ä¸€ç‚¹ã€‚</p>\n<h3 id=\"11-1-1-æ›´æ–°URL\"><a href=\"#11-1-1-æ›´æ–°URL\" class=\"headerlink\" title=\"11.1.1 æ›´æ–°URL\"></a>11.1.1 æ›´æ–°URL</h3><p>é™¤äº†æä¾›ä¸€ä¸ªæ˜ç¡®çš„æŒ‰é’®å¤–ï¼Œå¦ä¸€ç§é€‰æ‹©æ˜¯è‡ªåŠ¨æ›´æ–°æµè§ˆå™¨ä¸­çš„URLã€‚è¿™å…è®¸ç”¨æˆ·åœ¨å…¶æµè§ˆå™¨ä¸­ä½¿ç”¨ç”¨æˆ·ä¹¦ç­¾å‘½ä»¤ï¼Œæˆ–è€…ä»åœ°å€æ å¤åˆ¶å’Œç²˜è´´URLã€‚</p>\n<p>è‡ªåŠ¨æ›´æ–°URLéœ€è¦åœ¨æœåŠ¡å™¨å‡½æ•°ä¸­ç¼–å†™ä¸€äº›æ¨¡æ¿ä»£ç ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Automatically bookmark every time an input changes</span></span><br><span class=\"line\">observe<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  reactiveValuesToList<span class=\"punctuation\">(</span>input<span class=\"punctuation\">)</span></span><br><span class=\"line\">  session<span class=\"operator\">$</span>doBookmark<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># Update the query string</span></span><br><span class=\"line\">onBookmarked<span class=\"punctuation\">(</span>updateQueryString<span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™ç»™æˆ‘ä»¬æä¾›äº†ä¸€ä¸ªæ›´æ–°åçš„æœåŠ¡å™¨å‡½æ•°ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  t <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span>seq<span class=\"punctuation\">(</span><span class=\"number\">0</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span><span class=\"built_in\">length</span><span class=\"punctuation\">,</span> <span class=\"built_in\">length</span> <span class=\"operator\">=</span> input<span class=\"operator\">$</span><span class=\"built_in\">length</span> <span class=\"operator\">*</span> <span class=\"number\">100</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  x <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"built_in\">sin</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>omega <span class=\"operator\">*</span> t<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span> input<span class=\"operator\">$</span>delta<span class=\"punctuation\">)</span> <span class=\"operator\">*</span> input<span class=\"operator\">$</span>damping <span class=\"operator\">^</span> t<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  y <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"built_in\">sin</span><span class=\"punctuation\">(</span>t<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">*</span> input<span class=\"operator\">$</span>damping <span class=\"operator\">^</span> t<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  output<span class=\"operator\">$</span>fig <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    plot<span class=\"punctuation\">(</span>x<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> y<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> axes <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span><span class=\"punctuation\">,</span> xlab <span class=\"operator\">=</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">,</span> ylab <span class=\"operator\">=</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">,</span> type <span class=\"operator\">=</span> <span class=\"string\">&quot;l&quot;</span><span class=\"punctuation\">,</span> lwd <span class=\"operator\">=</span> <span class=\"number\">2</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  observe<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    reactiveValuesToList<span class=\"punctuation\">(</span>input<span class=\"punctuation\">)</span></span><br><span class=\"line\">    session<span class=\"operator\">$</span>doBookmark<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  onBookmarked<span class=\"punctuation\">(</span>updateQueryString<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">shinyApp<span class=\"punctuation\">(</span>ui<span class=\"punctuation\">,</span> server<span class=\"punctuation\">,</span> enableBookmarking <span class=\"operator\">=</span> <span class=\"string\">&quot;url&quot;</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™ä¼šäº§ç”Ÿ<a href=\"https://hadley.shinyapps.io/ms-bookmark-auto\">https://hadley.shinyapps.io/ms-bookmark-auto</a>â€”â€”ç”±äºURLç°åœ¨ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œæ‚¨å¯ä»¥ä»ç”¨æˆ·ç•Œé¢ä¸­åˆ é™¤ä¹¦ç­¾æŒ‰é’®ã€‚</p>\n<h3 id=\"11-1-2-å­˜å‚¨æ›´ä¸°å¯Œçš„çŠ¶æ€\"><a href=\"#11-1-2-å­˜å‚¨æ›´ä¸°å¯Œçš„çŠ¶æ€\" class=\"headerlink\" title=\"11.1.2 å­˜å‚¨æ›´ä¸°å¯Œçš„çŠ¶æ€\"></a>11.1.2 å­˜å‚¨æ›´ä¸°å¯Œçš„çŠ¶æ€</h3><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†<code>enableBookmarking = &quot;url&quot;</code>ï¼Œå®ƒç›´æ¥åœ¨URLä¸­å­˜å‚¨çŠ¶æ€ã€‚è¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ï¼Œå› ä¸ºå®ƒéå¸¸ç®€å•ï¼Œå¯ä»¥åœ¨æ‚¨å¯èƒ½éƒ¨ç½²Shinyåº”ç”¨çš„ä»»ä½•åœ°æ–¹å·¥ä½œã€‚ç„¶è€Œï¼Œå¯ä»¥æƒ³è±¡ï¼Œå¦‚æœæ‚¨æœ‰å¤§é‡çš„è¾“å…¥ï¼ŒURLä¼šå˜å¾—éå¸¸é•¿ï¼Œè€Œä¸”æ˜¾ç„¶æ— æ³•æ•è·ä¸Šä¼ çš„æ–‡ä»¶ã€‚</p>\n<p>å¯¹äºè¿™äº›æƒ…å†µï¼Œæ‚¨å¯èƒ½æƒ³è¦ä½¿ç”¨<code>enableBookmarking = &quot;server&quot;</code>ï¼Œå®ƒå°†çŠ¶æ€ä¿å­˜åˆ°æœåŠ¡å™¨ä¸Šçš„<code>.rds</code>æ–‡ä»¶ã€‚è¿™æ€»æ˜¯ç”Ÿæˆä¸€ä¸ªç®€çŸ­çš„ã€ä¸é€æ˜çš„URLï¼Œä½†éœ€è¦åœ¨æœåŠ¡å™¨ä¸Šé¢å¤–å­˜å‚¨ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">shinyApp<span class=\"punctuation\">(</span>ui<span class=\"punctuation\">,</span> server<span class=\"punctuation\">,</span> enableBookmarking <span class=\"operator\">=</span> <span class=\"string\">&quot;server&quot;</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>ç›®å‰ï¼Œshinyapps.ioå°šä¸æ”¯æŒæœåŠ¡å™¨ç«¯ä¹¦ç­¾ï¼Œå› æ­¤æ‚¨éœ€è¦åœ¨æœ¬åœ°å°è¯•ã€‚å¦‚æœæ‚¨è¿™æ ·åšï¼Œæ‚¨ä¼šçœ‹åˆ°ä¹¦ç­¾æŒ‰é’®ç”Ÿæˆç±»ä¼¼ä»¥ä¸‹çš„URLï¼š</p>\n<ul>\n<li><p><a href=\"http://127.0.0.1:4087/?_state_id_=0d645f1b28f05c97\">http://127.0.0.1:4087/?_state_id_=0d645f1b28f05c97</a></p>\n</li>\n<li><p><a href=\"http://127.0.0.1:4087/?_state_id_=87b56383d8a1062c\">http://127.0.0.1:4087/?_state_id_=87b56383d8a1062c</a></p>\n</li>\n<li><p><a href=\"http://127.0.0.1:4087/?_state_id_=c8b0291ba622b69c\">http://127.0.0.1:4087/?_state_id_=c8b0291ba622b69c</a></p>\n</li>\n</ul>\n<p>è¿™äº›URLä¸æ‚¨å·¥ä½œç›®å½•ä¸­åŒ¹é…çš„ç›®å½•é…å¯¹ï¼š</p>\n<ul>\n<li><p>shiny_bookmarks&#x2F;0d645f1b28f05c97</p>\n</li>\n<li><p>shiny_bookmarks&#x2F;87b56383d8a1062c</p>\n</li>\n<li><p>shiny_bookmarks&#x2F;c8b0291ba622b69c</p>\n</li>\n</ul>\n<p>æœåŠ¡å™¨ç«¯ä¹¦ç­¾çš„ä¸»è¦ç¼ºç‚¹æ˜¯å®ƒéœ€è¦åœ¨æœåŠ¡å™¨ä¸Šä¿å­˜æ–‡ä»¶ï¼Œè€Œä¸”ä¸æ¸…æ¥šè¿™äº›æ–‡ä»¶éœ€è¦ä¿ç•™å¤šé•¿æ—¶é—´ã€‚å¦‚æœæ‚¨æ­£åœ¨ä¹¦ç­¾åŒ–å¤æ‚çš„çŠ¶æ€å¹¶ä¸”ä»æœªåˆ é™¤è¿™äº›æ–‡ä»¶ï¼Œé‚£ä¹ˆéšç€æ—¶é—´çš„æ¨ç§»ï¼Œæ‚¨çš„åº”ç”¨å°†å ç”¨è¶Šæ¥è¶Šå¤šçš„ç£ç›˜ç©ºé—´ã€‚å¦‚æœæ‚¨åˆ é™¤æ–‡ä»¶ï¼Œä¸€äº›æ—§ä¹¦ç­¾å°†åœæ­¢å·¥ä½œã€‚</p>\n<h2 id=\"11-2-ä¹¦ç­¾æŒ‘æˆ˜\"><a href=\"#11-2-ä¹¦ç­¾æŒ‘æˆ˜\" class=\"headerlink\" title=\"11.2 ä¹¦ç­¾æŒ‘æˆ˜\"></a>11.2 ä¹¦ç­¾æŒ‘æˆ˜</h2><p>è‡ªåŠ¨ä¹¦ç­¾åŠŸèƒ½ä¾èµ–äºå“åº”å¼å›¾è¡¨ã€‚å®ƒä½¿ç”¨ä¿å­˜çš„å€¼åˆå§‹åŒ–è¾“å…¥ï¼Œç„¶åé‡æ–°æ’­æ”¾æ‰€æœ‰çš„å“åº”å¼è¡¨è¾¾å¼å’Œè¾“å‡ºï¼Œåªè¦æ‚¨çš„åº”ç”¨çš„å“åº”å¼å›¾è¡¨ç®€å•æ˜äº†ï¼Œå°±ä¼šäº§ç”Ÿä¸æ‚¨çœ‹åˆ°çš„ç›¸åŒçš„åº”ç”¨ã€‚æœ¬èŠ‚ç®€è¦ä»‹ç»äº†ä¸€äº›éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æƒ…å†µï¼š</p>\n<ul>\n<li><p>å¦‚æœæ‚¨çš„åº”ç”¨ä½¿ç”¨äº†éšæœºæ•°ï¼Œå³ä½¿æ‰€æœ‰è¾“å…¥éƒ½ç›¸åŒï¼Œç»“æœä¹Ÿå¯èƒ½ä¸åŒã€‚å¦‚æœç¡®ä¿æ¯æ¬¡ç”Ÿæˆç›¸åŒçš„æ•°å­—éå¸¸é‡è¦ï¼Œæ‚¨éœ€è¦æ€è€ƒå¦‚ä½•ä½¿éšæœºè¿‡ç¨‹å¯é‡å¤ã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/repeatable.html\">repeatable()</a>å‡½æ•°ï¼›æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…ç›¸å…³æ–‡æ¡£ã€‚</p>\n</li>\n<li><p>å¦‚æœæ‚¨æœ‰é€‰é¡¹å¡ï¼Œå¹¶å¸Œæœ›ä¹¦ç­¾å’Œæ¢å¤æ´»åŠ¨é€‰é¡¹å¡ï¼Œè¯·ç¡®ä¿åœ¨è°ƒç”¨<a href=\"https://rdrr.io/pkg/shiny/man/tabsetPanel.html\">tabsetPanel()</a>æ—¶æä¾›ä¸€ä¸ªidã€‚</p>\n</li>\n<li><p>å¦‚æœæœ‰ä¸åº”è¢«ä¹¦ç­¾è®°å½•çš„è¾“å…¥ï¼Œä¾‹å¦‚å®ƒä»¬åŒ…å«ä¸åº”å…±äº«çš„ä¸ªäººä¿¡æ¯ï¼Œè¯·åœ¨æœåŠ¡å™¨å‡½æ•°çš„æŸä¸ªä½ç½®è°ƒç”¨<a href=\"https://rdrr.io/pkg/shiny/man/setBookmarkExclude.html\">setBookmarkExclude()</a>ã€‚ä¾‹å¦‚ï¼Œ<code>setBookmarkExclude(c(&quot;secret1&quot;, &quot;secret2&quot;))</code>å°†ç¡®ä¿<code>secret1</code>å’Œ<code>secret2</code>è¾“å…¥ä¸ä¼šè¢«ä¹¦ç­¾è®°å½•ã€‚</p>\n</li>\n<li><p>å¦‚æœæ‚¨åœ¨è‡ªå·±çš„<a href=\"https://rdrr.io/pkg/shiny/man/reactiveValues.html\">reactiveValues()</a>å¯¹è±¡ä¸­æ‰‹åŠ¨ç®¡ç†å“åº”å¼çŠ¶æ€ï¼ˆæˆ‘ä»¬å°†åœ¨ç¬¬<code>16</code>ç« ä¸­è®¨è®ºï¼‰ï¼Œåˆ™éœ€è¦ä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/onBookmark.html\">onBookmark()</a>å’Œ<a href=\"https://rdrr.io/pkg/shiny/man/onBookmark.html\">onRestore()</a>å›è°ƒæ¥æ‰‹åŠ¨ä¿å­˜å’ŒåŠ è½½é¢å¤–çš„çŠ¶æ€ã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…<a href=\"https://shiny.rstudio.com/articles/advanced-bookmarking.html\">é«˜çº§ä¹¦ç­¾</a>ã€‚</p>\n</li>\n</ul>\n<h2 id=\"11-3-ç»ƒä¹ \"><a href=\"#11-3-ç»ƒä¹ \" class=\"headerlink\" title=\"11.3 ç»ƒä¹ \"></a>11.3 ç»ƒä¹ </h2><ol>\n<li><p>ä¸º<a href=\"https://ambient.data-imaginist.com/reference/noise_simplex.html\">ambient::noise_simplex()</a>çš„ç»“æœç”Ÿæˆå¯è§†åŒ–åº”ç”¨ã€‚æ‚¨çš„åº”ç”¨åº”å…è®¸ç”¨æˆ·æ§åˆ¶é¢‘ç‡ã€åˆ†å½¢ã€é—´éš™å’Œå¢ç›Šï¼Œå¹¶ä¸”åº”æ”¯æŒä¹¦ç­¾åŠŸèƒ½ã€‚å¦‚ä½•ç¡®ä¿ä»ä¹¦ç­¾é‡æ–°åŠ è½½æ—¶å›¾åƒçœ‹èµ·æ¥å®Œå…¨ç›¸åŒï¼Ÿï¼ˆè€ƒè™‘seedå‚æ•°çš„å«ä¹‰ï¼‰ã€‚</p>\n</li>\n<li><p>åˆ›å»ºä¸€ä¸ªç®€å•çš„åº”ç”¨ï¼Œå…è®¸æ‚¨ä¸Šä¼ CSVæ–‡ä»¶ï¼Œå¹¶ä¸ºå…¶æ·»åŠ ä¹¦ç­¾ã€‚ä¸Šä¼ å‡ ä¸ªæ–‡ä»¶ï¼Œç„¶åæŸ¥çœ‹<code>shiny_bookmarks</code>ã€‚è¿™äº›æ–‡ä»¶æ˜¯å¦‚ä½•ä¸ä¹¦ç­¾å¯¹åº”çš„ï¼Ÿï¼ˆæç¤ºï¼šæ‚¨å¯ä»¥ä½¿ç”¨<a href=\"https://rdrr.io/r/base/readRDS.html\">readRDS()</a>æ¥æŸ¥çœ‹Shinyç”Ÿæˆçš„ç¼“å­˜æ–‡ä»¶çš„å†…å®¹ï¼‰ã€‚</p>\n</li>\n</ol>\n<h2 id=\"11-4-æ€»ç»“\"><a href=\"#11-4-æ€»ç»“\" class=\"headerlink\" title=\"11.4 æ€»ç»“\"></a>11.4 æ€»ç»“</h2><p>æœ¬ç« ä»‹ç»äº†å¦‚ä½•ä¸ºæ‚¨çš„åº”ç”¨ç¨‹åºå¯ç”¨ä¹¦ç­¾åŠŸèƒ½ã€‚ä¹¦ç­¾åŠŸèƒ½å¯¹æ‚¨çš„ç”¨æˆ·æ¥è¯´æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ç‰¹æ€§ï¼Œå› ä¸ºå®ƒå…è®¸ä»–ä»¬è½»æ¾åœ°å°†è‡ªå·±çš„å·¥ä½œä¸ä»–äººåˆ†äº«ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è®¨è®ºå¦‚ä½•åœ¨Shinyåº”ç”¨ç¨‹åºä¸­ä½¿ç”¨æ•´æ´è¯„ä¼°ã€‚æ•´æ´è¯„ä¼°æ˜¯è®¸å¤štidyverseå‡½æ•°çš„ä¸€ä¸ªç‰¹æ€§ï¼Œå¦‚æœæ‚¨å¸Œæœ›å…è®¸ç”¨æˆ·åœ¨ï¼ˆä¾‹å¦‚ï¼‰dplyrç®¡é“æˆ–ggplot2å›¾å½¢ä¸­æ›´æ”¹å˜é‡ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦äº†è§£è¿™ä¸ªç‰¹æ€§ã€‚</p>\n<h1 id=\"åŠ å…³æ³¨\"><a href=\"#åŠ å…³æ³¨\" class=\"headerlink\" title=\"åŠ å…³æ³¨\"></a>åŠ å…³æ³¨</h1><table align=\"center\"><tr>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å¾®ä¿¡å…¬ä¼—å·\" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-right: 0px;margin-bottom: 5px;align: center;\"></td>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å°ç¨‹åºç \" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-left: 0px;margin-bottom: 5px;align: center\"></td>\n</tr></table>\n\n\n<p><font color=\"#FF0000\"><ruby><b>æ•¬å‘Š</b>ï¼šä½¿ç”¨æ–‡ä¸­è„šæœ¬è¯·å¼•ç”¨æœ¬æ–‡ç½‘å€ï¼Œè¯·å°Šé‡æœ¬äººçš„åŠ³åŠ¨æˆæœï¼Œè°¢è°¢ï¼<rt><b>Notice</b>: When you use the scripts in this article, please cite the link of this webpage. Thank you!</rt></ruby></font></p>\n","raw":null,"categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"ç¼–ç¨‹","path":"api/tags/ç¼–ç¨‹.json"},{"name":"Shinyå…¥é—¨ç³»åˆ—","path":"api/tags/Shinyå…¥é—¨ç³»åˆ—.json"}]},{"title":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”10-åŠ¨æ€UI","slug":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”10-åŠ¨æ€UI","date":"2024-04-27T09:05:46.000Z","updated":"2024-04-27T09:19:58.639Z","comments":true,"path":"api/articles/Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”10-åŠ¨æ€UI.json","excerpt":null,"keywords":null,"cover":"https://d33wubrfki0l68.cloudfront.net/45d9b7c2dabd64a4597e370d2b84c0dc01cf8a2f/2dc99/demos/action-dynamic/update-basics-onload.png","content":"<h1 id=\"10-åŠ¨æ€UI\"><a href=\"#10-åŠ¨æ€UI\" class=\"headerlink\" title=\"10 åŠ¨æ€UI\"></a>10 åŠ¨æ€UI</h1><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»çœ‹åˆ°äº†UIå’Œserverå‡½æ•°ä¹‹é—´çš„æ¸…æ™°åˆ†ç¦»ï¼šç”¨æˆ·ç•Œé¢åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶é™æ€å®šä¹‰ï¼Œå› æ­¤å®ƒæ— æ³•å¯¹åº”ç”¨ç¨‹åºä¸­å‘ç”Ÿçš„ä»»ä½•äº‹æƒ…åšå‡ºå“åº”ã€‚åœ¨æœ¬ç« ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•åˆ›å»ºåŠ¨æ€ç”¨æˆ·ç•Œé¢ï¼Œé€šè¿‡serverå‡½æ•°ä¸­è¿è¡Œçš„ä»£ç æ¥æ›´æ”¹UIã€‚</p>\n<p>åˆ›å»ºåŠ¨æ€ç”¨æˆ·ç•Œé¢æœ‰ä¸‰ä¸ªå…³é”®æŠ€æœ¯ï¼š</p>\n<ul>\n<li>ä½¿ç”¨<code>update</code>ç³»åˆ—çš„å‡½æ•°æ¥ä¿®æ”¹è¾“å…¥æ§ä»¶çš„å‚æ•°ã€‚</li>\n<li>ä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/tabsetPanel.html\">tabsetPanel()</a>æ¥æœ‰æ¡ä»¶åœ°æ˜¾ç¤ºå’Œéšè—ç”¨æˆ·ç•Œé¢çš„éƒ¨åˆ†ã€‚</li>\n<li>ä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/htmlOutput.html\">uiOutput()</a>å’Œ<a href=\"https://rdrr.io/pkg/shiny/man/renderUI.html\">renderUI()</a>é€šè¿‡ä»£ç ç”Ÿæˆç”¨æˆ·ç•Œé¢çš„é€‰å®šéƒ¨åˆ†ã€‚</li>\n</ul>\n<p>è¿™ä¸‰ä¸ªå·¥å…·ä¸ºæ‚¨æä¾›äº†ç›¸å½“å¼ºå¤§çš„åŠŸèƒ½ï¼Œé€šè¿‡ä¿®æ”¹è¾“å…¥å’Œè¾“å‡ºæ¥å“åº”ç”¨æˆ·ã€‚æˆ‘å°†æ¼”ç¤ºä¸€äº›æ‚¨å¯ä»¥åº”ç”¨å®ƒä»¬çš„æ›´æœ‰ç”¨çš„æ–¹å¼ï¼Œä½†æœ€ç»ˆæ‚¨çš„åˆ›é€ åŠ›æ˜¯å”¯ä¸€çš„é™åˆ¶ã€‚åŒæ—¶ï¼Œè¿™äº›å·¥å…·å¯èƒ½ä¼šä½¿æ‚¨çš„åº”ç”¨ç¨‹åºå˜å¾—æ›´éš¾ç†è§£ï¼Œå› æ­¤è¯·è°¨æ…ä½¿ç”¨ï¼Œå¹¶å§‹ç»ˆåŠªåŠ›ä½¿ç”¨è§£å†³æ‚¨é—®é¢˜çš„æœ€ç®€å•æŠ€æœ¯ã€‚</p>\n<p>æ¥ä¸‹æ¥æ˜¯Rä»£ç åº“çš„åŠ è½½éƒ¨åˆ†ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>shiny<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>dplyr<span class=\"punctuation\">,</span> warn.conflicts <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"10-1-æ›´æ–°è¾“å…¥\"><a href=\"#10-1-æ›´æ–°è¾“å…¥\" class=\"headerlink\" title=\"10.1 æ›´æ–°è¾“å…¥\"></a>10.1 æ›´æ–°è¾“å…¥</h2><p>æˆ‘ä»¬å°†ä»ä¸€ä¸ªç®€å•çš„æŠ€æœ¯å¼€å§‹ï¼Œè¯¥æŠ€æœ¯å…è®¸æ‚¨åœ¨åˆ›å»ºåä¿®æ”¹è¾“å…¥ï¼š<code>update</code>ç³»åˆ—çš„å‡½æ•°ã€‚æ¯ä¸ªè¾“å…¥æ§ä»¶ï¼Œä¾‹å¦‚<code>textInput()</code>ï¼Œéƒ½é…æœ‰ä¸€ä¸ªæ›´æ–°å‡½æ•°ï¼Œä¾‹å¦‚<code>updateTextInput()</code>ï¼Œå…è®¸æ‚¨åœ¨åˆ›å»ºåä¿®æ”¹è¯¥æ§ä»¶ã€‚</p>\n<p>è¯·è€ƒè™‘ä»¥ä¸‹ä»£ç ç¤ºä¾‹ï¼Œç»“æœå¦‚<code>å›¾10.1</code>æ‰€ç¤ºã€‚è¯¥åº”ç”¨ç¨‹åºæœ‰ä¸¤ä¸ªè¾“å…¥æ§ä»¶ï¼Œå®ƒä»¬æ§åˆ¶å¦ä¸€ä¸ªè¾“å…¥æ§ä»¶ï¼ˆæ»‘å—ï¼‰çš„èŒƒå›´ï¼ˆæœ€å°å€¼å’Œæœ€å¤§å€¼ï¼‰ã€‚å…³é”®çš„æƒ³æ³•æ˜¯ä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/observeEvent.html\">observeEvent()</a>æ¥è§¦å‘<a href=\"https://rdrr.io/pkg/shiny/man/updateSliderInput.html\">updateSliderInput()</a>ï¼Œæ¯å½“æœ€å°æˆ–æœ€å¤§è¾“å…¥å‘ç”Ÿå˜åŒ–æ—¶ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;min&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Minimum&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">0</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;max&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Maximum&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">3</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">3</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span><span class=\"built_in\">min</span><span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    updateSliderInput<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> input<span class=\"operator\">$</span><span class=\"built_in\">min</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span>  </span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span><span class=\"built_in\">max</span><span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    updateSliderInput<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> input<span class=\"operator\">$</span><span class=\"built_in\">max</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>observeEvent()</code>ç›‘è§†<code>min</code>å’Œ<code>max</code>è¾“å…¥çš„å˜åŒ–ï¼Œå¹¶åœ¨å®ƒä»¬å˜åŒ–æ—¶è°ƒç”¨<code>updateSliderInput()</code>æ¥æ›´æ–°æ»‘å—çš„æœ€å°å’Œæœ€å¤§å€¼ã€‚<code>renderText()</code>ç”¨äºåœ¨<code>textOutput()</code>æ§ä»¶ä¸­æ˜¾ç¤ºå½“å‰èŒƒå›´ã€‚</p>\n<table>\n<tr>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/45d9b7c2dabd64a4597e370d2b84c0dc01cf8a2f/2dc99/demos/action-dynamic/update-basics-onload.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/45d9b7c2dabd64a4597e370d2b84c0dc01cf8a2f/2dc99/demos/action-dynamic/update-basics-onload.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/e5a1387f21bee28260731f6fb84991e188af5ec2/8cfbf/demos/action-dynamic/update-basics-max-increase.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/e5a1387f21bee28260731f6fb84991e188af5ec2/8cfbf/demos/action-dynamic/update-basics-max-increase.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/fcca996a780ec2cbaf306e764a577649e6fdca4b/5ecfc/demos/action-dynamic/update-basics-min-decrease.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/fcca996a780ec2cbaf306e764a577649e6fdca4b/5ecfc/demos/action-dynamic/update-basics-min-decrease.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n</tr>\n<tr>\n<td colspan=\"3\">å›¾10.1 åº”ç”¨ç¨‹åºåŠ è½½æ—¶çš„ç•Œé¢ï¼ˆå·¦ï¼‰ï¼Œå¢åŠ æœ€å¤§å€¼åçš„ç•Œé¢ï¼ˆä¸­ï¼‰ï¼Œç„¶åå‡å°‘æœ€å°å€¼åçš„ç•Œé¢ï¼ˆå³ï¼‰ã€‚è¯·è®¿é—® <a href=\"https://hadley.shinyapps.io/ms-update-basics\">https://hadley.shinyapps.io/ms-update-basics</a> æŸ¥çœ‹å®æ—¶æ•ˆæœ\n</td>\n</tr>\n</table>\n\n<p>æ›´æ–°å‡½æ•°ä¸å…¶ä»–Shinyå‡½æ•°æœ‰äº›ä¸åŒï¼šå®ƒä»¬éƒ½æ¥å—è¾“å…¥çš„åç§°ï¼ˆä½œä¸ºå­—ç¬¦ä¸²ï¼‰ä½œä¸º<code>inputId</code>å‚æ•°ã€‚å…¶ä½™çš„å‚æ•°å¯¹åº”äºè¾“å…¥æ„é€ å‡½æ•°ä¸­å¯ä»¥åœ¨åˆ›å»ºåä¿®æ”¹çš„å‚æ•°ã€‚</p>\n<p>ä¸ºäº†å¸®åŠ©æ‚¨æŒæ¡æ›´æ–°å‡½æ•°çš„ä½¿ç”¨ï¼Œæˆ‘å°†å±•ç¤ºå‡ ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œç„¶åæˆ‘ä»¬å°†æ·±å…¥æ¢è®¨ä½¿ç”¨åˆ†å±‚é€‰æ‹©æ¡†çš„å¤æ‚æ¡ˆä¾‹ç ”ç©¶ï¼Œæœ€åè®¨è®ºå¾ªç¯å¼•ç”¨çš„é—®é¢˜ã€‚</p>\n<h3 id=\"10-1-1-ç®€å•åº”ç”¨\"><a href=\"#10-1-1-ç®€å•åº”ç”¨\" class=\"headerlink\" title=\"10.1.1 ç®€å•åº”ç”¨\"></a>10.1.1 ç®€å•åº”ç”¨</h3><p>æ›´æ–°å‡½æ•°æœ€ç®€å•çš„ç”¨æ³•æ˜¯ä¸ºç”¨æˆ·æä¾›ä¸€äº›å°çš„ä¾¿åˆ©ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½å¸Œæœ›è½»æ¾åœ°å°†å‚æ•°é‡ç½®ä¸ºå…¶åˆå§‹å€¼ã€‚ä»¥ä¸‹ä»£ç ç‰‡æ®µå±•ç¤ºäº†å¦‚ä½•ç»“åˆä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/actionButton.html\">actionButton()</a>ã€<a href=\"https://rdrr.io/pkg/shiny/man/observeEvent.html\">observeEvent()</a>å’Œ<a href=\"https://rdrr.io/pkg/shiny/man/updateSliderInput.html\">updateSliderInput()</a>ï¼Œç»“æœå¦‚<code>å›¾10.2</code>æ‰€ç¤ºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;x1&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;x1&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"operator\">-</span><span class=\"number\">10</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">10</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;x2&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;x2&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"operator\">-</span><span class=\"number\">10</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">10</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;x3&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;x3&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"operator\">-</span><span class=\"number\">10</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">10</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;reset&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Reset&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>reset<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    updateSliderInput<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;x1&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    updateSliderInput<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;x2&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    updateSliderInput<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;x3&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<table>\n<tr>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/b319bdb38cce5a357ba4131d17fec8b3a8bd34fd/cc473/demos/action-dynamic/update-reset-onload.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/b319bdb38cce5a357ba4131d17fec8b3a8bd34fd/cc473/demos/action-dynamic/update-reset-onload.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/b5061a18295fbec4f08dd399e32ce252d2ad6eb9/230d4/demos/action-dynamic/update-reset-set.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/b5061a18295fbec4f08dd399e32ce252d2ad6eb9/230d4/demos/action-dynamic/update-reset-set.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/b319bdb38cce5a357ba4131d17fec8b3a8bd34fd/8c5f7/demos/action-dynamic/update-reset-reset.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/b319bdb38cce5a357ba4131d17fec8b3a8bd34fd/8c5f7/demos/action-dynamic/update-reset-reset.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n</tr>\n<tr><td colspan=\"3\">å›¾10.2 åº”ç”¨åŠ è½½æ—¶ï¼ˆå·¦å›¾ï¼‰ï¼Œæ‹–åŠ¨ä¸€äº›æ»‘å—åï¼ˆä¸­å›¾ï¼‰ï¼Œç„¶åç‚¹å‡»é‡ç½®ï¼ˆå³å›¾ï¼‰ã€‚åœ¨çº¿æŸ¥çœ‹åœ°å€ï¼š<a href=\"https://hadley.shinyapps.io/ms-update-reset\">https://hadley.shinyapps.io/ms-update-reset</a></td></tr>\n</table>\n\n<p>ä¸€ä¸ªç±»ä¼¼çš„åº”ç”¨æ˜¯è°ƒæ•´åŠ¨ä½œæŒ‰é’®çš„æ–‡æœ¬ï¼Œä»¥ä¾¿ä½ ç¡®åˆ‡çŸ¥é“å®ƒå°†æ‰§è¡Œä»€ä¹ˆæ“ä½œã€‚å›¾<code>10.3</code>å±•ç¤ºäº†ä¸‹é¢ä»£ç çš„ç»“æœã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Simulations&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">10</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;simulate&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Simulate&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>n<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    label <span class=\"operator\">&lt;-</span> paste0<span class=\"punctuation\">(</span><span class=\"string\">&quot;Simulate &quot;</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>n<span class=\"punctuation\">,</span> <span class=\"string\">&quot; times&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    updateActionButton<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;simulate&quot;</span><span class=\"punctuation\">,</span> label <span class=\"operator\">=</span> label<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<table>\n<tr>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/f6604343f39fe08be631b06ddac37b2c00d73ea5/f636b/demos/action-dynamic/update-button-onload.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/f6604343f39fe08be631b06ddac37b2c00d73ea5/f636b/demos/action-dynamic/update-button-onload.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/d65b9991e6b08e57700bf2cc8f5fafafe59ebc4e/03e2a/demos/action-dynamic/update-button-set1.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/d65b9991e6b08e57700bf2cc8f5fafafe59ebc4e/03e2a/demos/action-dynamic/update-button-set1.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/a2a75084db3d975c48dc56ef70eebd2906eae356/a924e/demos/action-dynamic/update-button-set100.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/a2a75084db3d975c48dc56ef70eebd2906eae356/a924e/demos/action-dynamic/update-button-set100.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n</tr>\n<tr><td colspan=\"3\">å›¾ 10.3 åº”ç”¨åŠ è½½æ—¶ï¼ˆå·¦ï¼‰ï¼Œå°†æ¨¡æ‹Ÿæ¬¡æ•°è®¾ç½®ä¸º 1ï¼ˆä¸­ï¼‰ï¼Œå†å°†æ¨¡æ‹Ÿæ¬¡æ•°è®¾ç½®ä¸º 100ï¼ˆå³ï¼‰ã€‚åœ¨çº¿æŸ¥çœ‹åœ°å€ï¼š<a href=\"https://hadley.shinyapps.io/ms-update-button\">https://hadley.shinyapps.io/ms-update-button</a></td></tr>\n</table>\n\n<p>æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥ç”¨è¿™ç§æ–¹å¼ä½¿ç”¨æ›´æ–°å‡½æ•°ï¼›åœ¨å¼€å‘å¤æ‚åº”ç”¨æ—¶ï¼Œè¦æ³¨æ„æ‰¾å‡ºå‘ç”¨æˆ·æä¾›æ›´å¤šä¿¡æ¯çš„æ–¹æ³•ã€‚ä¸€ä¸ªç‰¹åˆ«é‡è¦çš„åº”ç”¨æ˜¯é€šè¿‡é€æ­¥ç­›é€‰æ¥ç®€åŒ–ä»ä¸€é•¿ä¸²å¯èƒ½é€‰é¡¹ä¸­è¿›è¡Œé€‰æ‹©çš„è¿‡ç¨‹ã€‚è¿™é€šå¸¸æ˜¯â€œåˆ†å±‚é€‰æ‹©æ¡†â€çš„é—®é¢˜ã€‚</p>\n<h3 id=\"10-1-2-åˆ†å±‚é€‰æ‹©æ¡†\"><a href=\"#10-1-2-åˆ†å±‚é€‰æ‹©æ¡†\" class=\"headerlink\" title=\"10.1.2 åˆ†å±‚é€‰æ‹©æ¡†\"></a>10.1.2 åˆ†å±‚é€‰æ‹©æ¡†</h3><p>æ›´æ–°å‡½æ•°çš„ä¸€ä¸ªæ›´å¤æ‚ä½†ç‰¹åˆ«æœ‰ç”¨çš„åº”ç”¨æ˜¯å…è®¸åœ¨å¤šä¸ªç±»åˆ«ä¹‹é—´è¿›è¡Œäº¤äº’å¼æ·±å…¥æ¢ç´¢ã€‚æˆ‘å°†ç”¨ä¸€ä¸ªæ¥è‡ª <a href=\"https://www.kaggle.com/kyanyoga/sample-sales-data\">https://www.kaggle.com/kyanyoga/sample-sales-data</a> çš„é”€å”®ä»ªè¡¨æ¿çš„è™šæ‹Ÿæ•°æ®æ¥è¯´æ˜å®ƒä»¬çš„ä½¿ç”¨æ–¹æ³•ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sales <span class=\"operator\">&lt;-</span> vroom<span class=\"operator\">::</span>vroom<span class=\"punctuation\">(</span><span class=\"string\">&quot;sales-dashboard/sales_data_sample.csv&quot;</span><span class=\"punctuation\">,</span> col_types <span class=\"operator\">=</span> <span class=\"built_in\">list</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> na <span class=\"operator\">=</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">sales <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">  select<span class=\"punctuation\">(</span>TERRITORY<span class=\"punctuation\">,</span> CUSTOMERNAME<span class=\"punctuation\">,</span> ORDERNUMBER<span class=\"punctuation\">,</span> everything<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  arrange<span class=\"punctuation\">(</span>ORDERNUMBER<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 2,823 Ã— 25</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;    TERRITORY CUSTOMâ€¦Â¹ ORDERâ€¦Â² QUANTâ€¦Â³ PRICEâ€¦â´ ORDERâ€¦âµ SALES ORDERâ€¦â¶ STATUS QTR_ID</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;    &lt;chr&gt;     &lt;chr&gt;      &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt;</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  1 NA        Online â€¦   10100      30   100         3 5151  1/6/20â€¦ Shippâ€¦      1</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  2 NA        Online â€¦   10100      50    67.8       2 3390  1/6/20â€¦ Shippâ€¦      1</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  3 NA        Online â€¦   10100      22    86.5       4 1903. 1/6/20â€¦ Shippâ€¦      1</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  4 NA        Online â€¦   10100      49    34.5       1 1689. 1/6/20â€¦ Shippâ€¦      1</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  5 EMEA      Blauer â€¦   10101      25   100         4 3782  1/9/20â€¦ Shippâ€¦      1</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  6 EMEA      Blauer â€¦   10101      26   100         1 3773. 1/9/20â€¦ Shippâ€¦      1</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  7 EMEA      Blauer â€¦   10101      45    31.2       3 1404  1/9/20â€¦ Shippâ€¦      1</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  8 EMEA      Blauer â€¦   10101      46    53.8       2 2473. 1/9/20â€¦ Shippâ€¦      1</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  9 NA        Vitachrâ€¦   10102      39   100         2 4808. 1/10/2â€¦ Shippâ€¦      1</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 10 NA        Vitachrâ€¦   10102      41    50.1       1 2056. 1/10/2â€¦ Shippâ€¦      1</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 2,813 more rows, 15 more variables: MONTH_ID &lt;dbl&gt;, YEAR_ID &lt;dbl&gt;,</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; #   PRODUCTLINE &lt;chr&gt;, MSRP &lt;dbl&gt;, PRODUCTCODE &lt;chr&gt;, PHONE &lt;chr&gt;,</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; #   ADDRESSLINE1 &lt;chr&gt;, ADDRESSLINE2 &lt;chr&gt;, CITY &lt;chr&gt;, STATE &lt;chr&gt;,</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; #   POSTALCODE &lt;chr&gt;, COUNTRY &lt;chr&gt;, CONTACTLASTNAME &lt;chr&gt;,</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; #   CONTACTFIRSTNAME &lt;chr&gt;, DEALSIZE &lt;chr&gt;, and abbreviated variable names</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; #   Â¹â€‹CUSTOMERNAME, Â²â€‹ORDERNUMBER, Â³â€‹QUANTITYORDERED, â´â€‹PRICEEACH, âµâ€‹ORDERLINENUMBER,</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; #   â¶â€‹ORDERDATE</span></span><br></pre></td></tr></table></figure>\n\n<p>åœ¨è¿™ä¸ªæ¼”ç¤ºä¸­ï¼Œæˆ‘å°†é‡ç‚¹å…³æ³¨æ•°æ®ä¸­çš„è‡ªç„¶å±‚æ¬¡ç»“æ„ï¼š</p>\n<ul>\n<li><p>æ¯ä¸ªåŒºåŸŸåŒ…å«å®¢æˆ·ã€‚</p>\n</li>\n<li><p>æ¯ä¸ªå®¢æˆ·æœ‰å¤šä¸ªè®¢å•ã€‚</p>\n</li>\n<li><p>æ¯ä¸ªè®¢å•åŒ…å«è¡Œã€‚</p>\n</li>\n</ul>\n<p>æˆ‘æƒ³åˆ›å»ºä¸€ä¸ªç”¨æˆ·ç•Œé¢ï¼Œä½ å¯ä»¥ï¼š</p>\n<ul>\n<li><p>é€‰æ‹©ä¸€ä¸ªåŒºåŸŸæ¥æŸ¥çœ‹æ‰€æœ‰å®¢æˆ·ã€‚</p>\n</li>\n<li><p>é€‰æ‹©ä¸€ä¸ªå®¢æˆ·æ¥æŸ¥çœ‹æ‰€æœ‰è®¢å•ã€‚</p>\n</li>\n<li><p>é€‰æ‹©ä¸€ä¸ªè®¢å•æ¥æŸ¥çœ‹åº•å±‚è¡Œã€‚</p>\n</li>\n</ul>\n<p>ç”¨æˆ·ç•Œé¢çš„æ ¸å¿ƒæ˜¯ç®€å•çš„ï¼šæˆ‘å°†åˆ›å»ºä¸‰ä¸ªé€‰æ‹©æ¡†å’Œä¸€ä¸ªè¾“å‡ºè¡¨æ ¼ã€‚<code>customername</code>å’Œ<code>ordernumber</code>é€‰æ‹©æ¡†çš„é€‰é¡¹å°†åŠ¨æ€ç”Ÿæˆï¼Œå› æ­¤æˆ‘å°†è®¾ç½®<code>choices = NULL</code>ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;territory&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Territory&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> unique<span class=\"punctuation\">(</span>sales<span class=\"operator\">$</span>TERRITORY<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;customername&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Customer&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;ordernumber&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Order number&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;data&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>åœ¨æœåŠ¡å™¨å‡½æ•°ä¸­ï¼Œæˆ‘è‡ªä¸Šè€Œä¸‹åœ°å·¥ä½œï¼š</p>\n<ol>\n<li><p>æˆ‘åˆ›å»ºäº†ä¸€ä¸ªå“åº”å¼å¯¹è±¡ <code>territory()</code>ï¼Œå®ƒåŒ…å«ä¸æ‰€é€‰åŒºåŸŸåŒ¹é…çš„ <code>sales</code> ä¸­çš„è¡Œã€‚</p>\n</li>\n<li><p>æ¯å½“ <code>territory()</code> å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæˆ‘éƒ½ä¼šæ›´æ–° <code>input$customername</code> é€‰æ‹©æ¡†ä¸­çš„é€‰é¡¹åˆ—è¡¨ã€‚</p>\n</li>\n<li><p>æˆ‘åˆ›å»ºäº†å¦ä¸€ä¸ªå“åº”å¼å¯¹è±¡ <code>customer()</code>ï¼Œå®ƒåŒ…å«ä¸æ‰€é€‰å®¢æˆ·åŒ¹é…çš„ <code>territory()</code> ä¸­çš„è¡Œã€‚</p>\n</li>\n<li><p>æ¯å½“ <code>customer()</code> å‘ç”Ÿå˜åŒ–æ—¶ï¼Œæˆ‘éƒ½ä¼šæ›´æ–° <code>input$ordernumber</code> é€‰æ‹©æ¡†ä¸­çš„é€‰é¡¹åˆ—è¡¨ã€‚</p>\n</li>\n<li><p>æˆ‘åœ¨ <code>output$data</code> ä¸­æ˜¾ç¤ºæ‰€é€‰è®¢å•ã€‚</p>\n</li>\n</ol>\n<p>ä½ å¯ä»¥çœ‹åˆ°ä¸‹é¢çš„ç»„ç»‡ç»“æ„ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  territory <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    filter<span class=\"punctuation\">(</span>sales<span class=\"punctuation\">,</span> TERRITORY <span class=\"operator\">==</span> input<span class=\"operator\">$</span>territory<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>territory<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    choices <span class=\"operator\">&lt;-</span> unique<span class=\"punctuation\">(</span>territory<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>CUSTOMERNAME<span class=\"punctuation\">)</span></span><br><span class=\"line\">    updateSelectInput<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;customername&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> choices<span class=\"punctuation\">)</span> </span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  customer <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    req<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>customername<span class=\"punctuation\">)</span></span><br><span class=\"line\">    filter<span class=\"punctuation\">(</span>territory<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> CUSTOMERNAME <span class=\"operator\">==</span> input<span class=\"operator\">$</span>customername<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>customer<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    choices <span class=\"operator\">&lt;-</span> unique<span class=\"punctuation\">(</span>customer<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>ORDERNUMBER<span class=\"punctuation\">)</span></span><br><span class=\"line\">    updateSelectInput<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;ordernumber&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> choices<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>data <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    req<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>ordernumber<span class=\"punctuation\">)</span></span><br><span class=\"line\">    customer<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">      filter<span class=\"punctuation\">(</span>ORDERNUMBER <span class=\"operator\">==</span> input<span class=\"operator\">$</span>ordernumber<span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">      select<span class=\"punctuation\">(</span>QUANTITYORDERED<span class=\"punctuation\">,</span> PRICEEACH<span class=\"punctuation\">,</span> PRODUCTCODE<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<table>\n<tr>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/fe6c81ed4946e87b044fc7cc91b3bb05e4954043/7d64e/demos/action-dynamic/update-nested-territory.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/fe6c81ed4946e87b044fc7cc91b3bb05e4954043/7d64e/demos/action-dynamic/update-nested-territory.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/d3a0d284501015f737373cc8e6f14b27a49de373/0e06a/demos/action-dynamic/update-nested-customername.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/d3a0d284501015f737373cc8e6f14b27a49de373/0e06a/demos/action-dynamic/update-nested-customername.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/b0ae629ca1909719117abfce2d890db7bf379412/37026/demos/action-dynamic/update-nested-orders.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/b0ae629ca1909719117abfce2d890db7bf379412/37026/demos/action-dynamic/update-nested-orders.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n</tr>\n<tr><td colspan=\"3\">å›¾ 10.4 æˆ‘é€‰æ‹©â€œEMEAâ€ï¼ˆå·¦ï¼‰ï¼Œç„¶åé€‰æ‹©â€œLyon Souveniersâ€ï¼ˆä¸­ï¼‰ï¼Œç„¶åï¼ˆå³ï¼‰æŸ¥çœ‹è®¢å•ã€‚åœ¨çº¿æŸ¥çœ‹åœ°å€ï¼š<a href=\"https://hadley.shinyapps.io/ms-update-nested\">https://hadley.shinyapps.io/ms-update-nested</a></td></tr>\n</table>\n\n<p>ä½ å¯ä»¥åœ¨ <a href=\"https://hadley.shinyapps.io/ms-update-nested\">https://hadley.shinyapps.io/ms-update-nested</a> å°è¯•è¿™ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œæˆ–è€…åœ¨ <a href=\"https://github.com/hadley/mastering-shiny/tree/master/sales-dashboard\">https://github.com/hadley/mastering-shiny/tree/master/sales-dashboard</a> æŸ¥çœ‹ä¸€ä¸ªæ›´åŠ å®Œå–„çš„åº”ç”¨ç¤ºä¾‹ã€‚</p>\n<h3 id=\"10-1-3-å†»ç»“å“åº”å¼è¾“å…¥\"><a href=\"#10-1-3-å†»ç»“å“åº”å¼è¾“å…¥\" class=\"headerlink\" title=\"10.1.3 å†»ç»“å“åº”å¼è¾“å…¥\"></a>10.1.3 å†»ç»“å“åº”å¼è¾“å…¥</h3><p>æœ‰æ—¶ï¼Œè¿™ç§åˆ†å±‚é€‰æ‹©ä¼šçŸ­æš‚åœ°åˆ›å»ºä¸€ä¸ªæ— æ•ˆçš„è¾“å…¥é›†ï¼Œå¯¼è‡´å‡ºç°ä¸æƒ³è¦çš„è¾“å‡ºé—ªçƒã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘è¿™ä¸ªç®€å•çš„åº”ç”¨ï¼Œä½ é¦–å…ˆé€‰æ‹©ä¸€ä¸ªæ•°æ®é›†ï¼Œç„¶åé€‰æ‹©è¦æ±‡æ€»çš„å˜é‡ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;dataset&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Choose a dataset&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;pressure&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;cars&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;column&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Choose column&quot;</span><span class=\"punctuation\">,</span> character<span class=\"punctuation\">(</span><span class=\"number\">0</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  verbatimTextOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;summary&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  dataset <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span>get<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>dataset<span class=\"punctuation\">,</span> <span class=\"string\">&quot;package:datasets&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>dataset<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    updateSelectInput<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;column&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>dataset<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>summary <span class=\"operator\">&lt;-</span> renderPrint<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    summary<span class=\"punctuation\">(</span>dataset<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>column<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœä½ åœ¨ <a href=\"https://hadley.shinyapps.io/ms-freeze\">https://hadley.shinyapps.io/ms-freeze</a> ä¸Šå°è¯•è¿™ä¸ªå®æ—¶åº”ç”¨ï¼Œä½ ä¼šæ³¨æ„åˆ°å½“ä½ åˆ‡æ¢æ•°æ®é›†æ—¶ï¼Œæ‘˜è¦è¾“å‡ºä¼šçŸ­æš‚åœ°é—ªçƒã€‚è¿™æ˜¯å› ä¸º <a href=\"https://rdrr.io/pkg/shiny/man/updateSelectInput.html\">updateSelectInput()</a> åªæœ‰åœ¨æ‰€æœ‰è¾“å‡ºå’Œè§‚å¯Ÿè€…éƒ½è¿è¡Œä¹‹åæ‰ä¼šç”Ÿæ•ˆï¼Œå› æ­¤ä¼šæš‚æ—¶å‡ºç°ä¸€ä¸ªçŠ¶æ€ï¼Œå³ä½ æ‹¥æœ‰æ•°æ®é›† B å’Œæ¥è‡ªæ•°æ®é›† A çš„å˜é‡ï¼Œå› æ­¤è¾“å‡ºä¼šåŒ…å« <code>summary(NULL)</code>ã€‚</p>\n<p>ä½ å¯ä»¥é€šè¿‡â€œfreezingâ€è¾“å…¥å€¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½¿ç”¨ <a href=\"https://rdrr.io/pkg/shiny/man/freezeReactiveValue.html\">freezeReactiveValue()</a>ã€‚è¿™ç¡®ä¿äº†ä»»ä½•ä½¿ç”¨è¾“å…¥çš„å“åº”å¼å¯¹è±¡æˆ–è¾“å‡ºéƒ½ä¸ä¼šæ›´æ–°ï¼Œç›´åˆ°ä¸‹ä¸€æ¬¡å®Œæ•´çš„å¤±æ•ˆå‘¨æœŸã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  dataset <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span>get<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>dataset<span class=\"punctuation\">,</span> <span class=\"string\">&quot;package:datasets&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>dataset<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    freezeReactiveValue<span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> <span class=\"string\">&quot;column&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    updateSelectInput<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;column&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>dataset<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>summary <span class=\"operator\">&lt;-</span> renderPrint<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    summary<span class=\"punctuation\">(</span>dataset<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>column<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¯·æ³¨æ„ï¼Œä½ ä¸éœ€è¦â€œthawâ€è¾“å…¥å€¼ï¼›å½“ Shiny æ£€æµ‹åˆ°ä¼šè¯å’ŒæœåŠ¡å™¨å†æ¬¡åŒæ­¥æ—¶ï¼Œè¿™ä¼šè‡ªåŠ¨å‘ç”Ÿã€‚</p>\n<p>ä½ å¯èƒ½ä¼šå¥½å¥‡ä»€ä¹ˆæ—¶å€™åº”è¯¥ä½¿ç”¨ <a href=\"https://rdrr.io/pkg/shiny/man/freezeReactiveValue.html\">freezeReactiveValue()</a>ï¼šå®é™…ä¸Šï¼Œå½“ä½ åŠ¨æ€æ›´æ”¹è¾“å…¥å€¼æ—¶ï¼Œä½¿ç”¨å®ƒæ€»æ˜¯ä¸€ä¸ªå¥½ä¹ æƒ¯ã€‚å®é™…çš„ä¿®æ”¹éœ€è¦ä¸€äº›æ—¶é—´æ‰èƒ½æµå‘æµè§ˆå™¨ï¼Œç„¶åå†è¿”å›ç»™ Shinyï¼Œè€Œåœ¨æ­¤æœŸé—´ï¼Œä»»ä½•å¯¹è¯¥å€¼çš„è¯»å–éƒ½å¯èƒ½æ˜¯æµªè´¹çš„ï¼Œåœ¨æœ€åçš„æƒ…å†µä¸‹å¯èƒ½å¯¼è‡´é”™è¯¯ã€‚ä½¿ç”¨ <code>freezeReactiveValue()</code> å‘Šè¯‰æ‰€æœ‰ä¸‹æ¸¸è®¡ç®—ï¼Œè¾“å…¥å€¼æ˜¯é™ˆæ—§çš„ï¼Œå®ƒä»¬åº”è¯¥ä¿å­˜å®ƒä»¬çš„åŠªåŠ›ï¼Œç›´åˆ°å®ƒå˜å¾—æœ‰ç”¨ã€‚</p>\n<h3 id=\"10-1-4-å¾ªç¯å¼•ç”¨\"><a href=\"#10-1-4-å¾ªç¯å¼•ç”¨\" class=\"headerlink\" title=\"10.1.4 å¾ªç¯å¼•ç”¨\"></a>10.1.4 å¾ªç¯å¼•ç”¨</h3><p>å¦‚æœä½ æƒ³ä½¿ç”¨ update å‡½æ•°æ¥æ”¹å˜è¾“å…¥çš„å½“å‰<code>value</code>ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦è®¨è®ºä¸€ä¸ªé‡è¦çš„é—®é¢˜ã€‚ä» Shiny çš„è§’åº¦æ¥çœ‹ï¼Œä½¿ç”¨ update å‡½æ•°æ¥ä¿®æ”¹å€¼ä¸ç”¨æˆ·é€šè¿‡ç‚¹å‡»æˆ–è¾“å…¥æ¥ä¿®æ”¹å€¼æ²¡æœ‰åŒºåˆ«ã€‚è¿™æ„å‘³ç€ update å‡½æ•°å¯ä»¥åƒäººç±»ä¸€æ ·è§¦å‘å“åº”å¼æ›´æ–°ã€‚è¿™æ„å‘³ç€ä½ ç°åœ¨å·²ç»è¶…å‡ºäº†çº¯å“åº”å¼ç¼–ç¨‹çš„èŒƒå›´ï¼Œä½ éœ€è¦å¼€å§‹æ‹…å¿ƒå¾ªç¯å¼•ç”¨å’Œæ— é™å¾ªç¯çš„é—®é¢˜ã€‚</p>\n<p>ä¾‹å¦‚ï¼Œçœ‹çœ‹ä¸‹é¢è¿™ä¸ªç®€å•çš„åº”ç”¨ã€‚å®ƒåŒ…å«ä¸€ä¸ªè¾“å…¥æ§ä»¶å’Œä¸€ä¸ªè§‚å¯Ÿè€…ï¼Œåè€…å°†å…¶å€¼åŠ ä¸€å¹¶æ›´æ–°ã€‚æ¯æ¬¡è¿è¡Œ <a href=\"https://rdrr.io/pkg/shiny/man/updateNumericInput.html\">updateNumericInput()</a> æ—¶ï¼Œå®ƒéƒ½ä¼šæ›´æ”¹ <code>input$n</code>ï¼Œå¯¼è‡´ <code>updateNumericInput()</code> å†æ¬¡è¿è¡Œï¼Œå› æ­¤åº”ç”¨é™·å…¥æ— é™å¾ªç¯ï¼ŒæŒç»­å¢åŠ  <code>input$n</code> çš„å€¼ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">0</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>n<span class=\"punctuation\">,</span></span><br><span class=\"line\">    updateNumericInput<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> input<span class=\"operator\">$</span>n <span class=\"operator\">+</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>è™½ç„¶ä½ ä¸å¤ªå¯èƒ½åœ¨è‡ªå·±çš„åº”ç”¨ä¸­åˆ›å»ºè¿™ç§æ˜¾è€Œæ˜“è§çš„é—®é¢˜ï¼Œä½†å¦‚æœä½ åœ¨æ›´æ–°ç›¸äº’ä¾èµ–çš„å¤šä¸ªæ§ä»¶æ—¶ï¼Œå¯èƒ½ä¼šé‡åˆ°ç±»ä¼¼çš„é—®é¢˜ï¼Œå¦‚ä¸‹ä¸€ä¸ªä¾‹å­æ‰€ç¤ºã€‚</p>\n<h3 id=\"10-1-5-ç›¸äº’å…³è”çš„è¾“å…¥\"><a href=\"#10-1-5-ç›¸äº’å…³è”çš„è¾“å…¥\" class=\"headerlink\" title=\"10.1.5 ç›¸äº’å…³è”çš„è¾“å…¥\"></a>10.1.5 ç›¸äº’å…³è”çš„è¾“å…¥</h3><p>åœ¨åº”ç”¨ä¸­å‡ºç°å¾ªç¯å¼•ç”¨å¾ˆå®¹æ˜“å‘ç”Ÿåœ¨æœ‰å¤šä¸ªâ€œäº‹å®æ¥æºâ€æ—¶ã€‚ä¾‹å¦‚ï¼Œå‡è®¾ä½ æƒ³åˆ›å»ºä¸€ä¸ªæ¸©åº¦è½¬æ¢åº”ç”¨ï¼Œç”¨æˆ·æ—¢å¯ä»¥è¾“å…¥æ‘„æ°æ¸©åº¦ä¹Ÿå¯ä»¥è¾“å…¥åæ°æ¸©åº¦ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;temp_c&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Celsius&quot;</span><span class=\"punctuation\">,</span> <span class=\"literal\">NA</span><span class=\"punctuation\">,</span> step <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;temp_f&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Fahrenheit&quot;</span><span class=\"punctuation\">,</span> <span class=\"literal\">NA</span><span class=\"punctuation\">,</span> step <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>temp_f<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"built_in\">c</span> <span class=\"operator\">&lt;-</span> <span class=\"built_in\">round</span><span class=\"punctuation\">(</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>temp_f <span class=\"operator\">-</span> <span class=\"number\">32</span><span class=\"punctuation\">)</span> <span class=\"operator\">*</span> <span class=\"number\">5</span> <span class=\"operator\">/</span> <span class=\"number\">9</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    updateNumericInput<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;temp_c&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>temp_c<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    f <span class=\"operator\">&lt;-</span> <span class=\"built_in\">round</span><span class=\"punctuation\">(</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>temp_c <span class=\"operator\">*</span> <span class=\"number\">9</span> <span class=\"operator\">/</span> <span class=\"number\">5</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span> <span class=\"number\">32</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    updateNumericInput<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;temp_f&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> f<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœä½ å°è¯•è¿™ä¸ªåº”ç”¨ï¼Œ<a href=\"https://hadley.shinyapps.io/ms-temperature\">https://hadley.shinyapps.io/ms-temperature</a>ï¼Œä½ ä¼šå‘ç°å®ƒå¤§éƒ¨åˆ†æ—¶å€™å¯ä»¥æ­£å¸¸å·¥ä½œï¼Œä½†ä½ å¯èƒ½ä¹Ÿä¼šæ³¨æ„åˆ°å®ƒæœ‰æ—¶ä¼šè§¦å‘å¤šæ¬¡æ›´æ”¹ã€‚ä¾‹å¦‚ï¼š</p>\n<ul>\n<li><p>å°†æ¸©åº¦è®¾ä¸º120åæ°åº¦ï¼Œç„¶åç‚¹å‡»å‘ä¸‹çš„ç®­å¤´ã€‚</p>\n</li>\n<li><p>åæ°åº¦å˜ä¸º119ï¼Œæ‘„æ°åº¦æ›´æ–°ä¸º48ã€‚</p>\n</li>\n<li><p>48æ‘„æ°åº¦è½¬æ¢ä¸º118åæ°åº¦ï¼Œå› æ­¤åæ°åº¦å†æ¬¡å˜ä¸º118ã€‚</p>\n</li>\n<li><p>å¹¸è¿çš„æ˜¯ï¼Œ118åæ°åº¦ä»ç„¶æ˜¯48æ‘„æ°åº¦ï¼Œæ‰€ä»¥æ›´æ–°åœ¨é‚£é‡Œåœæ­¢äº†ã€‚</p>\n</li>\n</ul>\n<p>è¿™ä¸ªé—®é¢˜æ²¡æœ‰è§£å†³åŠæ³•ï¼Œå› ä¸ºä½ åœ¨åº”ç”¨ä¸­æœ‰ä¸€ä¸ªæ¦‚å¿µï¼ˆæ¸©åº¦ï¼‰ï¼Œä½†æœ‰ä¸¤ä¸ªè¡¨è¾¾å¼ï¼ˆæ‘„æ°åº¦å’Œåæ°åº¦ï¼‰ã€‚åœ¨è¿™é‡Œæˆ‘ä»¬å¾ˆå¹¸è¿ï¼Œå› ä¸ºå¾ªç¯è¿…é€Ÿæ”¶æ•›åˆ°ä¸€ä¸ªåŒæ—¶æ»¡è¶³ä¸¤ä¸ªçº¦æŸçš„å€¼ã€‚ä¸€èˆ¬æ¥è¯´ï¼Œé™¤éä½ æ„¿æ„éå¸¸ä»”ç»†åœ°åˆ†æä½ åˆ›å»ºçš„åº•å±‚åŠ¨æ€ç³»ç»Ÿçš„æ”¶æ•›æ€§è´¨ï¼Œå¦åˆ™æœ€å¥½é¿å…è¿™ç§æƒ…å†µã€‚</p>\n<h3 id=\"10-1-6-ç»ƒä¹ \"><a href=\"#10-1-6-ç»ƒä¹ \" class=\"headerlink\" title=\"10.1.6 ç»ƒä¹ \"></a>10.1.6 ç»ƒä¹ </h3><ol>\n<li><p>è¯·åœ¨ä¸‹é¢çš„ç”¨æˆ·ç•Œé¢ä¸­æ·»åŠ ä¸€ä¸ªæœåŠ¡å™¨å‡½æ•°ï¼Œä»¥æ›´æ–°<code>input$date</code>ï¼Œè¿™æ ·ä½ åªèƒ½é€‰æ‹©<code>input$year</code>ä¸­çš„æ—¥æœŸã€‚</p>\n <figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;year&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;year&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">2020</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  dateInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;date&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;date&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>è¯·åœ¨ä¸‹é¢çš„ç”¨æˆ·ç•Œé¢ä¸­æ·»åŠ ä¸€ä¸ªæœåŠ¡å™¨å‡½æ•°ï¼Œæ ¹æ®<code>input$state</code>æ›´æ–°<code>input$county</code>çš„é€‰æ‹©ã€‚ä½œä¸ºä¸€ä¸ªé¢å¤–çš„æŒ‘æˆ˜ï¼Œè¯·ä¹Ÿå°†è·¯æ˜“æ–¯å®‰é‚£å·çš„æ ‡ç­¾ä»â€œCountyâ€æ”¹ä¸ºâ€œParishâ€ï¼Œé˜¿æ‹‰æ–¯åŠ å·çš„æ ‡ç­¾æ”¹ä¸ºâ€œBoroughâ€ã€‚</p>\n <figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>openintro<span class=\"punctuation\">,</span> warn.conflicts <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; Loading required package: airports</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; Loading required package: cherryblossom</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; Loading required package: usdata</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; Registered S3 methods overwritten by &#x27;readr&#x27;:</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   method                    from </span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   as.data.frame.spec_tbl_df vroom</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   as_tibble.spec_tbl_df     vroom</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   format.col_spec           vroom</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   print.col_spec            vroom</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   print.collector           vroom</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   print.date_names          vroom</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   print.locale              vroom</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   str.col_spec              vroom</span></span><br><span class=\"line\">states <span class=\"operator\">&lt;-</span> unique<span class=\"punctuation\">(</span>county<span class=\"operator\">$</span>state<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;state&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;State&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> states<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;county&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;County&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ä½¿ç”¨æœåŠ¡å™¨å‡½æ•°å®Œå–„ä¸‹é¢çš„ç”¨æˆ·ç•Œé¢ï¼Œæ ¹æ®<code>input$continent</code>æ›´æ–°<code>input$country</code>çš„é€‰æ‹©ã€‚ä½¿ç”¨<code>output$data</code>æ˜¾ç¤ºæ‰€æœ‰åŒ¹é…çš„è¡Œã€‚</p>\n <figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>gapminder<span class=\"punctuation\">)</span></span><br><span class=\"line\">continents <span class=\"operator\">&lt;-</span> unique<span class=\"punctuation\">(</span>gapminder<span class=\"operator\">$</span>continent<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;continent&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Continent&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> continents<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;country&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Country&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;data&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>æ‰©å±•ä¹‹å‰çš„åº”ç”¨ï¼Œä»¥ä¾¿æ‚¨è¿˜å¯ä»¥é€‰æ‹©é€‰æ‹©æ‰€æœ‰å¤§æ´²ï¼Œä»è€ŒæŸ¥çœ‹æ‰€æœ‰å›½å®¶ã€‚æ‚¨éœ€è¦å°†<code>â€œ(All)â€</code>æ·»åŠ åˆ°é€‰æ‹©åˆ—è¡¨ä¸­ï¼Œç„¶ååœ¨è¿‡æ»¤æ—¶ç‰¹æ®Šå¤„ç†å®ƒã€‚</p>\n</li>\n<li><p>åœ¨<a href=\"https://community.rstudio.com/t/29307\">https://community.rstudio.com/t/29307</a>?ä¸Šæè¿°çš„é—®é¢˜çš„æ ¸å¿ƒæ˜¯ä»€ä¹ˆï¼Ÿ</p>\n</li>\n</ol>\n<h2 id=\"10-2-åŠ¨æ€å¯è§æ€§\"><a href=\"#10-2-åŠ¨æ€å¯è§æ€§\" class=\"headerlink\" title=\"10.2 åŠ¨æ€å¯è§æ€§\"></a>10.2 åŠ¨æ€å¯è§æ€§</h2><p>å¤æ‚æ€§çš„ä¸‹ä¸€æ­¥æ˜¯æœ‰é€‰æ‹©åœ°æ˜¾ç¤ºå’Œéšè—ç”¨æˆ·ç•Œé¢ä¸­çš„éƒ¨åˆ†ã€‚å¦‚æœæ‚¨äº†è§£ä¸€äº›JavaScriptå’ŒCSSï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨æ›´å¤æ‚çš„æ–¹æ³•ï¼Œä½†æœ‰ä¸€ç§æœ‰ç”¨çš„æŠ€æœ¯ä¸éœ€è¦ä»»ä½•é¢å¤–çš„çŸ¥è¯†ï¼šä½¿ç”¨é€‰é¡¹å¡é›†ï¼ˆå¦‚åœ¨6.3.1èŠ‚ä¸­ä»‹ç»çš„ï¼‰éšè—å¯é€‰çš„ç”¨æˆ·ç•Œé¢ã€‚è¿™æ˜¯ä¸€ç§å·§å¦™çš„æŠ€å·§ï¼Œå…è®¸æ‚¨æ ¹æ®éœ€è¦æ˜¾ç¤ºå’Œéšè—ç”¨æˆ·ç•Œé¢ï¼Œè€Œæ— éœ€ä»å¤´å¼€å§‹é‡æ–°ç”Ÿæˆå®ƒï¼ˆæ‚¨å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­å­¦åˆ°ï¼‰ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">    sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;controller&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Show&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> paste0<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">1</span><span class=\"operator\">:</span><span class=\"number\">3</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      tabsetPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">        id <span class=\"operator\">=</span> <span class=\"string\">&quot;switcher&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        type <span class=\"operator\">=</span> <span class=\"string\">&quot;hidden&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        tabPanelBody<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel1&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Panel 1 content&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        tabPanelBody<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel2&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Panel 2 content&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        tabPanelBody<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel3&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Panel 3 content&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">      <span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>controller<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    updateTabsetPanel<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;switcher&quot;</span><span class=\"punctuation\">,</span> selected <span class=\"operator\">=</span> input<span class=\"operator\">$</span>controller<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<table>\n<tr>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/177d392d2358ae933be3c5ae9a78b2f076d8cce0/f34ae/demos/action-dynamic/dynamic-panels.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/177d392d2358ae933be3c5ae9a78b2f076d8cce0/f34ae/demos/action-dynamic/dynamic-panels.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/a4ab38457f2b2194dfd2a5e1792f1d38fff0b6dc/90b0c/demos/action-dynamic/dynamic-panels-panel2.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/a4ab38457f2b2194dfd2a5e1792f1d38fff0b6dc/90b0c/demos/action-dynamic/dynamic-panels-panel2.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/7dc90302d452a421cc68547265384f212c58db8f/0dc9c/demos/action-dynamic/dynamic-panels-panel3.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/7dc90302d452a421cc68547265384f212c58db8f/0dc9c/demos/action-dynamic/dynamic-panels-panel3.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n</tr>\n<tr><td colspan=\"3\">å›¾10.5 é€‰æ‹©panel1ï¼ˆå·¦ï¼‰ï¼Œç„¶åé€‰æ‹©panel2ï¼ˆä¸­ï¼‰ï¼Œæœ€åé€‰æ‹©panel3ï¼ˆå³ï¼‰ã€‚æŸ¥çœ‹å®æ—¶æ•ˆæœè¯·è®¿é—® <a href=\"https://hadley.shinyapps.io/ms-dynamic-panels\">https://hadley.shinyapps.io/ms-dynamic-panels</a></td></tr>\n</table>\n\n<p>è¿™é‡Œä¸»è¦æœ‰ä¸¤ä¸ªæƒ³æ³•ï¼š</p>\n<ul>\n<li><p>ä½¿ç”¨å¸¦æœ‰éšè—é€‰é¡¹å¡çš„é€‰é¡¹å¡é›†é¢æ¿ã€‚</p>\n</li>\n<li><p>ä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/updateTabsetPanel.html\">updateTabsetPanel()</a>ä»æœåŠ¡å™¨åˆ‡æ¢é€‰é¡¹å¡ã€‚</p>\n</li>\n</ul>\n<p>è¿™æ˜¯ä¸€ä¸ªç®€å•çš„æƒ³æ³•ï¼Œä½†ç»“åˆä¸€ç‚¹åˆ›æ„ï¼Œå®ƒå°†èµ‹äºˆä½ ç›¸å½“å¤§çš„èƒ½åŠ›ã€‚æ¥ä¸‹æ¥çš„ä¸¤èŠ‚å°†ä¸¾ä¾‹è¯´æ˜å¦‚ä½•åœ¨å®è·µä¸­ä½¿ç”¨å®ƒçš„ä¸¤ä¸ªå°ä¾‹å­ã€‚</p>\n<h3 id=\"10-2-1-æ¡ä»¶ç”¨æˆ·ç•Œé¢\"><a href=\"#10-2-1-æ¡ä»¶ç”¨æˆ·ç•Œé¢\" class=\"headerlink\" title=\"10.2.1 æ¡ä»¶ç”¨æˆ·ç•Œé¢\"></a>10.2.1 æ¡ä»¶ç”¨æˆ·ç•Œé¢</h3><p>æƒ³è±¡ä¸€ä¸‹ï¼Œä½ æƒ³è¦ä¸€ä¸ªåº”ç”¨ï¼Œå…è®¸ç”¨æˆ·æ¨¡æ‹Ÿæ­£æ€åˆ†å¸ƒã€å‡åŒ€åˆ†å¸ƒå’ŒæŒ‡æ•°åˆ†å¸ƒã€‚æ¯ç§åˆ†å¸ƒéƒ½æœ‰ä¸åŒçš„å‚æ•°ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦æŸç§æ–¹æ³•æ¥æ˜¾ç¤ºä¸åŒåˆ†å¸ƒçš„ä¸åŒæ§ä»¶ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°†ä¸ºæ¯ä¸ªåˆ†å¸ƒçš„å”¯ä¸€ç”¨æˆ·ç•Œé¢æ”¾åœ¨å®ƒè‡ªå·±çš„<a href=\"https://rdrr.io/pkg/shiny/man/tabPanel.html\">tabPanel()</a>ä¸­ï¼Œç„¶åå°†ä¸‰ä¸ªé€‰é¡¹å¡ç»„ç»‡æˆä¸€ä¸ª<a href=\"https://rdrr.io/pkg/shiny/man/tabsetPanel.html\">tabsetPanel()</a>ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">parameter_tabs <span class=\"operator\">&lt;-</span> tabsetPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">  id <span class=\"operator\">=</span> <span class=\"string\">&quot;params&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  type <span class=\"operator\">=</span> <span class=\"string\">&quot;hidden&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;normal&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;mean&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;mean&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;sd&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;standard deviation&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;uniform&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">    numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;min&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;min&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;max&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;max&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;exponential&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;rate&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;rate&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åï¼Œæˆ‘å°†æŠŠè¿™éƒ¨åˆ†åµŒå…¥åˆ°ä¸€ä¸ªæ›´å®Œæ•´çš„ç”¨æˆ·ç•Œé¢ä¸­ï¼Œå…è®¸ç”¨æˆ·é€‰æ‹©æ ·æœ¬æ•°é‡ï¼Œå¹¶æ˜¾ç¤ºç»“æœçš„ç›´æ–¹å›¾ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">    sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;dist&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Distribution&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">        choices <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;normal&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;uniform&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;exponential&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">      <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Number of samples&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">100</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      parameter_tabs<span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;hist&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>è¯·æ³¨æ„ï¼Œæˆ‘å·²ç»ä»”ç»†åœ°å°†<code>input$dist</code>ä¸­çš„<code>choices</code>ä¸é€‰é¡¹å¡é¢æ¿çš„åç§°ç›¸åŒ¹é…ã€‚è¿™ä½¿å¾—ç¼–å†™ä¸‹é¢çš„<a href=\"https://rdrr.io/pkg/shiny/man/observeEvent.html\">observeEvent()</a>ä»£ç å˜å¾—å¾ˆå®¹æ˜“ï¼Œè¯¥ä»£ç ä¼šåœ¨åˆ†å¸ƒå˜åŒ–æ—¶è‡ªåŠ¨åˆ‡æ¢æ§ä»¶ã€‚è¯¥åº”ç”¨çš„å…¶ä»–éƒ¨åˆ†ä½¿ç”¨äº†ä½ å·²ç»ç†Ÿæ‚‰çš„æŠ€æœ¯ã€‚æœ€ç»ˆç»“æœå¦‚å›¾10.6æ‰€ç¤ºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>dist<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    updateTabsetPanel<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;params&quot;</span><span class=\"punctuation\">,</span> selected <span class=\"operator\">=</span> input<span class=\"operator\">$</span>dist<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\">  </span><br><span class=\"line\">  sample <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"built_in\">switch</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>dist<span class=\"punctuation\">,</span></span><br><span class=\"line\">      normal <span class=\"operator\">=</span> rnorm<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>n<span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>mean<span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>sd<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      uniform <span class=\"operator\">=</span> runif<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>n<span class=\"punctuation\">,</span> input<span class=\"operator\">$</span><span class=\"built_in\">min</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span><span class=\"built_in\">max</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      exponential <span class=\"operator\">=</span> rexp<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>n<span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>rate<span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>hist <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span>hist<span class=\"punctuation\">(</span>sample<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<table>\n<tr>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/cce8beeaa545088bdba647ce61f6cb67f1eee04e/48a70/demos/action-dynamic/dynamic-conditional-normal.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/cce8beeaa545088bdba647ce61f6cb67f1eee04e/48a70/demos/action-dynamic/dynamic-conditional-normal.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/d4e7bf3c6b1d72e2733aeaf06741ab542607e288/882f0/demos/action-dynamic/dynamic-conditional-uniform.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/d4e7bf3c6b1d72e2733aeaf06741ab542607e288/882f0/demos/action-dynamic/dynamic-conditional-uniform.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/a5699032e1e6b89fcd6d2c87bcf2d8b616b82e8c/c0cb8/demos/action-dynamic/dynamic-conditional-exponential.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/a5699032e1e6b89fcd6d2c87bcf2d8b616b82e8c/c0cb8/demos/action-dynamic/dynamic-conditional-exponential.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n</tr>\n<tr><td colspan=\"3\">å›¾10.6 æ­£æ€åˆ†å¸ƒï¼ˆå·¦ï¼‰ã€å‡åŒ€åˆ†å¸ƒï¼ˆä¸­ï¼‰å’ŒæŒ‡æ•°åˆ†å¸ƒï¼ˆå³ï¼‰çš„ç»“æœã€‚æŸ¥çœ‹å®æ—¶æ•ˆæœè¯·è®¿é—® <a href=\"https://hadley.shinyapps.io/ms-dynamic-conditional\">https://hadley.shinyapps.io/ms-dynamic-conditional</a></td></tr>\n</table>\n\n<p>è¯·æ³¨æ„ï¼Œï¼ˆä¾‹å¦‚ï¼‰<code>input$mean</code>çš„å€¼æ˜¯å¦å¯¹ç”¨æˆ·å¯è§æ˜¯ç‹¬ç«‹çš„ã€‚åº•å±‚çš„HTMLæ§ä»¶ä»ç„¶å­˜åœ¨ï¼›åªæ˜¯ä½ çœ‹ä¸åˆ°å®ƒã€‚</p>\n<h3 id=\"10-2-2-å‘å¯¼ç•Œé¢\"><a href=\"#10-2-2-å‘å¯¼ç•Œé¢\" class=\"headerlink\" title=\"10.2.2 å‘å¯¼ç•Œé¢\"></a>10.2.2 å‘å¯¼ç•Œé¢</h3><p>ä½ è¿˜å¯ä»¥ä½¿ç”¨è¿™ä¸ªæƒ³æ³•æ¥åˆ›å»ºä¸€ä¸ªâ€œwizardâ€ï¼Œè¿™æ˜¯ä¸€ç§ç•Œé¢ç±»å‹ï¼Œé€šè¿‡å°†å…¶åˆ†æ•£åˆ°å¤šä¸ªé¡µé¢ä¸Šï¼Œæ›´å®¹æ˜“æ”¶é›†å¤§é‡ä¿¡æ¯ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬åœ¨æ¯ä¸ªâ€œpageâ€ä¸­åµŒå…¥åŠ¨ä½œæŒ‰é’®ï¼Œä½¿å…¶æ˜“äºå‘å‰å’Œå‘åç§»åŠ¨ã€‚ç»“æœå¦‚å›¾10.7æ‰€ç¤ºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  tabsetPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">    id <span class=\"operator\">=</span> <span class=\"string\">&quot;wizard&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    type <span class=\"operator\">=</span> <span class=\"string\">&quot;hidden&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;page_1&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">      <span class=\"string\">&quot;Welcome!&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;page_12&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;next&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;page_2&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">      <span class=\"string\">&quot;Only one page to go&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;page_21&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;prev&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;page_23&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;next&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;page_3&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">      <span class=\"string\">&quot;You&#x27;re done!&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;page_32&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;prev&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  switch_page <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>i<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    updateTabsetPanel<span class=\"punctuation\">(</span>inputId <span class=\"operator\">=</span> <span class=\"string\">&quot;wizard&quot;</span><span class=\"punctuation\">,</span> selected <span class=\"operator\">=</span> paste0<span class=\"punctuation\">(</span><span class=\"string\">&quot;page_&quot;</span><span class=\"punctuation\">,</span> i<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>page_12<span class=\"punctuation\">,</span> switch_page<span class=\"punctuation\">(</span><span class=\"number\">2</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>page_21<span class=\"punctuation\">,</span> switch_page<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>page_23<span class=\"punctuation\">,</span> switch_page<span class=\"punctuation\">(</span><span class=\"number\">3</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>page_32<span class=\"punctuation\">,</span> switch_page<span class=\"punctuation\">(</span><span class=\"number\">2</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<table>\n<tr>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/701f300df256124c9aa4cb5d9a6cb6245c7f70ce/e783b/demos/action-dynamic/wizard-1.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/701f300df256124c9aa4cb5d9a6cb6245c7f70ce/e783b/demos/action-dynamic/wizard-1.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/8b0644dfec78873a45545620af591b31323fa11c/c61f6/demos/action-dynamic/wizard-2.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/8b0644dfec78873a45545620af591b31323fa11c/c61f6/demos/action-dynamic/wizard-2.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/9089ca7b0a519d51ae51c4991b26234561a41e67/18197/demos/action-dynamic/wizard-3.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/9089ca7b0a519d51ae51c4991b26234561a41e67/18197/demos/action-dynamic/wizard-3.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n</tr>\n<tr><td colspan=\"3\">å›¾10.7 å‘å¯¼ç•Œé¢å°†å¤æ‚çš„ç”¨æˆ·ç•Œé¢åˆ†å‰²æˆå¤šä¸ªé¡µé¢ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬é€šè¿‡ä¸€ä¸ªéå¸¸ç®€å•çš„ç¤ºä¾‹æ¥æ¼”ç¤ºè¿™ä¸ªæƒ³æ³•ï¼Œç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ä»¥è¿›å…¥ä¸‹ä¸€é¡µã€‚æŸ¥çœ‹å®æ—¶æ•ˆæœè¯·è®¿é—® <a href=\"https://hadley.shinyapps.io/ms-wizard\">https://hadley.shinyapps.io/ms-wizard</a></td></tr>\n</table>\n\n\n<p>è¯·æ³¨æ„ï¼Œä½¿ç”¨<code>switch_page()</code>å‡½æ•°å¯ä»¥å‡å°‘æœåŠ¡å™¨ä»£ç ä¸­çš„é‡å¤é‡ã€‚æˆ‘ä»¬å°†åœ¨ç¬¬18ç« å†æ¬¡å›åˆ°è¿™ä¸ªæƒ³æ³•ï¼Œç„¶ååœ¨ç¬¬<code>19.4.2</code>èŠ‚ä¸­åˆ›å»ºä¸€ä¸ªæ¨¡å—æ¥è‡ªåŠ¨åŒ–å‘å¯¼ç•Œé¢ã€‚</p>\n<h3 id=\"10-2-3-ç»ƒä¹ \"><a href=\"#10-2-3-ç»ƒä¹ \" class=\"headerlink\" title=\"10.2.3 ç»ƒä¹ \"></a>10.2.3 ç»ƒä¹ </h3><ol>\n<li><p>ä½¿ç”¨éšè—çš„é€‰é¡¹å¡é›†ï¼Œä»…å½“ç”¨æˆ·é€‰ä¸­â€œadvancedâ€å¤é€‰æ¡†æ—¶æ‰æ˜¾ç¤ºé¢å¤–çš„æ§ä»¶ã€‚</p>\n</li>\n<li><p>åˆ›å»ºä¸€ä¸ªåº”ç”¨ï¼Œè¯¥åº”ç”¨ç»˜åˆ¶<code>ggplot(diamonds, aes(carat))</code>ï¼Œä½†å…è®¸ç”¨æˆ·é€‰æ‹©ä½¿ç”¨çš„geomï¼š<a href=\"https://ggplot2.tidyverse.org/reference/geom_histogram.html\">geom_histogram()</a>ã€<a href=\"https://ggplot2.tidyverse.org/reference/geom_histogram.html\">geom_freqpoly()</a>æˆ–<a href=\"https://ggplot2.tidyverse.org/reference/geom_density.html\">geom_density()</a>ã€‚ä½¿ç”¨éšè—çš„é€‰é¡¹å¡é›†ï¼Œå…è®¸ç”¨æˆ·æ ¹æ®geomé€‰æ‹©ä¸åŒçš„å‚æ•°ï¼š<code>geom_histogram()</code>å’Œ<code>geom_freqpoly()</code>å…·æœ‰binwidthå‚æ•°ï¼›<code>geom_density()</code>å…·æœ‰bwå‚æ•°ã€‚</p>\n</li>\n<li><p>ä¿®æ”¹ä½ åœ¨å‰ä¸€ä¸ªç»ƒä¹ ä¸­åˆ›å»ºçš„åº”ç”¨ï¼Œå…è®¸ç”¨æˆ·é€‰æ‹©æ˜¯å¦æ˜¾ç¤ºæ¯ä¸ªgeomï¼ˆå³ï¼Œè€Œä¸æ˜¯å§‹ç»ˆä½¿ç”¨ä¸€ä¸ªgeomï¼Œä»–ä»¬å¯ä»¥é€‰æ‹©0ã€1ã€2æˆ–3ä¸ªï¼‰ã€‚ç¡®ä¿ä½ å¯ä»¥ç‹¬ç«‹æ§åˆ¶ç›´æ–¹å›¾å’Œé¢‘ç‡å¤šè¾¹å½¢çš„binwidthã€‚</p>\n</li>\n</ol>\n<h2 id=\"10-3-ä½¿ç”¨ä»£ç åˆ›å»ºç”¨æˆ·ç•Œé¢\"><a href=\"#10-3-ä½¿ç”¨ä»£ç åˆ›å»ºç”¨æˆ·ç•Œé¢\" class=\"headerlink\" title=\"10.3 ä½¿ç”¨ä»£ç åˆ›å»ºç”¨æˆ·ç•Œé¢\"></a>10.3 ä½¿ç”¨ä»£ç åˆ›å»ºç”¨æˆ·ç•Œé¢</h2><p>æœ‰æ—¶ï¼Œä¸Šé¢æè¿°çš„æŠ€æœ¯æ— æ³•æä¾›æ‚¨æ‰€éœ€çš„åŠ¨æ€æ€§æ°´å¹³ï¼šæ›´æ–°å‡½æ•°åªå…è®¸æ‚¨æ›´æ”¹ç°æœ‰çš„è¾“å…¥ï¼Œè€Œé€‰é¡¹å¡é›†ä»…åœ¨æ‚¨å…·æœ‰å›ºå®šä¸”å·²çŸ¥çš„å¯èƒ½ç»„åˆé›†æ—¶æ‰æœ‰æ•ˆã€‚æœ‰æ—¶ï¼Œæ‚¨éœ€è¦æ ¹æ®å…¶ä»–è¾“å…¥åˆ›å»ºä¸åŒç±»å‹çš„è¾“å…¥ï¼ˆæˆ–è¾“å‡ºï¼‰æˆ–ä¸åŒæ•°é‡çš„è¾“å…¥ï¼ˆæˆ–è¾“å‡ºï¼‰ã€‚è¿™ç§æœ€ç»ˆæŠ€æœ¯ä½¿æ‚¨èƒ½å¤Ÿè¿™æ ·åšã€‚</p>\n<p>å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œæ‚¨ä¸€ç›´ä½¿ç”¨ä»£ç åˆ›å»ºç”¨æˆ·ç•Œé¢ï¼Œä½†åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨æ€»æ˜¯åœ¨åº”ç”¨å¯åŠ¨ä¹‹å‰è¿™æ ·åšã€‚è¿™ç§æŠ€æœ¯ä½¿æ‚¨èƒ½å¤Ÿåœ¨åº”ç”¨è¿è¡Œæ—¶åˆ›å»ºå’Œä¿®æ”¹ç”¨æˆ·ç•Œé¢ã€‚è¿™ä¸ªè§£å†³æ–¹æ¡ˆæœ‰ä¸¤ä¸ªéƒ¨åˆ†ï¼š</p>\n<ul>\n<li><p><a href=\"https://rdrr.io/pkg/shiny/man/htmlOutput.html\">uiOutput()</a> åœ¨ç”¨æˆ·ç•Œé¢ (ui) ä¸­æ’å…¥ä¸€ä¸ªå ä½ç¬¦ã€‚è¿™ç•™ä¸‹äº†ä¸€ä¸ªâ€œæ´â€ï¼Œæ‚¨çš„æœåŠ¡å™¨ä»£ç ç¨åå¯ä»¥å¡«å……å®ƒã€‚</p>\n</li>\n<li><p><a href=\"https://rdrr.io/pkg/shiny/man/renderUI.html\">renderUI()</a> åœ¨ <code>server()</code> ä¸­è¢«è°ƒç”¨ï¼Œç”¨äºå°†å ä½ç¬¦å¡«å……ä¸ºåŠ¨æ€ç”Ÿæˆçš„ç”¨æˆ·ç•Œé¢ã€‚</p>\n</li>\n</ul>\n<p>æˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹æ¥äº†è§£è¿™æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œç„¶åæ·±å…¥æ¢è®¨ä¸€äº›å®é™…çš„åº”ç”¨ã€‚</p>\n<h3 id=\"10-3-1-å…¥é—¨\"><a href=\"#10-3-1-å…¥é—¨\" class=\"headerlink\" title=\"10.3.1 å…¥é—¨\"></a>10.3.1 å…¥é—¨</h3><p>è®©æˆ‘ä»¬ä»ä¸€ä¸ªç®€å•çš„åº”ç”¨å¼€å§‹ï¼Œè¯¥åº”ç”¨åŠ¨æ€åœ°åˆ›å»ºè¾“å…¥æ§ä»¶ï¼Œå…¶ç±»å‹å’Œæ ‡ç­¾ç”±å¦å¤–ä¸¤ä¸ªè¾“å…¥æ§ä»¶æ§åˆ¶ã€‚æœ€ç»ˆçš„åº”ç”¨å¦‚å›¾<code>10.8</code>æ‰€ç¤ºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  textInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;label&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;label&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;type&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;type&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;slider&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;numeric&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  uiOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;numeric&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>numeric <span class=\"operator\">&lt;-</span> renderUI<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>type <span class=\"operator\">==</span> <span class=\"string\">&quot;slider&quot;</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;dynamic&quot;</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>label<span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">10</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span> <span class=\"keyword\">else</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;dynamic&quot;</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>label<span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">10</span><span class=\"punctuation\">)</span> </span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<table>\n<tr>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/c7a0fbee966861954422cd6a1d7fd4a39185ec9c/28819/demos/action-dynamic/render-simple-onload.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/c7a0fbee966861954422cd6a1d7fd4a39185ec9c/28819/demos/action-dynamic/render-simple-onload.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/35b772f26ba5a178d1f693ce7de4b12c17a454f3/9cb14/demos/action-dynamic/render-simple-numeric.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/35b772f26ba5a178d1f693ce7de4b12c17a454f3/9cb14/demos/action-dynamic/render-simple-numeric.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/d8a85a47b59618a13f336b7d9d0d7c705d2ef05e/9c957/demos/action-dynamic/render-simple-label.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/d8a85a47b59618a13f336b7d9d0d7c705d2ef05e/9c957/demos/action-dynamic/render-simple-label.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n</tr>\n<tr><td colspan=\"3\">å›¾10.8 åº”ç”¨åŠ è½½æ—¶ï¼ˆå·¦ï¼‰ï¼Œç„¶åå°†ç±»å‹æ›´æ”¹ä¸ºæ•°å€¼ï¼ˆä¸­ï¼‰ï¼Œå†å°†æ ‡ç­¾æ›´æ”¹ä¸ºâ€œæˆ‘çš„æ ‡ç­¾â€ã€‚æŸ¥çœ‹å®æ—¶æ•ˆæœè¯·è®¿é—® <a href=\"https://hadley.shinyapps.io/ms-render-simple\">https://hadley.shinyapps.io/ms-render-simple</a></td></tr>\n</table>\n\n<p>å¦‚æœä½ è‡ªå·±è¿è¡Œè¿™æ®µä»£ç ï¼Œä½ ä¼šå‘ç°åº”ç”¨åœ¨åŠ è½½åéœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½æ˜¾ç¤ºã€‚è¿™æ˜¯å› ä¸ºå®ƒæ˜¯å“åº”å¼çš„ï¼šåº”ç”¨å¿…é¡»å…ˆåŠ è½½ï¼Œè§¦å‘ä¸€ä¸ªå“åº”äº‹ä»¶ï¼Œç„¶åè°ƒç”¨æœåŠ¡å™¨å‡½æ•°ï¼Œç”Ÿæˆè¦æ’å…¥é¡µé¢çš„HTMLã€‚è¿™æ˜¯<a href=\"https://rdrr.io/pkg/shiny/man/renderUI.html\">renderUI()</a>çš„ä¸€ä¸ªç¼ºç‚¹ï¼›è¿‡å¤šåœ°ä¾èµ–å®ƒå¯èƒ½ä¼šå¯¼è‡´ç”¨æˆ·ç•Œé¢å‡ºç°å»¶è¿Ÿã€‚ä¸ºäº†è·å¾—è‰¯å¥½çš„æ€§èƒ½ï¼Œè¯·å°½é‡ä½¿ç”¨æœ¬ç« å‰é¢æè¿°çš„æŠ€æœ¯ï¼Œä¿æŒç”¨æˆ·ç•Œé¢çš„å›ºå®šéƒ¨åˆ†ã€‚</p>\n<p>è¿™ç§æ–¹æ³•è¿˜æœ‰ä¸€ä¸ªé—®é¢˜ï¼šå½“ä½ æ›´æ”¹æ§ä»¶æ—¶ï¼Œä¼šä¸¢å¤±å½“å‰é€‰å®šçš„å€¼ã€‚åœ¨ä½¿ç”¨ä»£ç åˆ›å»ºç”¨æˆ·ç•Œé¢æ—¶ï¼Œä¿ç•™ç°æœ‰çŠ¶æ€æ˜¯ä¸€å¤§æŒ‘æˆ˜ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆå¦‚æœé€‚ç”¨ï¼Œé€‰æ‹©æ€§æ˜¾ç¤ºå’Œéšè—ç”¨æˆ·ç•Œé¢æ˜¯æ›´å¥½çš„æ–¹æ³•â€”â€”å› ä¸ºä½ æ²¡æœ‰é”€æ¯å’Œé‡æ–°åˆ›å»ºæ§ä»¶ï¼Œæ‰€ä»¥ä¸éœ€è¦åšä»»ä½•äº‹æƒ…æ¥ä¿ç•™å€¼ã€‚ç„¶è€Œï¼Œåœ¨è®¸å¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡å°†æ–°è¾“å…¥çš„å€¼è®¾ç½®ä¸ºç°æœ‰æ§ä»¶çš„å½“å‰å€¼æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>numeric <span class=\"operator\">&lt;-</span> renderUI<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    value <span class=\"operator\">&lt;-</span> isolate<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>dynamic<span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>type <span class=\"operator\">==</span> <span class=\"string\">&quot;slider&quot;</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;dynamic&quot;</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>label<span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> value<span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">10</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span> <span class=\"keyword\">else</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;dynamic&quot;</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>label<span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> value<span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">10</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ <a href=\"https://rdrr.io/pkg/shiny/man/isolate.html\">isolate()</a> éå¸¸é‡è¦ã€‚æˆ‘ä»¬å°†åœ¨ <code>15.4.1</code> èŠ‚ä¸­è¯¦ç»†è®¨è®ºå®ƒçš„ä½œç”¨ï¼Œä½†åœ¨è¿™é‡Œï¼Œå®ƒç¡®ä¿æˆ‘ä»¬ä¸ä¼šåˆ›å»ºä¸€ä¸ªå“åº”å¼ä¾èµ–ï¼Œå¯¼è‡´æ¯æ¬¡ <code>input$dynamic</code> å‘ç”Ÿå˜åŒ–æ—¶ï¼ˆæ¯å½“ç”¨æˆ·ä¿®æ”¹å€¼æ—¶éƒ½ä¼šå‘ç”Ÿï¼‰éƒ½é‡æ–°è¿è¡Œæ­¤ä»£ç ã€‚æˆ‘ä»¬åªå¸Œæœ›åœ¨ <code>input$type</code> æˆ– <code>input$label</code> å‘ç”Ÿå˜åŒ–æ—¶æ›´æ”¹å®ƒã€‚</p>\n<h3 id=\"10-3-2-å¤šä¸ªæ§ä»¶\"><a href=\"#10-3-2-å¤šä¸ªæ§ä»¶\" class=\"headerlink\" title=\"10.3.2 å¤šä¸ªæ§ä»¶\"></a>10.3.2 å¤šä¸ªæ§ä»¶</h3><p>å½“ä½ éœ€è¦ç”Ÿæˆä»»æ„æ•°é‡æˆ–ç±»å‹çš„æ§ä»¶æ—¶ï¼ŒåŠ¨æ€ç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰æœ€æœ‰ç”¨ã€‚è¿™æ„å‘³ç€ä½ å°†ä½¿ç”¨ä»£ç ç”Ÿæˆç”¨æˆ·ç•Œé¢ï¼Œæˆ‘å»ºè®®ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹æ¥å®Œæˆæ­¤ç±»ä»»åŠ¡ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°†ä½¿ç”¨ <a href=\"https://purrr.tidyverse.org/reference/map.html\">purrr::map()</a> å’Œ <a href=\"https://purrr.tidyverse.org/reference/reduce.html\">purrr::reduce()</a>ï¼Œä½†ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨åŸºç¡€çš„ <a href=\"https://rdrr.io/r/base/lapply.html\">lapply()</a> å’Œ <a href=\"https://rdrr.io/r/base/funprog.html\">Reduce()</a> å‡½æ•°æ¥å®ç°åŒæ ·çš„æ•ˆæœã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>purrr<span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœä½ ä¸ç†Ÿæ‚‰å‡½æ•°å¼ç¼–ç¨‹ä¸­çš„ <a href=\"https://purrr.tidyverse.org/reference/map.html\">map()</a> å’Œ <code>reduce()</code>ï¼Œä½ å¯èƒ½å¸Œæœ›åœ¨ç»§ç»­ä¹‹å‰å…ˆé˜…è¯»æœ‰å…³<a href=\"https://adv-r.hadley.nz/functionals.html\">Functional programming</a>çš„å†…å®¹ã€‚æˆ‘ä»¬ä¹Ÿå°†åœ¨ç¬¬ <code>18</code> ç« ä¸­å†æ¬¡è®¨è®ºè¿™ä¸ªæƒ³æ³•ã€‚è¿™äº›æƒ³æ³•ç›¸å½“å¤æ‚ï¼Œæ‰€ä»¥å¦‚æœä½ åœ¨ç¬¬ä¸€æ¬¡é˜…è¯»æ—¶æ²¡æœ‰ç†è§£ï¼Œè¯·ä¸è¦æ‹…å¿ƒã€‚</p>\n<p>ä¸ºäº†å…·ä½“è¯´æ˜ï¼Œæƒ³è±¡ä¸€ä¸‹ä½ æƒ³è¦ç”¨æˆ·èƒ½å¤Ÿæä¾›è‡ªå·±çš„é¢œè‰²è°ƒè‰²æ¿ã€‚ä»–ä»¬é¦–å…ˆä¼šæŒ‡å®šä»–ä»¬æƒ³è¦çš„é¢œè‰²çš„æ•°é‡ï¼Œç„¶åä¸ºæ¯ä¸ªé¢œè‰²æä¾›ä¸€ä¸ªå€¼ã€‚ç”¨æˆ·ç•Œé¢ç›¸å½“ç®€å•ï¼šæˆ‘ä»¬æœ‰ä¸€ä¸ª <a href=\"https://rdrr.io/pkg/shiny/man/numericInput.html\">numericInput()</a> æ¥æ§åˆ¶è¾“å…¥çš„æ•°é‡ï¼Œä¸€ä¸ª <a href=\"https://rdrr.io/pkg/shiny/man/htmlOutput.html\">uiOutput()</a> ç”¨äºæ”¾ç½®ç”Ÿæˆçš„æ–‡æœ¬æ¡†ï¼Œä»¥åŠä¸€ä¸ª <a href=\"https://rdrr.io/pkg/shiny/man/textOutput.html\">textOutput()</a> æ¥è¯æ˜æˆ‘ä»¬å·²ç»æ­£ç¡®åœ°å°†æ‰€æœ‰å†…å®¹è¿æ¥åœ¨ä¸€èµ·ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Number of colours&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">5</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  uiOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;col&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  textOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;palette&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>æœåŠ¡å™¨å‡½æ•°å¾ˆçŸ­ï¼Œä½†åŒ…å«äº†ä¸€äº›é‡è¦çš„æƒ³æ³•ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  col_names <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span>paste0<span class=\"punctuation\">(</span><span class=\"string\">&quot;col&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">seq_len</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>n<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>col <span class=\"operator\">&lt;-</span> renderUI<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    map<span class=\"punctuation\">(</span>col_names<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"operator\">~</span> textInput<span class=\"punctuation\">(</span>.x<span class=\"punctuation\">,</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>palette <span class=\"operator\">&lt;-</span> renderText<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    map_chr<span class=\"punctuation\">(</span>col_names<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"operator\">~</span> input<span class=\"punctuation\">[[</span>.x<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span> <span class=\"operator\">%||%</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<ul>\n<li><p>æˆ‘ä½¿ç”¨äº†ä¸€ä¸ªå“åº”å¼å¯¹è±¡ <code>col_names()</code> æ¥å­˜å‚¨å³å°†ç”Ÿæˆçš„æ¯ä¸ªé¢œè‰²è¾“å…¥çš„åç§°ã€‚</p>\n</li>\n<li><p>ç„¶åï¼Œæˆ‘ä½¿ç”¨ <code>map()</code> åˆ›å»ºä¸€ä¸ª <code>textInput()</code> åˆ—è¡¨ï¼Œæ¯ä¸ªåˆ—è¡¨é¡¹å¯¹åº” <code>col_names()</code> ä¸­çš„ä¸€ä¸ªåç§°ã€‚<code>renderUI()</code> éšåå°†è¿™ä¸ª HTML ç»„ä»¶åˆ—è¡¨æ·»åŠ åˆ°ç”¨æˆ·ç•Œé¢ã€‚</p>\n</li>\n<li><p>æˆ‘éœ€è¦ä½¿ç”¨ä¸€ä¸ªæ–°æŠ€å·§æ¥è®¿é—®è¾“å…¥å€¼ã€‚åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬æ€»æ˜¯ä½¿ç”¨ <code>$</code> æ¥è®¿é—®è¾“å…¥çš„ç»„ä»¶ï¼Œä¾‹å¦‚ <code>input$col1</code>ã€‚ä½†åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬çš„è¾“å…¥åç§°å­˜å‚¨åœ¨ä¸€ä¸ªå­—ç¬¦å‘é‡ä¸­ï¼Œæ¯”å¦‚ <code>var &lt;- &quot;col1&quot;</code>ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œ<code>$</code> ä¸å†é€‚ç”¨ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åˆ‡æ¢åˆ° <code>[[</code>ï¼Œå³ <code>input[[var]]</code>ã€‚</p>\n</li>\n<li><p>æˆ‘ä½¿ç”¨ <a href=\"https://purrr.tidyverse.org/reference/map.html\">map_chr()</a> å°†æ‰€æœ‰å€¼æ”¶é›†åˆ°ä¸€ä¸ªå­—ç¬¦å‘é‡ä¸­ï¼Œå¹¶åœ¨ <code>output$palette</code> ä¸­æ˜¾ç¤ºã€‚ä¸å¹¸çš„æ˜¯ï¼Œåœ¨æµè§ˆå™¨æ¸²æŸ“æ–°è¾“å…¥ä¹‹å‰ï¼Œæœ‰ä¸€ä¸ªçŸ­æš‚çš„æ—¶é—´æ®µï¼Œå…¶å€¼ä¼šæ˜¯ <code>NULL</code>ã€‚è¿™ä¼šå¯¼è‡´ <code>map_chr()</code> æŠ¥é”™ï¼Œæˆ‘ä»¬ä½¿ç”¨æ–¹ä¾¿çš„ <code>%||%</code> å‡½æ•°æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼šå½“å·¦ä¾§ä¸º <code>NULL</code> æ—¶ï¼Œå®ƒè¿”å›å³ä¾§çš„å€¼ã€‚</p>\n</li>\n</ul>\n<p>ä½ å¯ä»¥åœ¨å›¾ <code>10.9</code> ä¸­çœ‹åˆ°ç»“æœã€‚</p>\n<table>\n<tr>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/5301c856f06d8eba2b98b4a7c4d3fedb574d7f11/76c4e/demos/action-dynamic/render-palette-onload.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/5301c856f06d8eba2b98b4a7c4d3fedb574d7f11/76c4e/demos/action-dynamic/render-palette-onload.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/6a2df96ad06c05e809774c0db7d7e3611ec9eb53/d31b7/demos/action-dynamic/render-palette-change-n.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/6a2df96ad06c05e809774c0db7d7e3611ec9eb53/d31b7/demos/action-dynamic/render-palette-change-n.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/cad6373c73a55bf6e79fc166e72dadf394b528e1/b0691/demos/action-dynamic/render-palette-set-cols.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/cad6373c73a55bf6e79fc166e72dadf394b528e1/b0691/demos/action-dynamic/render-palette-set-cols.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n</tr>\n<tr><td colspan=\"3\">å›¾10.9 åº”ç”¨ç¨‹åºåŠ è½½æ—¶ï¼ˆå·¦ï¼‰ï¼Œå°†nè®¾ç½®ä¸º3åï¼ˆä¸­ï¼‰ï¼Œç„¶åè¾“å…¥ä¸€äº›é¢œè‰²ï¼ˆå³ï¼‰ã€‚è¯·åœ¨<a href=\"https://hadley.shinyapps.io/ms-render-palette\">https://hadley.shinyapps.io/ms-render-palette</a>æŸ¥çœ‹å®æ—¶æ•ˆæœ</td></tr>\n</table>\n\n<p>å¦‚æœä½ è¿è¡Œè¿™ä¸ªåº”ç”¨ç¨‹åºï¼Œä½ ä¼šå‘ç°ä¸€ä¸ªéå¸¸æ¼äººçš„è¡Œä¸ºï¼šæ¯å½“ä½ æ”¹å˜é¢œè‰²çš„æ•°é‡æ—¶ï¼Œæ‰€æœ‰è¾“å…¥çš„æ•°æ®éƒ½ä¼šæ¶ˆå¤±ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸ä¹‹å‰ç›¸åŒçš„æŠ€æœ¯æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼šå°†<code>value</code>è®¾ç½®ä¸ºï¼ˆå­¤ç«‹çš„ï¼‰å½“å‰å€¼ã€‚æˆ‘è¿˜ä¼šç¨å¾®è°ƒæ•´å¤–è§‚ï¼Œä½¿å…¶çœ‹èµ·æ¥æ›´æ¼‚äº®ä¸€äº›ï¼ŒåŒ…æ‹¬åœ¨å›¾ä¸­æ˜¾ç¤ºæ‰€é€‰é¢œè‰²ã€‚ç¤ºä¾‹æˆªå›¾å¦‚å›¾<code>10.10</code>æ‰€ç¤ºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">    sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Number of colours&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">5</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      uiOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;col&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;plot&quot;</span><span class=\"punctuation\">)</span>  </span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  col_names <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span>paste0<span class=\"punctuation\">(</span><span class=\"string\">&quot;col&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">seq_len</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>n<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>col <span class=\"operator\">&lt;-</span> renderUI<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    map<span class=\"punctuation\">(</span>col_names<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"operator\">~</span> textInput<span class=\"punctuation\">(</span>.x<span class=\"punctuation\">,</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> isolate<span class=\"punctuation\">(</span>input<span class=\"punctuation\">[[</span>.x<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>plot <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    cols <span class=\"operator\">&lt;-</span> map_chr<span class=\"punctuation\">(</span>col_names<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"operator\">~</span> input<span class=\"punctuation\">[[</span>.x<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span> <span class=\"operator\">%||%</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"comment\"># convert empty inputs to transparent</span></span><br><span class=\"line\">    cols<span class=\"punctuation\">[</span>cols <span class=\"operator\">==</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">]</span> <span class=\"operator\">&lt;-</span> <span class=\"literal\">NA</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    barplot<span class=\"punctuation\">(</span></span><br><span class=\"line\">      <span class=\"built_in\">rep</span><span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"built_in\">length</span><span class=\"punctuation\">(</span>cols<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">      col <span class=\"operator\">=</span> cols<span class=\"punctuation\">,</span></span><br><span class=\"line\">      space <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">      axes <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<table>\n<tr>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/cc1d6ffde1b8ac88f72e2b897ed187f55cecedf1/89026/demos/action-dynamic/render-palette-full-rainbow.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/cc1d6ffde1b8ac88f72e2b897ed187f55cecedf1/89026/demos/action-dynamic/render-palette-full-rainbow.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n<td>\n<img src=\"https://d33wubrfki0l68.cloudfront.net/b1560598089d41fb8a7c71323c44efd7595ce615/b8927/demos/action-dynamic/render-palette-full-change-n.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/b1560598089d41fb8a7c71323c44efd7595ce615/b8927/demos/action-dynamic/render-palette-full-change-n.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\">\n</td>\n</tr>\n<tr><td colspan=\"2\">å›¾10.10 å¡«å†™å½©è™¹çš„é¢œè‰²ï¼ˆå·¦ï¼‰ï¼Œç„¶åå°†é¢œè‰²æ•°é‡å‡å°‘åˆ°3ï¼ˆå³ï¼‰ï¼›è¯·æ³¨æ„ï¼Œç°æœ‰é¢œè‰²è¢«ä¿ç•™ã€‚å®æ—¶æ•ˆæœè¯·è®¿é—®<a href=\"https://hadley.shinyapps.io/ms-render-palette-full\">https://hadley.shinyapps.io/ms-render-palette-full</a>æŸ¥çœ‹å®æ—¶æ•ˆæœ</td></tr>\n</table>\n\n<h3 id=\"10-3-3-åŠ¨æ€è¿‡æ»¤\"><a href=\"#10-3-3-åŠ¨æ€è¿‡æ»¤\" class=\"headerlink\" title=\"10.3.3 åŠ¨æ€è¿‡æ»¤\"></a>10.3.3 åŠ¨æ€è¿‡æ»¤</h3><p>ä¸ºäº†ç»“æŸæœ¬ç« ï¼Œæˆ‘å°†åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå…è®¸ä½ åŠ¨æ€è¿‡æ»¤ä»»ä½•æ•°æ®æ¡†ã€‚æ¯ä¸ªæ•°å€¼å˜é‡éƒ½ä¼šå¾—åˆ°ä¸€ä¸ªèŒƒå›´æ»‘å—ï¼Œæ¯ä¸ªå› å­å˜é‡éƒ½ä¼šå¾—åˆ°ä¸€ä¸ªå¤šé€‰æ§ä»¶ï¼Œæ‰€ä»¥ï¼ˆä¾‹å¦‚ï¼‰å¦‚æœä¸€ä¸ªæ•°æ®æ¡†æœ‰ä¸‰ä¸ªæ•°å€¼å˜é‡å’Œä¸¤ä¸ªå› å­ï¼Œåº”ç”¨ç¨‹åºå°†æœ‰ä¸‰ä¸ªæ»‘å—å’Œä¸¤ä¸ªé€‰æ‹©æ¡†ã€‚</p>\n<p>æˆ‘å°†ä»ä¸€ä¸ªä¸ºå•ä¸ªå˜é‡åˆ›å»ºç”¨æˆ·ç•Œé¢çš„å‡½æ•°å¼€å§‹ã€‚å¯¹äºæ•°å€¼è¾“å…¥ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªèŒƒå›´æ»‘å—ï¼›å¯¹äºå› å­è¾“å…¥ï¼Œå®ƒå°†è¿”å›ä¸€ä¸ªå¤šé€‰æ§ä»¶ï¼›å¯¹äºå…¶ä»–æ‰€æœ‰ç±»å‹ï¼Œå®ƒå°†è¿”å›NULLï¼ˆæ— ï¼‰ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">make_ui <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>x<span class=\"punctuation\">,</span> var<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span><span class=\"built_in\">is.numeric</span><span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    rng <span class=\"operator\">&lt;-</span> <span class=\"built_in\">range</span><span class=\"punctuation\">(</span>x<span class=\"punctuation\">,</span> na.rm <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    sliderInput<span class=\"punctuation\">(</span>var<span class=\"punctuation\">,</span> var<span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> rng<span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> rng<span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> rng<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span> <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>is.factor<span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    levs <span class=\"operator\">&lt;-</span> levels<span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span></span><br><span class=\"line\">    selectInput<span class=\"punctuation\">(</span>var<span class=\"punctuation\">,</span> var<span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> levs<span class=\"punctuation\">,</span> selected <span class=\"operator\">=</span> levs<span class=\"punctuation\">,</span> multiple <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span> <span class=\"keyword\">else</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"comment\"># Not supported</span></span><br><span class=\"line\">    <span class=\"literal\">NULL</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ¥ç€ï¼Œæˆ‘å°†ç¼–å†™æ­¤å‡½æ•°çš„æœåŠ¡å™¨ç«¯ç­‰æ•ˆé¡¹ï¼šå®ƒæ¥æ”¶è¾“å…¥æ§ä»¶çš„å˜é‡å’Œå€¼ï¼Œå¹¶è¿”å›ä¸€ä¸ªé€»è¾‘å‘é‡ï¼Œè¯´æ˜æ˜¯å¦åŒ…å«æ¯ä¸ªè§‚æµ‹å€¼ã€‚ä½¿ç”¨é€»è¾‘å‘é‡å¯ä»¥è½»æ¾ç»„åˆæ¥è‡ªå¤šä¸ªåˆ—çš„ç»“æœã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">filter_var <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>x<span class=\"punctuation\">,</span> val<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span><span class=\"built_in\">is.numeric</span><span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"operator\">!</span><span class=\"built_in\">is.na</span><span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span> <span class=\"operator\">&amp;</span> x <span class=\"operator\">&gt;=</span> val<span class=\"punctuation\">[</span><span class=\"number\">1</span><span class=\"punctuation\">]</span> <span class=\"operator\">&amp;</span> x <span class=\"operator\">&lt;=</span> val<span class=\"punctuation\">[</span><span class=\"number\">2</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span> <span class=\"keyword\">else</span> <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>is.factor<span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    x <span class=\"operator\">%in%</span> val</span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span> <span class=\"keyword\">else</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"comment\"># No control, so don&#x27;t filter</span></span><br><span class=\"line\">    <span class=\"literal\">TRUE</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åï¼Œæˆ‘å¯ä»¥æ‰‹åŠ¨ä½¿ç”¨è¿™äº›å‡½æ•°ä¸º <code>iris</code> æ•°æ®é›†ç”Ÿæˆä¸€ä¸ªç®€å•çš„è¿‡æ»¤ç”¨æˆ·ç•Œé¢ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">    sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      make_ui<span class=\"punctuation\">(</span>iris<span class=\"operator\">$</span>Sepal.Length<span class=\"punctuation\">,</span> <span class=\"string\">&quot;Sepal.Length&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      make_ui<span class=\"punctuation\">(</span>iris<span class=\"operator\">$</span>Sepal.Width<span class=\"punctuation\">,</span> <span class=\"string\">&quot;Sepal.Width&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      make_ui<span class=\"punctuation\">(</span>iris<span class=\"operator\">$</span>Species<span class=\"punctuation\">,</span> <span class=\"string\">&quot;Species&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;data&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  selected <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    filter_var<span class=\"punctuation\">(</span>iris<span class=\"operator\">$</span>Sepal.Length<span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>Sepal.Length<span class=\"punctuation\">)</span> <span class=\"operator\">&amp;</span></span><br><span class=\"line\">      filter_var<span class=\"punctuation\">(</span>iris<span class=\"operator\">$</span>Sepal.Width<span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>Sepal.Width<span class=\"punctuation\">)</span> <span class=\"operator\">&amp;</span></span><br><span class=\"line\">      filter_var<span class=\"punctuation\">(</span>iris<span class=\"operator\">$</span>Species<span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>Species<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>data <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span>head<span class=\"punctuation\">(</span>iris<span class=\"punctuation\">[</span>selected<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> <span class=\"number\">12</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/c346538e80dd7b34a8142bdb05a537b44d581663/edd79/demos/action-dynamic/render-filter-1.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/c346538e80dd7b34a8142bdb05a537b44d581663/edd79/demos/action-dynamic/render-filter-1.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾10.11 irisæ•°æ®é›†çš„ç®€å•è¿‡æ»¤ç•Œé¢\"></p>\n<p>ä½ å¯èƒ½æ³¨æ„åˆ°äº†ï¼Œæˆ‘å·²ç»åŒå€¦äº†å¤åˆ¶ç²˜è´´ï¼Œæ‰€ä»¥è¿™ä¸ªåº”ç”¨ç¨‹åºåªé€‚ç”¨äºä¸‰åˆ—ã€‚é€šè¿‡ä½¿ç”¨ä¸€äº›å‡½æ•°å¼ç¼–ç¨‹ï¼Œæˆ‘å¯ä»¥è®©å®ƒé€‚ç”¨äºæ‰€æœ‰åˆ—ï¼š</p>\n<ul>\n<li><p>åœ¨<code>ui</code>ä¸­ï¼Œä½¿ç”¨<a href=\"https://purrr.tidyverse.org/reference/map.html\">map()</a>ä¸ºæ¯ä¸ªå˜é‡ç”Ÿæˆä¸€ä¸ªæ§ä»¶ã€‚</p>\n</li>\n<li><p>åœ¨<code>server()</code>ï¼Œæˆ‘ä½¿ç”¨<code>map()</code>ä¸ºæ¯ä¸ªå˜é‡ç”Ÿæˆé€‰æ‹©å‘é‡ã€‚ç„¶åï¼Œæˆ‘ä½¿ç”¨<code>reduce()</code>å°†æ¯ä¸ªå˜é‡çš„é€»è¾‘å‘é‡ç»„åˆæˆä¸€ä¸ªå•ä¸€çš„é€»è¾‘å‘é‡ï¼Œé€šè¿‡<code>&amp;</code>å°†æ¯ä¸ªå‘é‡è¿æ¥åœ¨ä¸€èµ·ã€‚</p>\n</li>\n</ul>\n<p>å†æ¬¡å¼ºè°ƒï¼Œå¦‚æœä½ ä¸å®Œå…¨ç†è§£è¿™é‡Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Œè¯·ä¸è¦å¤ªè¿‡æ‹…å¿ƒã€‚ä¸»è¦çš„æ”¶è·æ˜¯ï¼Œä¸€æ—¦ä½ æŒæ¡äº†å‡½æ•°å¼ç¼–ç¨‹ï¼Œä½ å°±å¯ä»¥ç¼–å†™éå¸¸ç®€æ´çš„ä»£ç ï¼Œä»è€Œç”Ÿæˆå¤æ‚ä¸”åŠ¨æ€çš„åº”ç”¨ç¨‹åºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">    sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      map<span class=\"punctuation\">(</span><span class=\"built_in\">names</span><span class=\"punctuation\">(</span>iris<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"operator\">~</span> make_ui<span class=\"punctuation\">(</span>iris<span class=\"punctuation\">[[</span>.x<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> .x<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;data&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  selected <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    each_var <span class=\"operator\">&lt;-</span> map<span class=\"punctuation\">(</span><span class=\"built_in\">names</span><span class=\"punctuation\">(</span>iris<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"operator\">~</span> filter_var<span class=\"punctuation\">(</span>iris<span class=\"punctuation\">[[</span>.x<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> input<span class=\"punctuation\">[[</span>.x<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    reduce<span class=\"punctuation\">(</span>each_var<span class=\"punctuation\">,</span> <span class=\"operator\">~</span> .x <span class=\"operator\">&amp;</span> .y<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>data <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span>head<span class=\"punctuation\">(</span>iris<span class=\"punctuation\">[</span>selected<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> <span class=\"number\">12</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/b5f7aa079010dea111f8cb50ff9ce875cef92b4a/4b175/demos/action-dynamic/render-filter-2.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/b5f7aa079010dea111f8cb50ff9ce875cef92b4a/4b175/demos/action-dynamic/render-filter-2.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾10.12 ä½¿ç”¨å‡½æ•°å¼ç¼–ç¨‹ä¸ºirisæ•°æ®é›†æ„å»ºè¿‡æ»¤åº”ç”¨ç¨‹åº\"></p>\n<p>ä»æ­¤å¤„å¼€å§‹ï¼Œå¯¹å…¶è¿›è¡Œç®€å•æ³›åŒ–ï¼Œä½¿å…¶å¯ä»¥ä¸ä»»ä½•æ•°æ®æ¡†é…åˆä½¿ç”¨ã€‚åœ¨æ­¤ï¼Œæˆ‘å°†ä½¿ç”¨datasetsåŒ…ä¸­çš„æ•°æ®æ¡†è¿›è¡Œè¯´æ˜ï¼Œä½†ä½ å¯ä»¥å¾ˆå®¹æ˜“åœ°æƒ³è±¡å¦‚ä½•å°†å…¶æ‰©å±•åˆ°ç”¨æˆ·ä¸Šä¼ çš„æ•°æ®ã€‚ç»“æœå¦‚å›¾<code>10.13</code>æ‰€ç¤ºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dfs <span class=\"operator\">&lt;-</span> keep<span class=\"punctuation\">(</span>ls<span class=\"punctuation\">(</span><span class=\"string\">&quot;package:datasets&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"operator\">~</span> is.data.frame<span class=\"punctuation\">(</span>get<span class=\"punctuation\">(</span>.x<span class=\"punctuation\">,</span> <span class=\"string\">&quot;package:datasets&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">    sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;dataset&quot;</span><span class=\"punctuation\">,</span> label <span class=\"operator\">=</span> <span class=\"string\">&quot;Dataset&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> dfs<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      uiOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;filter&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;data&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  data <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    get<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>dataset<span class=\"punctuation\">,</span> <span class=\"string\">&quot;package:datasets&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  vars <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"built_in\">names</span><span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>filter <span class=\"operator\">&lt;-</span> renderUI<span class=\"punctuation\">(</span></span><br><span class=\"line\">    map<span class=\"punctuation\">(</span>vars<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"operator\">~</span> make_ui<span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span>.x<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> .x<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  selected <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    each_var <span class=\"operator\">&lt;-</span> map<span class=\"punctuation\">(</span>vars<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"operator\">~</span> filter_var<span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[[</span>.x<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> input<span class=\"punctuation\">[[</span>.x<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    reduce<span class=\"punctuation\">(</span>each_var<span class=\"punctuation\">,</span> `&amp;`<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>data <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span>head<span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">[</span>selected<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> <span class=\"number\">12</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/539c4bcb59b7d52133c346ec6ca4a217e122e4df/9214d/demos/action-dynamic/filtering-final.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/539c4bcb59b7d52133c346ec6ca4a217e122e4df/9214d/demos/action-dynamic/filtering-final.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾10.13 æ ¹æ®æ‰€é€‰æ•°æ®é›†çš„å­—æ®µè‡ªåŠ¨ç”Ÿæˆçš„åŠ¨æ€ç”¨æˆ·ç•Œé¢ã€‚è¯·è®¿é—®https://hadley.shinyapps.io/ms-filtering-finalæŸ¥çœ‹å®æ—¶æ•ˆæœ\"></p>\n<h3 id=\"10-3-4-å¯¹è¯æ¡†\"><a href=\"#10-3-4-å¯¹è¯æ¡†\" class=\"headerlink\" title=\"10.3.4 å¯¹è¯æ¡†\"></a>10.3.4 å¯¹è¯æ¡†</h3><p>åœ¨ç»“æŸæœ¬ç« ä¹‹å‰ï¼Œæˆ‘æƒ³æä¸€ä¸‹ä¸€ä¸ªç›¸å…³çš„æŠ€æœ¯ï¼šå¯¹è¯æ¡†ã€‚åœ¨<code>8.4.1</code>èŠ‚ä¸­ï¼Œä½ å·²ç»çœ‹åˆ°äº†å¯¹è¯æ¡†ï¼Œå…¶å†…å®¹æ˜¯å›ºå®šçš„æ–‡æœ¬å­—ç¬¦ä¸²ã€‚ä½†ç”±äº<a href=\"https://rdrr.io/pkg/shiny/man/modalDialog.html\">modalDialog()</a>æ˜¯åœ¨æœåŠ¡å™¨å‡½æ•°ä¸­è°ƒç”¨çš„ï¼Œå› æ­¤ä½ å¯ä»¥åƒ<a href=\"https://rdrr.io/pkg/shiny/man/renderUI.html\">renderUI()</a>ä¸€æ ·åŠ¨æ€åœ°ç”Ÿæˆå†…å®¹ã€‚å¦‚æœä½ æƒ³åœ¨ç»§ç»­å¸¸è§„åº”ç”¨ç¨‹åºæµç¨‹ä¹‹å‰å¼ºåˆ¶ç”¨æˆ·åšå‡ºæŸäº›å†³å®šï¼Œè¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰ç”¨çš„æŠ€æœ¯ã€‚</p>\n<h3 id=\"10-3-5-ç»ƒä¹ \"><a href=\"#10-3-5-ç»ƒä¹ \" class=\"headerlink\" title=\"10.3.5 ç»ƒä¹ \"></a>10.3.5 ç»ƒä¹ </h3><ol>\n<li><p>æ ¹æ®æœ¬èŠ‚ä¸­çš„åˆå§‹ç¤ºä¾‹ï¼Œåˆ›å»ºä¸€ä¸ªéå¸¸ç®€å•çš„åº”ç”¨ç¨‹åºï¼š</p>\n <figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;type&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;type&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;slider&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;numeric&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  uiOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;numeric&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>numeric <span class=\"operator\">&lt;-</span> renderUI<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>type <span class=\"operator\">==</span> <span class=\"string\">&quot;slider&quot;</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">100</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span> <span class=\"keyword\">else</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">100</span><span class=\"punctuation\">)</span>  </span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p> ä½ å¦‚ä½•ä½¿ç”¨åŠ¨æ€å¯è§æ€§æ¥å®ç°å®ƒï¼Ÿå¦‚æœä½ å®ç°äº†åŠ¨æ€å¯è§æ€§ï¼Œå½“ä½ æ›´æ”¹æ§ä»¶æ—¶ï¼Œå¦‚ä½•ä¿æŒå€¼çš„åŒæ­¥ï¼Ÿ</p>\n</li>\n<li><p>è§£é‡Šè¿™ä¸ªåº”ç”¨ç¨‹åºæ˜¯å¦‚ä½•å·¥ä½œçš„ã€‚ä¸ºä»€ä¹ˆå½“ä½ ç¬¬äºŒæ¬¡ç‚¹å‡»â€œè¾“å…¥å¯†ç â€æŒ‰é’®æ—¶ï¼Œå¯†ç ä¼šæ¶ˆå¤±ï¼Ÿ</p>\n <figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;go&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Enter password&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  textOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;text&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>go<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    showModal<span class=\"punctuation\">(</span>modalDialog<span class=\"punctuation\">(</span></span><br><span class=\"line\">      passwordInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;password&quot;</span><span class=\"punctuation\">,</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      title <span class=\"operator\">=</span> <span class=\"string\">&quot;Please enter your password&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  output<span class=\"operator\">$</span>text <span class=\"operator\">&lt;-</span> renderText<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span><span class=\"operator\">!</span>isTruthy<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>password<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"string\">&quot;No password&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span> <span class=\"keyword\">else</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"string\">&quot;Password entered&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>åœ¨Â·10.3.1Â·èŠ‚çš„åº”ç”¨ç¨‹åºä¸­ï¼Œå¦‚æœä½ ä»<code>value &lt;- isolate(input$dynamic)</code>ä¸­å»æ‰<a href=\"https://rdrr.io/pkg/shiny/man/isolate.html\">isolate()</a>ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>\n</li>\n<li><p>ä¸º<code>make_ui()</code>å’Œ<code>filter_var()</code>æ·»åŠ å¯¹æ—¥æœŸå’Œæ—¥æœŸæ—¶é—´åˆ—çš„æ”¯æŒã€‚</p>\n</li>\n<li><p>ï¼ˆé«˜çº§ï¼‰å¦‚æœä½ äº†è§£S3é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆ<a href=\"http://adv-r.hadley.nz/S3.html\">S3 OOP</a>ï¼‰ç³»ç»Ÿï¼Œè¯·è€ƒè™‘å¦‚ä½•ä½¿ç”¨é€šç”¨å‡½æ•°æ›¿æ¢<code>make_ui()</code>å’Œ<code>filter_var()</code>ä¸­çš„ifå—ã€‚</p>\n</li>\n</ol>\n<h2 id=\"10-4-æ€»ç»“\"><a href=\"#10-4-æ€»ç»“\" class=\"headerlink\" title=\"10.4 æ€»ç»“\"></a>10.4 æ€»ç»“</h2><p>åœ¨é˜…è¯»æœ¬ç« ä¹‹å‰ï¼Œä½ åªèƒ½åœ¨æœåŠ¡å™¨å‡½æ•°è¿è¡Œä¹‹å‰é™æ€åœ°åˆ›å»ºç”¨æˆ·ç•Œé¢ã€‚ç°åœ¨ä½ å·²ç»å­¦ä¼šäº†å¦‚ä½•æ ¹æ®ç”¨æˆ·æ“ä½œä¿®æ”¹ç”¨æˆ·ç•Œé¢å¹¶å®Œå…¨é‡æ–°åˆ›å»ºå®ƒã€‚åŠ¨æ€ç”¨æˆ·ç•Œé¢å°†æå¤§åœ°å¢åŠ ä½ çš„åº”ç”¨ç¨‹åºçš„å¤æ‚æ€§ï¼Œæ‰€ä»¥å¦‚æœä½ å‘ç°è‡ªå·±å¾ˆéš¾è°ƒè¯•æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ï¼Œä¸è¦æ„Ÿåˆ°æƒŠè®¶ã€‚å§‹ç»ˆè®°ä½ä½¿ç”¨æœ€ç®€å•çš„æŠ€æœ¯æ¥è§£å†³ä½ çš„é—®é¢˜ï¼Œå¹¶å›åˆ°<code>5.2</code>èŠ‚ä¸­çš„è°ƒè¯•å»ºè®®ã€‚</p>\n<p>ä¸‹ä¸€ç« å°†è½¬å‘è®¨è®ºä¹¦ç­¾åŠŸèƒ½ï¼Œä½¿åº”ç”¨ç¨‹åºèƒ½å¤Ÿä¸ä»–äººå…±äº«å½“å‰çŠ¶æ€ã€‚</p>\n<h1 id=\"åŠ å…³æ³¨\"><a href=\"#åŠ å…³æ³¨\" class=\"headerlink\" title=\"åŠ å…³æ³¨\"></a>åŠ å…³æ³¨</h1><p>å…³æ³¨å…¬ä¼—å·â€œç”Ÿä¿¡ä¹‹å·…â€ã€‚</p>\n<table align=\"center\"><tr>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å¾®ä¿¡å…¬ä¼—å·\" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-right: 0px;margin-bottom: 5px;align: center;\"></td>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å°ç¨‹åºç \" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-left: 0px;margin-bottom: 5px;align: center\"></td>\n</tr></table>\n\n\n<p><font color=\"#FF0000\"><ruby><b>æ•¬å‘Š</b>ï¼šä½¿ç”¨æ–‡ä¸­è„šæœ¬è¯·å¼•ç”¨æœ¬æ–‡ç½‘å€ï¼Œè¯·å°Šé‡æœ¬äººçš„åŠ³åŠ¨æˆæœï¼Œè°¢è°¢ï¼<rt><b>Notice</b>: When you use the scripts in this article, please cite the link of this webpage. Thank you!</rt></ruby></font></p>\n","raw":null,"categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"ç¼–ç¨‹","path":"api/tags/ç¼–ç¨‹.json"},{"name":"Shinyå…¥é—¨ç³»åˆ—","path":"api/tags/Shinyå…¥é—¨ç³»åˆ—.json"}]},{"title":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”9-ä¸Šä¼ å’Œä¸‹è½½","slug":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”9-ä¸Šä¼ å’Œä¸‹è½½","date":"2024-04-27T03:01:58.000Z","updated":"2024-04-27T03:04:31.887Z","comments":true,"path":"api/articles/Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”9-ä¸Šä¼ å’Œä¸‹è½½.json","excerpt":null,"keywords":null,"cover":"https://d33wubrfki0l68.cloudfront.net/31fddd4b87d0e36141c7b8cbb2dd240f8c2d26d1/026fa/demos/action-transfer/upload.png","content":"<h1 id=\"9-ä¸Šä¼ å’Œä¸‹è½½\"><a href=\"#9-ä¸Šä¼ å’Œä¸‹è½½\" class=\"headerlink\" title=\"9 ä¸Šä¼ å’Œä¸‹è½½\"></a>9 ä¸Šä¼ å’Œä¸‹è½½</h1><p>åœ¨åº”ç”¨ä¸­ï¼Œç”¨æˆ·å¤„ä¸Šä¼ å’Œä¸‹è½½æ–‡ä»¶æ˜¯ä¸€é¡¹å¸¸ç”¨åŠŸèƒ½ã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥ä¸Šä¼ æ•°æ®è¿›è¡Œåˆ†æï¼Œæˆ–è€…å°†ç»“æœä½œä¸ºæ•°æ®é›†æˆ–æŠ¥å‘Šä¸‹è½½ã€‚æœ¬ç« å°†ä»‹ç»åœ¨åº”ç”¨ä¸­è¿›è¡Œæ–‡ä»¶ä¸Šä¼ å’Œä¸‹è½½æ‰€éœ€çš„ç”¨æˆ·ç•Œé¢å’ŒæœåŠ¡å™¨ç»„ä»¶ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>shiny<span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"9-1-ä¸Šä¼ \"><a href=\"#9-1-ä¸Šä¼ \" class=\"headerlink\" title=\"9.1 ä¸Šä¼ \"></a>9.1 ä¸Šä¼ </h2><p>æˆ‘ä»¬å…ˆä»æ–‡ä»¶ä¸Šä¼ å¼€å§‹è®¨è®ºï¼Œå‘ä½ å±•ç¤ºåŸºæœ¬çš„UIå’Œserverç»„ä»¶ï¼Œç„¶åå±•ç¤ºå®ƒä»¬å¦‚ä½•åœ¨ç®€å•åº”ç”¨ä¸­ååŒå·¥ä½œã€‚</p>\n<h3 id=\"9-1-1-ç”¨æˆ·ç•Œé¢-UI\"><a href=\"#9-1-1-ç”¨æˆ·ç•Œé¢-UI\" class=\"headerlink\" title=\"9.1.1 ç”¨æˆ·ç•Œé¢ UI\"></a>9.1.1 ç”¨æˆ·ç•Œé¢ UI</h3><p>æ”¯æŒæ–‡ä»¶ä¸Šä¼ çš„ç”¨æˆ·ç•Œé¢å¾ˆç®€å•ï¼šåªéœ€åœ¨ç”¨æˆ·ç•Œé¢ä¸­æ·»åŠ <a href=\"https://rdrr.io/pkg/shiny/man/fileInput.html\">fileInput()</a>å³å¯ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  fileInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;upload&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Upload a file&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸å…¶ä»–å¤§å¤šæ•°UIç»„ä»¶ä¸€æ ·ï¼Œè¿™é‡Œåªéœ€è¦ä¸¤ä¸ªå¿…éœ€å‚æ•°ï¼š<code>id</code>å’Œ<code>label</code>ã€‚<code>width</code>ã€<code>buttonLabel</code>å’Œ<code>placeholder</code>å‚æ•°å…è®¸ä½ ä»¥å…¶ä»–æ–¹å¼è°ƒæ•´å¤–è§‚ã€‚æˆ‘ä¸ä¼šåœ¨è¿™é‡Œè®¨è®ºå®ƒä»¬ï¼Œä½†ä½ å¯ä»¥åœ¨<a href=\"https://rdrr.io/pkg/shiny/man/fileInput.html\">?fileInput</a>ä¸­äº†è§£æ›´å¤šã€‚</p>\n<h3 id=\"9-1-2-æœåŠ¡å™¨-server\"><a href=\"#9-1-2-æœåŠ¡å™¨-server\" class=\"headerlink\" title=\"9.1.2 æœåŠ¡å™¨ server\"></a>9.1.2 æœåŠ¡å™¨ server</h3><p>åœ¨serverä¸Šå¤„ç†<code>fileInput()</code>æ¯”å¤„ç†å…¶ä»–è¾“å…¥ç¨å¾®å¤æ‚ä¸€äº›ã€‚å¤§å¤šæ•°è¾“å…¥è¿”å›ç®€å•çš„å‘é‡ï¼Œä½†<code>fileInput()</code>è¿”å›ä¸€ä¸ªåŒ…å«å››åˆ—çš„æ•°æ®æ¡†ï¼š</p>\n<ul>\n<li><p><code>name</code>ï¼šç”¨æˆ·è®¡ç®—æœºä¸Šçš„åŸå§‹æ–‡ä»¶åã€‚</p>\n</li>\n<li><p><code>size</code>ï¼šæ–‡ä»¶å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œç”¨æˆ·åªèƒ½ä¸Šä¼ æœ€å¤š5MBçš„æ–‡ä»¶ã€‚ä½ å¯ä»¥åœ¨å¯åŠ¨Shinyä¹‹å‰è®¾ç½®<code>shiny.maxRequestSize</code>é€‰é¡¹æ¥å¢åŠ æ–‡ä»¶å¤§å°é™åˆ¶ã€‚ä¾‹å¦‚ï¼Œè¦å…è®¸æœ€å¤š10MBï¼Œå¯ä»¥è¿è¡Œ<code>options(shiny.maxRequestSize = 10 * 1024^2)</code>ã€‚</p>\n</li>\n<li><p><code>type</code>ï¼šæ–‡ä»¶çš„<code>â€œMIME typeâ€</code>ã€‚è¿™æ˜¯æ–‡ä»¶ç±»å‹çš„æ­£å¼è§„èŒƒï¼Œé€šå¸¸æ ¹æ®æ–‡ä»¶æ‰©å±•åå¾—å‡ºï¼Œåœ¨Shinyåº”ç”¨ä¸­å¾ˆå°‘éœ€è¦ã€‚</p>\n</li>\n<li><p><code>datapath</code>ï¼šæ•°æ®åœ¨serverä¸Šä¸Šä¼ åˆ°çš„è·¯å¾„ã€‚è¯·å°†æ­¤è·¯å¾„è§†ä¸ºä¸´æ—¶è·¯å¾„ï¼šå¦‚æœç”¨æˆ·ä¸Šä¼ æ›´å¤šæ–‡ä»¶ï¼Œæ­¤æ–‡ä»¶å¯èƒ½ä¼šè¢«åˆ é™¤ã€‚æ•°æ®å§‹ç»ˆä¿å­˜åˆ°ä¸´æ—¶ç›®å½•ï¼Œå¹¶èµ‹äºˆä¸´æ—¶åç§°ã€‚</p>\n</li>\n</ul>\n<p>ä½œè€…è®¤ä¸ºç†è§£è¿™ç§æ•°æ®ç»“æ„æœ€ç®€å•çš„æ–¹æ³•æ˜¯åˆ¶ä½œä¸€ä¸ªç®€å•çš„åº”ç”¨ã€‚è¿è¡Œä»¥ä¸‹ä»£ç å¹¶ä¸Šä¼ å‡ ä¸ªæ–‡ä»¶ï¼Œä»¥äº†è§£Shinyæä¾›çš„æ•°æ®ã€‚åœ¨<code>å›¾9.1</code>ä¸­ï¼Œä½ å¯ä»¥çœ‹åˆ°æˆ‘ä¸Šä¼ äº†å‡ å¼ å°ç‹—ç…§ç‰‡ï¼ˆæ¥è‡ªç¬¬7.3èŠ‚ï¼‰åçš„ç»“æœã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  fileInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;upload&quot;</span><span class=\"punctuation\">,</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">,</span> buttonLabel <span class=\"operator\">=</span> <span class=\"string\">&quot;Upload...&quot;</span><span class=\"punctuation\">,</span> multiple <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;files&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>files <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>upload<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/31fddd4b87d0e36141c7b8cbb2dd240f8c2d26d1/026fa/demos/action-transfer/upload.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/31fddd4b87d0e36141c7b8cbb2dd240f8c2d26d1/026fa/demos/action-transfer/upload.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾9.1 è¿™ä¸ªç®€å•çš„åº”ç”¨å¯ä»¥è®©ä½ çœ‹åˆ°Shinyä¸ºä¸Šä¼ çš„æ–‡ä»¶æä¾›äº†å“ªäº›æ•°æ®ã€‚å¯ä»¥åœ¨ https://hadley.shinyapps.io/ms-upload æŸ¥çœ‹å®æ—¶æ•ˆæœã€‚\"></p>\n<p>è¯·æ³¨æ„ï¼Œæˆ‘ä½¿ç”¨äº†<code>label</code>å’Œ<code>buttonLabel</code>å‚æ•°æ¥å¾®è°ƒå¤–è§‚ï¼Œä»¥åŠ<code>multiple = TRUE</code>æ¥å…è®¸ç”¨æˆ·ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ã€‚</p>\n<h3 id=\"9-1-3-ä¸Šä¼ æ•°æ®\"><a href=\"#9-1-3-ä¸Šä¼ æ•°æ®\" class=\"headerlink\" title=\"9.1.3 ä¸Šä¼ æ•°æ®\"></a>9.1.3 ä¸Šä¼ æ•°æ®</h3><p>å¦‚æœç”¨æˆ·æ­£åœ¨ä¸Šä¼ æ•°æ®é›†ï¼Œä½ éœ€è¦æ³¨æ„ä»¥ä¸‹ä¸¤ä¸ªç»†èŠ‚ï¼š</p>\n<ul>\n<li><p><code>input$upload</code>åœ¨é¡µé¢åŠ è½½æ—¶è¢«åˆå§‹åŒ–ä¸º<code>NULL</code>ï¼Œå› æ­¤ä½ éœ€è¦ä½¿ç”¨<code>req(input$upload)</code>æ¥ç¡®ä¿ä½ çš„ä»£ç ç­‰å¾…ç¬¬ä¸€ä¸ªæ–‡ä»¶ä¸Šä¼ ã€‚</p>\n</li>\n<li><p><code>accept</code>å‚æ•°å…è®¸ä½ é™åˆ¶å¯èƒ½çš„è¾“å…¥ã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯æä¾›ä¸€ä¸ªæ–‡ä»¶æ‰©å±•åçš„å­—ç¬¦å‘é‡ï¼Œå¦‚<code>accept = &quot;.csv&quot;</code>ã€‚ä½†æ˜¯ï¼Œacceptå‚æ•°åªæ˜¯å¯¹æµè§ˆå™¨çš„å»ºè®®ï¼Œå¹¶ä¸æ€»æ˜¯å¼ºåˆ¶æ‰§è¡Œï¼Œå› æ­¤è‡ªè¡ŒéªŒè¯æ˜¯ä¸ªå¥½ä¹ æƒ¯ï¼ˆä¾‹å¦‚ç¬¬8.1èŠ‚ï¼‰ã€‚åœ¨Rä¸­è·å–æ–‡ä»¶æ‰©å±•åæœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨<a href=\"https://rdrr.io/r/tools/fileutils.html\">tools::file_ext()</a>ï¼Œä½†è¦æ³¨æ„å®ƒä¼šåˆ é™¤æ‰©å±•åå‰é¢çš„<code>.</code>ã€‚</p>\n</li>\n</ul>\n<p>å°†è¿™äº›æƒ³æ³•ç»“åˆèµ·æ¥ï¼Œæˆ‘ä»¬å¾—åˆ°ä»¥ä¸‹åº”ç”¨ï¼Œä½ å¯ä»¥ä¸Šä¼ ä¸€ä¸ª<code>.csv</code>æˆ–<code>.tsv</code>æ–‡ä»¶ï¼Œå¹¶æŸ¥çœ‹å‰<code>n</code>è¡Œã€‚ä½ å¯ä»¥åœ¨ <a href=\"https://hadley.shinyapps.io/ms-upload-validate\">https://hadley.shinyapps.io/ms-upload-validate</a> æŸ¥çœ‹å®ƒçš„è¿è¡Œæƒ…å†µã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  fileInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;upload&quot;</span><span class=\"punctuation\">,</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">,</span> accept <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;.csv&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;.tsv&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Rows&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">5</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> step <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;head&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  data <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    req<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>upload<span class=\"punctuation\">)</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    ext <span class=\"operator\">&lt;-</span> tools<span class=\"operator\">::</span>file_ext<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>upload<span class=\"operator\">$</span>name<span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"built_in\">switch</span><span class=\"punctuation\">(</span>ext<span class=\"punctuation\">,</span></span><br><span class=\"line\">      csv <span class=\"operator\">=</span> vroom<span class=\"operator\">::</span>vroom<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>upload<span class=\"operator\">$</span>datapath<span class=\"punctuation\">,</span> delim <span class=\"operator\">=</span> <span class=\"string\">&quot;,&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      tsv <span class=\"operator\">=</span> vroom<span class=\"operator\">::</span>vroom<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>upload<span class=\"operator\">$</span>datapath<span class=\"punctuation\">,</span> delim <span class=\"operator\">=</span> <span class=\"string\">&quot;\\t&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      validate<span class=\"punctuation\">(</span><span class=\"string\">&quot;Invalid file; Please upload a .csv or .tsv file&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>head <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    head<span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>n<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¯·æ³¨æ„ï¼Œç”±äº<code>multiple = FALSE</code>ï¼ˆé»˜è®¤å€¼ï¼‰ï¼Œ<code>input$file</code>å°†æ˜¯ä¸€ä¸ªå•è¡Œæ•°æ®æ¡†ï¼Œè€Œ<code>input$file$name</code>å’Œ<code>input$file$datapath</code>å°†æ˜¯ä¸€ä¸ªé•¿åº¦ä¸º1çš„å­—ç¬¦å‘é‡ã€‚</p>\n<h2 id=\"9-2-ä¸‹è½½\"><a href=\"#9-2-ä¸‹è½½\" class=\"headerlink\" title=\"9.2 ä¸‹è½½\"></a>9.2 ä¸‹è½½</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è®¨è®ºæ–‡ä»¶ä¸‹è½½ï¼Œå‘ä½ å±•ç¤ºåŸºæœ¬çš„ç”¨æˆ·ç•Œé¢å’ŒæœåŠ¡å™¨ç»„ä»¶ï¼Œç„¶åæ¼”ç¤ºå¦‚ä½•ä½¿ç”¨å®ƒä»¬æ¥å…è®¸ç”¨æˆ·ä¸‹è½½æ•°æ®æˆ–æŠ¥å‘Šã€‚</p>\n<h3 id=\"9-2-1-åŸºæœ¬æ“ä½œ\"><a href=\"#9-2-1-åŸºæœ¬æ“ä½œ\" class=\"headerlink\" title=\"9.2.1 åŸºæœ¬æ“ä½œ\"></a>9.2.1 åŸºæœ¬æ“ä½œ</h3><p>åŒæ ·ï¼Œç”¨æˆ·ç•Œé¢éå¸¸ç®€å•ï¼šä½¿ç”¨<code>downloadButton(id)</code>æˆ–<code>downloadLink(id)</code>ä¸ºç”¨æˆ·æä¾›ä¸€ä¸ªå¯ç‚¹å‡»çš„ä¸‹è½½æ–‡ä»¶é€‰é¡¹ã€‚ç»“æœå¦‚<code>å›¾9.2</code>æ‰€ç¤ºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  downloadButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;download1&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  downloadLink<span class=\"punctuation\">(</span><span class=\"string\">&quot;download2&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/24e3c954a6c32523d02cd22597227ffb7b77313e/b15ad/demos/action-transfer/download.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/24e3c954a6c32523d02cd22597227ffb7b77313e/b15ad/demos/action-transfer/download.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾9.2 ä¸€ä¸ªä¸‹è½½æŒ‰é’®å’Œä¸€ä¸ªä¸‹è½½é“¾æ¥\"></p>\n<p>ä½ å¯ä»¥ä½¿ç”¨ä¸<code>actionButtons()</code>ç›¸åŒçš„<code>class</code>å’Œ<code>icon</code>å‚æ•°æ¥è‡ªå®šä¹‰å®ƒä»¬çš„å¤–è§‚ï¼Œå¦‚ç¬¬2.2.7èŠ‚æ‰€è¿°ã€‚</p>\n<p>ä¸å…¶ä»–è¾“å‡ºä¸åŒï¼Œ<a href=\"https://rdrr.io/pkg/shiny/man/downloadButton.html\">downloadButton()</a>ä¸ä¸æ¸²æŸ“å‡½æ•°é…å¯¹ã€‚ç›¸åï¼Œä½ ä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/downloadHandler.html\">downloadHandler()</a>ï¼Œå®ƒçœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">output<span class=\"operator\">$</span>download <span class=\"operator\">&lt;-</span> downloadHandler<span class=\"punctuation\">(</span></span><br><span class=\"line\">  filename <span class=\"operator\">=</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    paste0<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>dataset<span class=\"punctuation\">,</span> <span class=\"string\">&quot;.csv&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  content <span class=\"operator\">=</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>file<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    write.csv<span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> file<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p><code>downloadHandler()</code>æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œéƒ½æ˜¯å‡½æ•°ï¼š</p>\n<ul>\n<li><p><code>filename</code>åº”è¯¥æ˜¯ä¸€ä¸ªæ²¡æœ‰å‚æ•°çš„å‡½æ•°ï¼Œè¿”å›ä¸€ä¸ªæ–‡ä»¶åï¼ˆå­—ç¬¦ä¸²ï¼‰ã€‚è¿™ä¸ªå‡½æ•°çš„å·¥ä½œæ˜¯åˆ›å»ºå°†åœ¨ä¸‹è½½å¯¹è¯æ¡†ä¸­æ˜¾ç¤ºç»™ç”¨æˆ·çš„æ–‡ä»¶åã€‚</p>\n</li>\n<li><p><code>content</code>åº”è¯¥æ˜¯ä¸€ä¸ªå¸¦æœ‰ä¸€ä¸ªå‚æ•°<code>file</code>çš„å‡½æ•°ï¼Œfileæ˜¯ä¿å­˜æ–‡ä»¶çš„è·¯å¾„ã€‚è¿™ä¸ªå‡½æ•°çš„å·¥ä½œæ˜¯å°†æ–‡ä»¶ä¿å­˜åœ¨ShinyçŸ¥é“çš„ä½ç½®ï¼Œä»¥ä¾¿å¯ä»¥å°†å…¶å‘é€ç»™ç”¨æˆ·ã€‚</p>\n</li>\n</ul>\n<p>è¿™æ˜¯ä¸€ä¸ªä¸å¯»å¸¸çš„æ¥å£ï¼Œä½†å®ƒå…è®¸Shinyæ§åˆ¶æ–‡ä»¶åº”è¯¥ä¿å­˜çš„ä½ç½®ï¼ˆä»¥ä¾¿å¯ä»¥å°†å…¶æ”¾ç½®åœ¨å®‰å…¨ä½ç½®ï¼‰ï¼ŒåŒæ—¶ä½ ä»ç„¶å¯ä»¥æ§åˆ¶æ–‡ä»¶çš„å†…å®¹ã€‚</p>\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†æŠŠè¿™äº›éƒ¨åˆ†ç»„åˆåœ¨ä¸€èµ·ï¼Œå±•ç¤ºå¦‚ä½•å°†æ•°æ®æ–‡ä»¶æˆ–æŠ¥å‘Šä¼ è¾“ç»™ç”¨æˆ·ã€‚</p>\n<h3 id=\"9-2-2-ä¸‹è½½æ•°æ®\"><a href=\"#9-2-2-ä¸‹è½½æ•°æ®\" class=\"headerlink\" title=\"9.2.2 ä¸‹è½½æ•°æ®\"></a>9.2.2 ä¸‹è½½æ•°æ®</h3><p>ä»¥ä¸‹åº”ç”¨é€šè¿‡å…è®¸ä½ ä¸‹è½½<code>datasetsåŒ…</code>ä¸­çš„ä»»ä½•æ•°æ®é›†ä½œä¸ºåˆ¶è¡¨ç¬¦åˆ†éš”çš„æ–‡ä»¶ï¼Œå±•ç¤ºäº†æ•°æ®ä¸‹è½½çš„åŸºç¡€çŸ¥è¯†ï¼Œå¦‚<code>å›¾9.3</code>æ‰€ç¤ºã€‚æˆ‘å»ºè®®ä½¿ç”¨<code>.tsv</code>ï¼ˆåˆ¶è¡¨ç¬¦åˆ†éš”å€¼ï¼‰è€Œä¸æ˜¯<code>.csv</code>ï¼ˆé€—å·åˆ†éš”å€¼ï¼‰ï¼Œå› ä¸ºè®¸å¤šæ¬§æ´²å›½å®¶ä½¿ç”¨é€—å·æ¥åˆ†éš”æ•°å­—çš„æ•´æ•°éƒ¨åˆ†å’Œå°æ•°éƒ¨åˆ†ï¼ˆä¾‹å¦‚<code>1,23</code>ä¸<code>1.23</code>ï¼‰ã€‚è¿™æ„å‘³ç€å®ƒä»¬ä¸èƒ½ä½¿ç”¨é€—å·æ¥åˆ†éš”å­—æ®µï¼Œè€Œæ˜¯åœ¨æ‰€è°“çš„<code>â€œcâ€sv</code>æ–‡ä»¶ä¸­ä½¿ç”¨åˆ†å·ï¼é€šè¿‡ä½¿ç”¨åˆ¶è¡¨ç¬¦åˆ†éš”çš„æ–‡ä»¶ï¼Œä½ å¯ä»¥é¿å…è¿™ç§å¤æ‚æ€§ï¼Œå› ä¸ºå®ƒä»¬åœ¨ä»»ä½•åœ°æ–¹çš„å·¥ä½œæ–¹å¼éƒ½æ˜¯ç›¸åŒçš„ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;dataset&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Pick a dataset&quot;</span><span class=\"punctuation\">,</span> ls<span class=\"punctuation\">(</span><span class=\"string\">&quot;package:datasets&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;preview&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  downloadButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;download&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Download .tsv&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  data <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    out <span class=\"operator\">&lt;-</span> get<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>dataset<span class=\"punctuation\">,</span> <span class=\"string\">&quot;package:datasets&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span><span class=\"operator\">!</span>is.data.frame<span class=\"punctuation\">(</span>out<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      validate<span class=\"punctuation\">(</span>paste0<span class=\"punctuation\">(</span><span class=\"string\">&quot;&#x27;&quot;</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>dataset<span class=\"punctuation\">,</span> <span class=\"string\">&quot;&#x27; is not a data frame&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    out</span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>preview <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    head<span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    </span><br><span class=\"line\">  output<span class=\"operator\">$</span>download <span class=\"operator\">&lt;-</span> downloadHandler<span class=\"punctuation\">(</span></span><br><span class=\"line\">    filename <span class=\"operator\">=</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      paste0<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>dataset<span class=\"punctuation\">,</span> <span class=\"string\">&quot;.tsv&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    content <span class=\"operator\">=</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>file<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      vroom<span class=\"operator\">::</span>vroom_write<span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> file<span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/eaecc41d850e5ddb2e0258dc33b939b249add5f3/800ce/demos/action-transfer/download-data.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/eaecc41d850e5ddb2e0258dc33b939b249add5f3/800ce/demos/action-transfer/download-data.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾9.3 ä¸€ä¸ªæ›´ä¸°å¯Œçš„åº”ç”¨ï¼Œå…è®¸ä½ é€‰æ‹©å†…ç½®çš„æ•°æ®é›†å¹¶åœ¨ä¸‹è½½å‰é¢„è§ˆã€‚å¯ä»¥åœ¨https://hadley.shinyapps.io/ms-download-dataæŸ¥çœ‹å®æ—¶æ•ˆæœã€‚\"></p>\n<p>æ³¨æ„ï¼Œè¿™é‡Œä½¿ç”¨äº†<a href=\"https://rdrr.io/pkg/shiny/man/validate.html\">validate()</a>æ¥ä»…å…è®¸ç”¨æˆ·ä¸‹è½½æ˜¯æ•°æ®æ¡†çš„æ•°æ®é›†ã€‚æ›´å¥½çš„åšæ³•æ˜¯å¯¹åˆ—è¡¨è¿›è¡Œé¢„è¿‡æ»¤ï¼Œä½†è¿™æ ·å¯ä»¥è®©æ‚¨çœ‹åˆ°<code>validate()</code>çš„å¦ä¸€ä¸ªåº”ç”¨ã€‚</p>\n<h3 id=\"9-2-3-ä¸‹è½½æŠ¥å‘Š\"><a href=\"#9-2-3-ä¸‹è½½æŠ¥å‘Š\" class=\"headerlink\" title=\"9.2.3 ä¸‹è½½æŠ¥å‘Š\"></a>9.2.3 ä¸‹è½½æŠ¥å‘Š</h3><p>é™¤äº†ä¸‹è½½æ•°æ®å¤–ï¼Œæ‚¨å¯èƒ½è¿˜å¸Œæœ›å…è®¸æ‚¨çš„åº”ç”¨ä¸‹è½½æŠ¥å‘Šï¼Œè¯¥æŠ¥å‘Šæ€»ç»“äº†Shinyåº”ç”¨ä¸­äº¤äº’å¼æ¢ç´¢çš„ç»“æœã€‚è¿™æ˜¯ä¸€é¡¹éœ€è¦å¤§é‡å·¥ä½œçš„äº‹æƒ…ï¼Œå› ä¸ºæ‚¨è¿˜éœ€è¦ä»¥ä¸åŒçš„æ ¼å¼æ˜¾ç¤ºç›¸åŒçš„ä¿¡æ¯ï¼Œä½†å¯¹äºé«˜é£é™©çš„åº”ç”¨æ¥è¯´ï¼Œè¿™æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p>\n<p>ç”Ÿæˆæ­¤ç±»æŠ¥å‘Šçš„ä¸€ç§å¼ºå¤§æ–¹æ³•æ˜¯ä½¿ç”¨<a href=\"https://bookdown.org/yihui/rmarkdown/parameterized-reports.html\">å‚æ•°åŒ–çš„RMarkdownæ–‡æ¡£</a>ã€‚å‚æ•°åŒ–çš„RMarkdownæ–‡ä»¶åœ¨YAMLå…ƒæ•°æ®ä¸­æœ‰ä¸€ä¸ª<code>params</code>å­—æ®µï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">title<span class=\"operator\">:</span> My Document</span><br><span class=\"line\">output<span class=\"operator\">:</span> html_document</span><br><span class=\"line\">params<span class=\"operator\">:</span></span><br><span class=\"line\">  year<span class=\"operator\">:</span> <span class=\"number\">2018</span></span><br><span class=\"line\">  region<span class=\"operator\">:</span> Europe</span><br><span class=\"line\">  printcode<span class=\"operator\">:</span> <span class=\"literal\">TRUE</span></span><br><span class=\"line\">  data<span class=\"operator\">:</span> file.csv</span><br></pre></td></tr></table></figure>\n\n<p>åœ¨æ–‡æ¡£ä¸­ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>params$year</code>ã€<code>params$region</code>ç­‰æ¥å¼•ç”¨è¿™äº›å€¼ã€‚YAMLå…ƒæ•°æ®ä¸­çš„å€¼æ˜¯é»˜è®¤å€¼ï¼›æ‚¨é€šå¸¸é€šè¿‡åœ¨è°ƒç”¨<a href=\"https://pkgs.rstudio.com/rmarkdown/reference/render.html\">rmarkdown::render()</a>æ—¶æä¾›<code>params</code>å‚æ•°æ¥è¦†ç›–å®ƒä»¬ã€‚è¿™ä½¿å¾—ä»ç›¸åŒçš„<code>.Rmd</code>ç”Ÿæˆè®¸å¤šä¸åŒçš„æŠ¥å‘Šå˜å¾—å®¹æ˜“ã€‚</p>\n<p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ï¼Œæ”¹ç¼–è‡ª<a href=\"https://shiny.rstudio.com/articles/generating-reports.html\">https://shiny.rstudio.com/articles/generating-reports.html</a>ï¼Œè¯¥æ–‡ç« æ›´è¯¦ç»†åœ°æè¿°äº†è¿™ç§æŠ€æœ¯ã€‚å…³é”®æ€æƒ³æ˜¯ä»<code>downloadHander()</code>çš„<code>content</code>å‚æ•°ä¸­è°ƒç”¨<code>rmarkdown::render()</code>ã€‚å¦‚æœæ‚¨æƒ³ç”Ÿæˆå…¶ä»–è¾“å‡ºæ ¼å¼ï¼Œåªéœ€åœ¨<code>.Rmd</code>ä¸­æ›´æ”¹è¾“å‡ºæ ¼å¼ï¼Œå¹¶ç¡®ä¿æ›´æ–°æ‰©å±•åï¼ˆä¾‹å¦‚ï¼Œæ›´æ”¹ä¸º.pdfï¼‰ã€‚è¯·åœ¨<a href=\"https://hadley.shinyapps.io/ms-download-rmd\">https://hadley.shinyapps.io/ms-download-rmd</a>æŸ¥çœ‹å®æ—¶æ•ˆæœã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Number of points&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"number\">100</span><span class=\"punctuation\">,</span> <span class=\"number\">50</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  downloadButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;report&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Generate report&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>report <span class=\"operator\">&lt;-</span> downloadHandler<span class=\"punctuation\">(</span></span><br><span class=\"line\">    filename <span class=\"operator\">=</span> <span class=\"string\">&quot;report.html&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    content <span class=\"operator\">=</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>file<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      params <span class=\"operator\">&lt;-</span> <span class=\"built_in\">list</span><span class=\"punctuation\">(</span>n <span class=\"operator\">=</span> input<span class=\"operator\">$</span>n<span class=\"punctuation\">)</span></span><br><span class=\"line\">      </span><br><span class=\"line\">      id <span class=\"operator\">&lt;-</span> showNotification<span class=\"punctuation\">(</span></span><br><span class=\"line\">        <span class=\"string\">&quot;Rendering report...&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">        duration <span class=\"operator\">=</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">        closeButton <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span></span><br><span class=\"line\">      <span class=\"punctuation\">)</span></span><br><span class=\"line\">      <span class=\"built_in\">on.exit</span><span class=\"punctuation\">(</span>removeNotification<span class=\"punctuation\">(</span>id<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> add <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">      rmarkdown<span class=\"operator\">::</span>render<span class=\"punctuation\">(</span><span class=\"string\">&quot;report.Rmd&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">        output_file <span class=\"operator\">=</span> file<span class=\"punctuation\">,</span></span><br><span class=\"line\">        params <span class=\"operator\">=</span> params<span class=\"punctuation\">,</span></span><br><span class=\"line\">        envir <span class=\"operator\">=</span> new.env<span class=\"punctuation\">(</span>parent <span class=\"operator\">=</span> <span class=\"built_in\">globalenv</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">      <span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ¸²æŸ“ä¸€ä¸ª<code>.Rmd</code>æ–‡ä»¶é€šå¸¸éœ€è¦å‡ ç§’é’Ÿçš„æ—¶é—´ï¼Œå› æ­¤è¿™æ˜¯ä½¿ç”¨ç¬¬8.2èŠ‚ä¸­æåˆ°çš„é€šçŸ¥çš„å¥½åœ°æ–¹ã€‚</p>\n<p>è¿˜æœ‰ä¸€äº›å…¶ä»–å€¼å¾—äº†è§£çš„æŠ€å·§ï¼š</p>\n<ul>\n<li><p>RMarkdownåœ¨å½“å‰å·¥ä½œç›®å½•ä¸­è¿è¡Œï¼Œè¿™åœ¨è®¸å¤šéƒ¨ç½²åœºæ™¯ä¸­å¯èƒ½ä¼šå¤±è´¥ï¼ˆä¾‹å¦‚ï¼Œåœ¨shinyapps.ioä¸Šï¼‰ã€‚æ‚¨å¯ä»¥é€šè¿‡åœ¨åº”ç”¨å¯åŠ¨æ—¶å°†æŠ¥å‘Šå¤åˆ¶åˆ°ä¸´æ—¶ç›®å½•æ¥è§£å†³æ­¤é—®é¢˜ï¼ˆå³åœ¨serverå‡½æ•°å¤–éƒ¨ï¼‰ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">report_path <span class=\"operator\">&lt;-</span> tempfile<span class=\"punctuation\">(</span>fileext <span class=\"operator\">=</span> <span class=\"string\">&quot;.Rmd&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">file.copy<span class=\"punctuation\">(</span><span class=\"string\">&quot;report.Rmd&quot;</span><span class=\"punctuation\">,</span> report_path<span class=\"punctuation\">,</span> overwrite <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åï¼Œåœ¨è°ƒç”¨<code>rmarkdown::render()</code>æ—¶ï¼Œå°†<code>&quot;report.Rmd&quot;</code>æ›¿æ¢ä¸º<code>report_path</code>ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">rmarkdown<span class=\"operator\">::</span>render<span class=\"punctuation\">(</span>report_path<span class=\"punctuation\">,</span> </span><br><span class=\"line\">  output_file <span class=\"operator\">=</span> file<span class=\"punctuation\">,</span></span><br><span class=\"line\">  params <span class=\"operator\">=</span> params<span class=\"punctuation\">,</span></span><br><span class=\"line\">  envir <span class=\"operator\">=</span> new.env<span class=\"punctuation\">(</span>parent <span class=\"operator\">=</span> <span class=\"built_in\">globalenv</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒRMarkdownä¼šåœ¨å½“å‰è¿›ç¨‹ä¸­æ¸²æŸ“æŠ¥å‘Šï¼Œè¿™æ„å‘³ç€å®ƒå°†ç»§æ‰¿Shinyåº”ç”¨çš„è®¸å¤šè®¾ç½®ï¼ˆå¦‚åŠ è½½çš„åŒ…ã€é€‰é¡¹ç­‰ï¼‰ã€‚ä¸ºäº†è·å¾—æ›´å¤§çš„å¥å£®æ€§ï¼Œæˆ‘å»ºè®®ä½¿ç”¨<code>callråŒ…</code>åœ¨å•ç‹¬çš„Rä¼šè¯ä¸­è¿è¡Œ<code>render()</code>ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">render_report <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> params<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  rmarkdown<span class=\"operator\">::</span>render<span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span></span><br><span class=\"line\">    output_file <span class=\"operator\">=</span> output<span class=\"punctuation\">,</span></span><br><span class=\"line\">    params <span class=\"operator\">=</span> params<span class=\"punctuation\">,</span></span><br><span class=\"line\">    envir <span class=\"operator\">=</span> new.env<span class=\"punctuation\">(</span>parent <span class=\"operator\">=</span> <span class=\"built_in\">globalenv</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>report <span class=\"operator\">&lt;-</span> downloadHandler<span class=\"punctuation\">(</span></span><br><span class=\"line\">    filename <span class=\"operator\">=</span> <span class=\"string\">&quot;report.html&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    content <span class=\"operator\">=</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>file<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      params <span class=\"operator\">&lt;-</span> <span class=\"built_in\">list</span><span class=\"punctuation\">(</span>n <span class=\"operator\">=</span> input<span class=\"operator\">$</span>slider<span class=\"punctuation\">)</span></span><br><span class=\"line\">      callr<span class=\"operator\">::</span>r<span class=\"punctuation\">(</span></span><br><span class=\"line\">        render_report<span class=\"punctuation\">,</span></span><br><span class=\"line\">        <span class=\"built_in\">list</span><span class=\"punctuation\">(</span>input <span class=\"operator\">=</span> report_path<span class=\"punctuation\">,</span> output <span class=\"operator\">=</span> file<span class=\"punctuation\">,</span> params <span class=\"operator\">=</span> params<span class=\"punctuation\">)</span></span><br><span class=\"line\">      <span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure></li>\n</ul>\n<p>æ‚¨å¯ä»¥åœ¨Mastering Shiny GitHubä»“åº“ä¸­çš„<a href=\"https://github.com/hadley/mastering-shiny/tree/master/rmarkdown-report\">rmarkdown-report&#x2F;</a>æ–‡ä»¶å¤¹ä¸­çœ‹åˆ°æ‰€æœ‰è¿™äº›ç»„ä»¶ç»„åˆåœ¨ä¸€èµ·ã€‚</p>\n<p><a href=\"https://github.com/rstudio/shinymeta\">shinymeta</a>åŒ…è§£å†³äº†ä¸€ä¸ªç›¸å…³çš„é—®é¢˜ï¼šæœ‰æ—¶æ‚¨éœ€è¦å°†Shinyåº”ç”¨çš„å½“å‰çŠ¶æ€è½¬æ¢ä¸ºå¯åœ¨æœªæ¥é‡æ–°è¿è¡Œçš„å¯é‡å¤æŠ¥å‘Šã€‚è¦äº†è§£æ›´å¤šä¿¡æ¯ï¼Œè¯·æŸ¥é˜…Joe Chengåœ¨useR! 2019å¹´ä¸»é¢˜æ¼”è®²ä¸­ä»‹ç»çš„â€œ<a href=\"https://www.youtube.com/watch?v=5KByRC6eqC8\">Shinyçš„ç¥åœ£ç›®æ ‡ï¼šäº¤äº’æ€§ä¸å¯é‡å¤æ€§</a>â€ã€‚</p>\n<h2 id=\"9-3-æ¡ˆä¾‹ç ”ç©¶\"><a href=\"#9-3-æ¡ˆä¾‹ç ”ç©¶\" class=\"headerlink\" title=\"9.3 æ¡ˆä¾‹ç ”ç©¶\"></a>9.3 æ¡ˆä¾‹ç ”ç©¶</h2><p>æœ€åï¼Œæˆ‘ä»¬å°†é€šè¿‡ä¸€ä¸ªç®€å•çš„æ¡ˆä¾‹ç ”ç©¶æ¥ç»“æŸæœ¬ç« ã€‚åœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œæˆ‘ä»¬å°†ä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶ï¼ˆç”¨æˆ·å¯ä»¥æŒ‡å®šåˆ†éš”ç¬¦ï¼‰ï¼Œé¢„è§ˆå®ƒï¼Œä½¿ç”¨Sam Firkeçš„<a href=\"http://sfirke.github.io/janitor\">janitor</a>åŒ…è¿›è¡Œä¸€äº›å¯é€‰çš„è½¬æ¢ï¼Œç„¶åè®©ç”¨æˆ·å°†å…¶ä¸‹è½½ä¸º<code>.tsv</code>æ–‡ä»¶ã€‚</p>\n<p>ä¸ºäº†æ›´å®¹æ˜“åœ°ç†è§£å¦‚ä½•ä½¿ç”¨è¿™ä¸ªåº”ç”¨ï¼Œæˆ‘ä½¿ç”¨äº†<a href=\"https://rdrr.io/pkg/shiny/man/sidebarLayout.html\">sidebarLayout()</a>æ¥å°†åº”ç”¨åˆ†ä¸ºä¸‰ä¸ªä¸»è¦æ­¥éª¤ï¼š</p>\n<ul>\n<li><p>ä¸Šä¼ å’Œè§£ææ–‡ä»¶</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui_upload <span class=\"operator\">&lt;-</span> sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">  sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">    fileInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;file&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Data&quot;</span><span class=\"punctuation\">,</span> buttonLabel <span class=\"operator\">=</span> <span class=\"string\">&quot;Upload...&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    textInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;delim&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Delimiter (leave blank to guess)&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;skip&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Rows to skip&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;rows&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Rows to preview&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">10</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">    h3<span class=\"punctuation\">(</span><span class=\"string\">&quot;Raw data&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;preview1&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>æ¸…ç†æ–‡ä»¶</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui_clean <span class=\"operator\">&lt;-</span> sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">  sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">    checkboxInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;snake&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Rename columns to snake case?&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    checkboxInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;constant&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Remove constant columns?&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    checkboxInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;empty&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Remove empty cols?&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">    h3<span class=\"punctuation\">(</span><span class=\"string\">&quot;Cleaner data&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;preview2&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>ä¸‹è½½æ–‡ä»¶</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui_download <span class=\"operator\">&lt;-</span> fluidRow<span class=\"punctuation\">(</span></span><br><span class=\"line\">  column<span class=\"punctuation\">(</span>width <span class=\"operator\">=</span> <span class=\"number\">12</span><span class=\"punctuation\">,</span> downloadButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;download&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">class</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;btn-block&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åï¼Œè¿™äº›æ–‡ä»¶è¢«ç»„åˆæˆä¸€ä¸ªå•ç‹¬çš„<a href=\"https://rdrr.io/pkg/shiny/man/fluidPage.html\">fluidPage()</a>ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  ui_upload<span class=\"punctuation\">,</span></span><br><span class=\"line\">  ui_clean<span class=\"punctuation\">,</span></span><br><span class=\"line\">  ui_download</span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™ç§ç›¸åŒçš„ç»„ç»‡æ–¹å¼ä½¿å¾—ç†è§£åº”ç”¨ç¨‹åºå˜å¾—æ›´åŠ å®¹æ˜“ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"comment\"># Upload ---------------------------------------------------------</span></span><br><span class=\"line\">  raw <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    req<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>file<span class=\"punctuation\">)</span></span><br><span class=\"line\">    delim <span class=\"operator\">&lt;-</span> <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>delim <span class=\"operator\">==</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">)</span> <span class=\"literal\">NULL</span> <span class=\"keyword\">else</span> input<span class=\"operator\">$</span>delim</span><br><span class=\"line\">    vroom<span class=\"operator\">::</span>vroom<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>file<span class=\"operator\">$</span>datapath<span class=\"punctuation\">,</span> delim <span class=\"operator\">=</span> delim<span class=\"punctuation\">,</span> skip <span class=\"operator\">=</span> input<span class=\"operator\">$</span>skip<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>preview1 <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span>head<span class=\"punctuation\">(</span>raw<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>rows<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\"># Clean ----------------------------------------------------------</span></span><br><span class=\"line\">  tidied <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    out <span class=\"operator\">&lt;-</span> raw<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>snake<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>out<span class=\"punctuation\">)</span> <span class=\"operator\">&lt;-</span> janitor<span class=\"operator\">::</span>make_clean_names<span class=\"punctuation\">(</span><span class=\"built_in\">names</span><span class=\"punctuation\">(</span>out<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>empty<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      out <span class=\"operator\">&lt;-</span> janitor<span class=\"operator\">::</span>remove_empty<span class=\"punctuation\">(</span>out<span class=\"punctuation\">,</span> <span class=\"string\">&quot;cols&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>constant<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      out <span class=\"operator\">&lt;-</span> janitor<span class=\"operator\">::</span>remove_constant<span class=\"punctuation\">(</span>out<span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    out</span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>preview2 <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span>head<span class=\"punctuation\">(</span>tidied<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>rows<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  <span class=\"comment\"># Download -------------------------------------------------------</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>download <span class=\"operator\">&lt;-</span> downloadHandler<span class=\"punctuation\">(</span></span><br><span class=\"line\">    filename <span class=\"operator\">=</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      paste0<span class=\"punctuation\">(</span>tools<span class=\"operator\">::</span>file_path_sans_ext<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>file<span class=\"operator\">$</span>name<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;.tsv&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    content <span class=\"operator\">=</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>file<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      vroom<span class=\"operator\">::</span>vroom_write<span class=\"punctuation\">(</span>tidied<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> file<span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/25874d076587129b1d92ceff28de69b7e5aec561/31f22/demos/action-transfer/case-study.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/25874d076587129b1d92ceff28de69b7e5aec561/31f22/demos/action-transfer/case-study.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾9.4 ä¸€ä¸ªå…è®¸ç”¨æˆ·ä¸Šä¼ æ–‡ä»¶ã€æ‰§è¡Œä¸€äº›ç®€å•çš„æ¸…ç†æ“ä½œï¼Œç„¶åä¸‹è½½ç»“æœçš„åº”ç”¨ç¨‹åºã€‚å¯è®¿é—® https://hadley.shinyapps.io/ms-case-study æŸ¥çœ‹å®æ—¶æ•ˆæœã€‚\"></p>\n</li>\n</ul>\n<h2 id=\"9-4-ç»ƒä¹ \"><a href=\"#9-4-ç»ƒä¹ \" class=\"headerlink\" title=\"9.4 ç»ƒä¹ \"></a>9.4 ç»ƒä¹ </h2><ol>\n<li><p>ä½¿ç”¨Thomas Lin Pedersençš„<a href=\"https://ambient.data-imaginist.com/\">ambient</a>åŒ…ç”Ÿæˆ<a href=\"https://ambient.data-imaginist.com/reference/noise_worley.html\">Worleyå™ªå£°</a>ï¼Œå¹¶ä¸‹è½½å…¶PNGå›¾åƒã€‚</p>\n</li>\n<li><p>åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå…è®¸ç”¨æˆ·ä¸Šä¼ CSVæ–‡ä»¶ï¼Œé€‰æ‹©ä¸€ä¸ªå˜é‡ï¼Œç„¶åå¯¹è¯¥å˜é‡æ‰§è¡Œ<a href=\"https://rdrr.io/r/stats/t.test.html\">t.test()</a>ã€‚åœ¨ç”¨æˆ·ä¸Šä¼ CSVæ–‡ä»¶åï¼Œæ‚¨éœ€è¦ä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/updateSelectInput.html\">updateSelectInput()</a>æ¥å¡«å……å¯ç”¨çš„å˜é‡ã€‚è¯¦æƒ…è¯·å‚é˜…ç¬¬10.1èŠ‚ã€‚</p>\n</li>\n<li><p>åˆ›å»ºä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå…è®¸ç”¨æˆ·ä¸Šä¼ CSVæ–‡ä»¶ï¼Œé€‰æ‹©ä¸€ä¸ªå˜é‡ï¼Œç»˜åˆ¶ç›´æ–¹å›¾ï¼Œç„¶åä¸‹è½½ç›´æ–¹å›¾ã€‚ä½œä¸ºé¢å¤–çš„æŒ‘æˆ˜ï¼Œå…è®¸ç”¨æˆ·ä»<code>.png</code>ã€<code>.pdf</code>å’Œ<code>.svg</code>è¾“å‡ºæ ¼å¼ä¸­è¿›è¡Œé€‰æ‹©ã€‚</p>\n</li>\n<li><p>ç¼–å†™ä¸€ä¸ªåº”ç”¨ç¨‹åºï¼Œå…è®¸ç”¨æˆ·ä½¿ç”¨Ryan Timpeçš„<a href=\"https://github.com/ryantimpe/brickr\">brickr</a>åŒ…ä»ä»»ä½•<code>.png</code>æ–‡ä»¶åˆ›å»ºä¹é«˜é©¬èµ›å…‹ã€‚å®ŒæˆåŸºæœ¬åŠŸèƒ½åï¼Œæ·»åŠ æ§ä»¶ä»¥å…è®¸ç”¨æˆ·é€‰æ‹©é©¬èµ›å…‹çš„å¤§å°ï¼ˆä»¥ç –å—ä¸ºå•ä½ï¼‰ï¼Œå¹¶é€‰æ‹©ä½¿ç”¨<code>â€œuniversalâ€</code>æˆ–<code>â€œgenericâ€</code>é¢œè‰²è°ƒè‰²æ¿ã€‚</p>\n</li>\n<li><p>ç¬¬9.3èŠ‚ä¸­çš„æœ€åä¸€ä¸ªåº”ç”¨ç¨‹åºåŒ…å«äº†ä¸€ä¸ªå¤§å‹çš„å“åº”å¼è¡¨è¾¾å¼ï¼š</p>\n <figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tidied <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  out <span class=\"operator\">&lt;-</span> raw<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>snake<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"built_in\">names</span><span class=\"punctuation\">(</span>out<span class=\"punctuation\">)</span> <span class=\"operator\">&lt;-</span> janitor<span class=\"operator\">::</span>make_clean_names<span class=\"punctuation\">(</span><span class=\"built_in\">names</span><span class=\"punctuation\">(</span>out<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>empty<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    out <span class=\"operator\">&lt;-</span> janitor<span class=\"operator\">::</span>remove_empty<span class=\"punctuation\">(</span>out<span class=\"punctuation\">,</span> <span class=\"string\">&quot;cols&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>constant<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    out <span class=\"operator\">&lt;-</span> janitor<span class=\"operator\">::</span>remove_constant<span class=\"punctuation\">(</span>out<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  out</span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p> å°†å…¶åˆ†è§£ä¸ºå¤šä¸ªéƒ¨åˆ†ï¼Œä»¥ä¾¿å½“<code>input$empty</code>å‘ç”Ÿå˜åŒ–æ—¶ï¼Œä¸ä¼šé‡æ–°è¿è¡Œ<code>janitor::make_clean_names()</code>ã€‚</p>\n</li>\n</ol>\n<h2 id=\"9-5-æ€»ç»“\"><a href=\"#9-5-æ€»ç»“\" class=\"headerlink\" title=\"9.5 æ€»ç»“\"></a>9.5 æ€»ç»“</h2><p>åœ¨æœ¬ç« ä¸­ï¼Œæ‚¨å­¦ä¹ äº†å¦‚ä½•ä½¿ç”¨<code>fileInput()</code>å’Œ<code>downloadButton()</code>æ¥åœ¨ç”¨æˆ·ä¹‹é—´ä¼ è¾“æ–‡ä»¶ã€‚å¤§å¤šæ•°æŒ‘æˆ˜è¦ä¹ˆæ¥è‡ªå¤„ç†ä¸Šä¼ çš„æ–‡ä»¶ï¼Œè¦ä¹ˆæ¥è‡ªç”Ÿæˆè¦ä¸‹è½½çš„æ–‡ä»¶ï¼Œå› æ­¤æˆ‘å‘æ‚¨å±•ç¤ºäº†å¦‚ä½•å¤„ç†ä¸€äº›å¸¸è§çš„æƒ…å†µã€‚å¦‚æœæˆ‘æ²¡æœ‰æ¶µç›–æ‚¨åœ¨æ­¤å¤„çš„ç‰¹å®šæŒ‘æˆ˜ï¼Œé‚£ä¹ˆæ‚¨éœ€è¦å°†æ‚¨ç‹¬ç‰¹çš„åˆ›é€ åŠ›åº”ç”¨äºé—®é¢˜ä¸­ã€‚</p>\n<p>ä¸‹ä¸€ç« å°†å¸®åŠ©æ‚¨å¤„ç†åœ¨å¤„ç†ç”¨æˆ·æä¾›çš„æ•°æ®æ—¶é‡åˆ°çš„ä¸€ä¸ªå¸¸è§æŒ‘æˆ˜ï¼šæ‚¨éœ€è¦åŠ¨æ€åœ°è°ƒæ•´ç”¨æˆ·ç•Œé¢ä»¥æ›´å¥½åœ°é€‚åº”æ•°æ®ã€‚æˆ‘å°†ä»ä¸€äº›æ˜“äºç†è§£ä¸”å¯ä»¥åœ¨è®¸å¤šæƒ…å†µä¸‹åº”ç”¨çš„ç®€å•æŠ€æœ¯å¼€å§‹ï¼Œé€æ¸è¿‡æ¸¡åˆ°å®Œå…¨åŠ¨æ€çš„ç”¨æˆ·ç•Œé¢ã€‚</p>\n<h1 id=\"åŠ å…³æ³¨\"><a href=\"#åŠ å…³æ³¨\" class=\"headerlink\" title=\"åŠ å…³æ³¨\"></a>åŠ å…³æ³¨</h1><p>å…³æ³¨å…¬ä¼—å·â€œç”Ÿä¿¡ä¹‹å·…â€ã€‚</p>\n<table align=\"center\"><tr>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å¾®ä¿¡å…¬ä¼—å·\" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-right: 0px;margin-bottom: 5px;align: center;\"></td>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å°ç¨‹åºç \" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-left: 0px;margin-bottom: 5px;align: center\"></td>\n</tr></table>\n\n\n<p><font color=\"#FF0000\"><ruby><b>æ•¬å‘Š</b>ï¼šä½¿ç”¨æ–‡ä¸­è„šæœ¬è¯·å¼•ç”¨æœ¬æ–‡ç½‘å€ï¼Œè¯·å°Šé‡æœ¬äººçš„åŠ³åŠ¨æˆæœï¼Œè°¢è°¢ï¼<rt><b>Notice</b>: When you use the scripts in this article, please cite the link of this webpage. Thank you!</rt></ruby></font></p>\n","raw":null,"categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"ç¼–ç¨‹","path":"api/tags/ç¼–ç¨‹.json"},{"name":"Shinyå…¥é—¨ç³»åˆ—","path":"api/tags/Shinyå…¥é—¨ç³»åˆ—.json"}]},{"title":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”8-ç”¨æˆ·åé¦ˆ","slug":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”8-ç”¨æˆ·åé¦ˆ","date":"2024-04-14T05:18:07.000Z","updated":"2024-04-14T05:37:41.141Z","comments":true,"path":"api/articles/Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”8-ç”¨æˆ·åé¦ˆ.json","excerpt":null,"keywords":null,"cover":"https://d33wubrfki0l68.cloudfront.net/4ce6e5665e89d296ce5ee685d1b44ac44f648c1c/42897/demos/action-feedback/feedback-odd.png","content":"<h1 id=\"8-ç”¨æˆ·åé¦ˆ\"><a href=\"#8-ç”¨æˆ·åé¦ˆ\" class=\"headerlink\" title=\"8 ç”¨æˆ·åé¦ˆ\"></a>8 ç”¨æˆ·åé¦ˆ</h1><p>ä½ é€šå¸¸å¯ä»¥é€šè¿‡å‘ç”¨æˆ·å±•ç¤ºæ›´å¤šå…³äºæ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…çš„ä¿¡æ¯æ¥æé«˜åº”ç”¨ç¨‹åºçš„å¯ç”¨æ€§ã€‚è¿™å¯èƒ½è¡¨ç°ä¸ºå½“è¾“å…¥ä¸åˆç†æ—¶æ˜¾ç¤ºæ›´å¥½çš„æ¶ˆæ¯ï¼Œæˆ–è€…å¯¹éœ€è¦å¾ˆé•¿æ—¶é—´çš„æ“ä½œä½¿ç”¨è¿›åº¦æ¡ã€‚ä¸€äº›åé¦ˆæ˜¯é€šè¿‡è¾“å‡ºè‡ªç„¶å‘ç”Ÿçš„ï¼Œä½ å·²ç»çŸ¥é“å¦‚ä½•ä½¿ç”¨å®ƒä»¬ï¼Œä½†ä½ ç»å¸¸è¿˜éœ€è¦å…¶ä»–çš„ä¸œè¥¿ã€‚æœ¬ç« çš„ç›®æ ‡æ˜¯å‘ä½ å±•ç¤ºä¸€äº›å…¶ä»–çš„é€‰æ‹©ã€‚</p>\n<p>æˆ‘ä»¬å°†ä»<code>éªŒè¯</code>æŠ€æœ¯å¼€å§‹ï¼Œåœ¨è¾“å…¥ï¼ˆæˆ–è¾“å…¥ç»„åˆï¼‰å¤„äºæ— æ•ˆçŠ¶æ€æ—¶é€šçŸ¥ç”¨æˆ·ã€‚ç„¶åæˆ‘ä»¬å°†ç»§ç»­è®¨è®º<code>é€šçŸ¥</code>ï¼Œå‘ç”¨æˆ·å‘é€ä¸€èˆ¬æ¶ˆæ¯ï¼Œä»¥åŠ<code>è¿›åº¦æ¡</code>ï¼Œè¿™äº›ä¸ºåŒ…å«è®¸å¤šå°æ­¥éª¤çš„è€—æ—¶æ“ä½œæä¾›äº†è¯¦ç»†ä¿¡æ¯ã€‚æœ€åï¼Œæˆ‘ä»¬å°†è®¨è®ºå±é™©æ“ä½œï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨<code>ç¡®è®¤</code>å¯¹è¯æ¡†æˆ–<code>æ’¤é”€</code>æ“ä½œçš„èƒ½åŠ›æ¥è®©ä½ çš„ç”¨æˆ·å®‰å¿ƒã€‚</p>\n<p>åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨Andy Merlinoçš„<a href=\"https://github.com/merlinoa/shinyFeedback\">shinyFeedback</a>å’ŒJohn Coeneçš„<a href=\"http://waiter.john-coene.com/\">waiter</a>ã€‚ä½ è¿˜åº”è¯¥å…³æ³¨Joe Chengæ­£åœ¨å¼€å‘çš„<a href=\"https://rstudio.github.io/shinyvalidate/\">shinyvalidate</a>åŒ…ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>shiny<span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"8-1-éªŒè¯\"><a href=\"#8-1-éªŒè¯\" class=\"headerlink\" title=\"8.1 éªŒè¯\"></a>8.1 éªŒè¯</h2><p>ä½ å¯ä»¥ç»™ç”¨æˆ·æä¾›çš„ç¬¬ä¸€ä¸ªä¹Ÿæ˜¯æœ€é‡è¦çš„åé¦ˆæ˜¯ï¼Œä»–ä»¬çš„è¾“å…¥æœ‰è¯¯ã€‚è¿™ä¸åœ¨Rä¸­ç¼–å†™å¥½å‡½æ•°ç±»ä¼¼ï¼šç”¨æˆ·å‹å¥½çš„å‡½æ•°ä¼šç»™å‡ºæ¸…æ™°çš„é”™è¯¯æ¶ˆæ¯ï¼Œæè¿°æœŸæœ›çš„è¾“å…¥æ˜¯ä»€ä¹ˆï¼Œä»¥åŠä½ æ˜¯å¦‚ä½•è¿èƒŒè¿™äº›æœŸæœ›çš„ã€‚æ€è€ƒç”¨æˆ·å¯èƒ½ä¼šå¦‚ä½•è¯¯ç”¨ä½ çš„åº”ç”¨ç¨‹åºï¼Œå¯ä»¥è®©ä½ åœ¨ç”¨æˆ·ç•Œé¢ï¼ˆUIï¼‰ä¸­æä¾›æœ‰ç”¨çš„æ¶ˆæ¯ï¼Œè€Œä¸æ˜¯è®©é”™è¯¯æ¸—é€åˆ°Rä»£ç ä¸­å¹¶äº§ç”Ÿæ— ç”¨çš„é”™è¯¯ä¿¡æ¯ã€‚</p>\n<h3 id=\"8-1-1-éªŒè¯è¾“å…¥\"><a href=\"#8-1-1-éªŒè¯è¾“å…¥\" class=\"headerlink\" title=\"8.1.1 éªŒè¯è¾“å…¥\"></a>8.1.1 éªŒè¯è¾“å…¥</h3><p>é€šè¿‡shinyFeedbackåŒ…å‘ç”¨æˆ·æä¾›é¢å¤–çš„åé¦ˆæ˜¯ä¸€ä¸ªå¾ˆå¥½çš„æ–¹æ³•ã€‚ä½¿ç”¨å®ƒåˆ†ä¸ºä¸¤æ­¥ã€‚é¦–å…ˆï¼Œä½ éœ€è¦åœ¨ç”¨æˆ·ç•Œé¢ï¼ˆuiï¼‰ä¸­æ·»åŠ useShinyFeedback()ã€‚è¿™å°†ä¸ºæ˜¾ç¤ºç¾è§‚çš„é”™è¯¯æ¶ˆæ¯è®¾ç½®æ‰€éœ€çš„HTMLå’ŒJavaScriptï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  shinyFeedback<span class=\"operator\">::</span>useShinyFeedback<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">10</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  textOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;half&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>ç„¶ååœ¨æ‚¨çš„server()å‡½æ•°ä¸­ï¼Œæ‚¨è°ƒç”¨åé¦ˆå‡½æ•°ä¹‹ä¸€ï¼šfeedback()ã€feedbackWarning()ã€feedbackDanger()å’ŒfeedbackSuccess()ã€‚ä»–ä»¬éƒ½æœ‰ä¸‰ä¸ªå…³é”®å‚æ•°ï¼š</p>\n<ul>\n<li><code>inputId</code>ï¼Œæ”¾ç½®åé¦ˆçš„è¾“å…¥çš„idã€‚</li>\n<li><code>show</code>ï¼Œä¸€ä¸ªé€»è¾‘å€¼ï¼Œç¡®å®šæ˜¯å¦æ˜¾ç¤ºåé¦ˆã€‚</li>\n<li><code>text</code>ï¼Œè¦æ˜¾ç¤ºçš„æ–‡æœ¬ã€‚</li>\n</ul>\n<p>å®ƒä»¬è¿˜æœ‰é¢œè‰²å’Œå›¾æ ‡å‚æ•°ï¼Œä½ å¯ä»¥ä½¿ç”¨å®ƒä»¬è¿›ä¸€æ­¥è‡ªå®šä¹‰å¤–è§‚ã€‚æ›´å¤šè¯¦ç»†ä¿¡æ¯è¯·æŸ¥é˜…æ–‡æ¡£ã€‚</p>\n<p>è®©æˆ‘ä»¬çœ‹çœ‹è¿™åœ¨ä¸€ä¸ªçœŸå®ä¾‹å­ä¸­æ˜¯å¦‚ä½•å®ç°çš„ï¼Œå‡è®¾æˆ‘ä»¬åªå…è®¸è¾“å…¥å¶æ•°ã€‚å›¾8.1æ˜¾ç¤ºäº†ç»“æœã€‚</p>\n<figure class=\"highlight plaintext\"><figcaption><span><- function(input, output, session) &#123;</span></figcaption><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">  half &lt;- reactive(&#123;</span><br><span class=\"line\">    even &lt;- input$n %% 2 == 0</span><br><span class=\"line\">    shinyFeedback::feedbackWarning(&quot;n&quot;, !even, &quot;Please select an even number&quot;)</span><br><span class=\"line\">    input$n / 2    </span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  </span><br><span class=\"line\">  output$half &lt;- renderText(half())</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/4ce6e5665e89d296ce5ee685d1b44ac44f648c1c/42897/demos/action-feedback/feedback-odd.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/4ce6e5665e89d296ce5ee685d1b44ac44f648c1c/42897/demos/action-feedback/feedback-odd.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾8.1ï¼šä½¿ç”¨feedbackWarning()æ˜¾ç¤ºæ— æ•ˆè¾“å…¥çš„è­¦å‘Šã€‚å·¦ä¾§çš„åº”ç”¨ç¨‹åºæ˜¾ç¤ºäº†ä¸€ä¸ªæœ‰æ•ˆçš„è¾“å…¥ï¼Œå³ä¾§çš„åº”ç”¨ç¨‹åºæ˜¾ç¤ºäº†ä¸€ä¸ªæ— æ•ˆçš„ï¼ˆå¥‡æ•°ï¼‰è¾“å…¥å¹¶å¸¦æœ‰è­¦å‘Šæ¶ˆæ¯ã€‚è¯·è®¿é—®https://hadley.shinyapps.io/ms-feedbackæŸ¥çœ‹å®æ—¶æ•ˆæœã€‚\"></p>\n<p>è¯·æ³¨æ„ï¼Œé”™è¯¯æ¶ˆæ¯å·²ç»æ˜¾ç¤ºï¼Œä½†è¾“å‡ºä»ç„¶æ›´æ–°äº†ã€‚é€šå¸¸ï¼Œä½ ä¸æƒ³è¿™æ ·åšï¼Œå› ä¸ºæ— æ•ˆçš„è¾“å…¥å¯èƒ½ä¼šå¼•å‘ä½ ä¸å¸Œæœ›æ˜¾ç¤ºç»™ç”¨æˆ·çš„æ— ç”¨çš„Ré”™è¯¯ã€‚è¦é˜»æ­¢è¾“å…¥è§¦å‘å“åº”å¼æ›´æ”¹ï¼Œä½ éœ€è¦ä¸€ä¸ªæ–°å·¥å…·ï¼šreq()ï¼Œå³â€œrequiredâ€çš„ç¼©å†™ã€‚å®ƒçš„ç”¨æ³•å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  half <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    even <span class=\"operator\">&lt;-</span> input<span class=\"operator\">$</span>n <span class=\"operator\">%%</span> <span class=\"number\">2</span> <span class=\"operator\">==</span> <span class=\"number\">0</span></span><br><span class=\"line\">    shinyFeedback<span class=\"operator\">::</span>feedbackWarning<span class=\"punctuation\">(</span><span class=\"string\">&quot;n&quot;</span><span class=\"punctuation\">,</span> <span class=\"operator\">!</span>even<span class=\"punctuation\">,</span> <span class=\"string\">&quot;Please select an even number&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    req<span class=\"punctuation\">(</span>even<span class=\"punctuation\">)</span></span><br><span class=\"line\">    input<span class=\"operator\">$</span>n <span class=\"operator\">/</span> <span class=\"number\">2</span>    </span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>half <span class=\"operator\">&lt;-</span> renderText<span class=\"punctuation\">(</span>half<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n\n<p>å½“<code>req()</code>çš„è¾“å…¥ä¸ä¸ºçœŸæ—¶ï¼Œå®ƒä¼šå‘é€ä¸€ä¸ªç‰¹æ®Šä¿¡å·ï¼Œå‘Šè¯‰Shinyè¿™ä¸ªå“åº”å¼ç»„ä»¶æ²¡æœ‰å®ƒæ‰€éœ€çš„æ‰€æœ‰è¾“å…¥ï¼Œå› æ­¤åº”è¯¥â€œæš‚åœâ€ã€‚åœ¨å°†å…¶ä¸<code>validate()</code>ç»“åˆä½¿ç”¨ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆç®€è¦è®¨è®ºä¸€ä¸‹è¿™ä¸ªé—®é¢˜ã€‚</p>\n<h3 id=\"8-1-2-ä½¿ç”¨req-å–æ¶ˆæ‰§è¡Œ\"><a href=\"#8-1-2-ä½¿ç”¨req-å–æ¶ˆæ‰§è¡Œ\" class=\"headerlink\" title=\"8.1.2 ä½¿ç”¨req()å–æ¶ˆæ‰§è¡Œ\"></a>8.1.2 ä½¿ç”¨<code>req()</code>å–æ¶ˆæ‰§è¡Œ</h3><p>é€šè¿‡è·³å‡ºéªŒè¯çš„èŒƒç•´ï¼Œå¯ä»¥æ›´å®¹æ˜“åœ°ç†è§£<a href=\"https://rdrr.io/pkg/shiny/man/req.html\">req()</a>ã€‚ä½ å¯èƒ½å·²ç»æ³¨æ„åˆ°ï¼Œå½“ä½ å¯åŠ¨ä¸€ä¸ªåº”ç”¨ç¨‹åºæ—¶ï¼Œå³ä½¿ç”¨æˆ·è¿˜æ²¡æœ‰è¿›è¡Œä»»ä½•æ“ä½œï¼Œå®Œæ•´çš„å“åº”å¼å›¾ä¹Ÿä¼šè¢«è®¡ç®—å‡ºæ¥ã€‚å½“ä½ èƒ½å¤Ÿä¸ºè¾“å…¥é€‰æ‹©æœ‰æ„ä¹‰çš„é»˜è®¤<code>å€¼</code>æ—¶ï¼Œè¿™å¯ä»¥å¾ˆå¥½åœ°å·¥ä½œã€‚ä½†è¿™å¹¶ä¸æ€»æ˜¯å¯èƒ½çš„ï¼Œæœ‰æ—¶ä½ å¯èƒ½å¸Œæœ›ç­‰åˆ°ç”¨æˆ·å®é™…æ‰§è¡Œäº†æŸäº›æ“ä½œå†è¿›è¡Œè®¡ç®—ã€‚è¿™ç§æƒ…å†µé€šå¸¸å‡ºç°åœ¨ä»¥ä¸‹ä¸‰ç§æ§ä»¶ä¸­ï¼š</p>\n<ul>\n<li><p>åœ¨<a href=\"https://rdrr.io/pkg/shiny/man/textInput.html\">textInput()</a>ä¸­ï¼Œä½ ä½¿ç”¨äº†<code>value = &quot;&quot;</code>ï¼Œå¹¶ä¸”ä¸å¸Œæœ›ç”¨æˆ·è¾“å…¥ä»»ä½•å†…å®¹ä¹‹å‰æ‰§è¡Œä»»ä½•æ“ä½œã€‚</p>\n</li>\n<li><p>åœ¨<a href=\"https://rdrr.io/pkg/shiny/man/selectInput.html\">selectInput()</a>ä¸­ï¼Œä½ æä¾›äº†ä¸€ä¸ªç©ºé€‰é¡¹<code>&quot;&quot;</code>ï¼Œå¹¶ä¸”ä¸å¸Œæœ›ç”¨æˆ·è¿›è¡Œé€‰æ‹©ä¹‹å‰æ‰§è¡Œä»»ä½•æ“ä½œã€‚</p>\n</li>\n<li><p>åœ¨<a href=\"https://rdrr.io/pkg/shiny/man/fileInput.html\">fileInput()</a>ä¸­ï¼Œç”¨æˆ·åœ¨ä¸Šä¼ ä»»ä½•å†…å®¹ä¹‹å‰ï¼Œå…¶ç»“æœéƒ½æ˜¯ç©ºçš„ã€‚æˆ‘ä»¬å°†åœ¨<code>9.1</code>èŠ‚ä¸­å†æ¬¡è®¨è®ºè¿™ä¸ªé—®é¢˜ã€‚</p>\n</li>\n</ul>\n<p>æˆ‘ä»¬éœ€è¦ä¸€ç§æ–¹æ³•æ¥â€œæš‚åœâ€å“åº”å¼ç»„ä»¶ï¼Œä»¥ä¾¿åœ¨æ»¡è¶³æŸä¸ªæ¡ä»¶ä¹‹å‰ä¸ä¼šå‘ç”Ÿä»»ä½•äº‹æƒ…ã€‚è¿™å°±æ˜¯<code>req()</code>çš„å·¥ä½œï¼Œå®ƒä¼šåœ¨å…è®¸å“åº”å¼ç”Ÿäº§è€…ç»§ç»­ä¹‹å‰æ£€æŸ¥æ‰€éœ€çš„å€¼ã€‚</p>\n<p>ä¾‹å¦‚ï¼Œè€ƒè™‘ä»¥ä¸‹åº”ç”¨ç¨‹åºï¼Œå®ƒå°†ç”Ÿæˆè‹±è¯­æˆ–æ¯›åˆ©è¯­çš„é—®å€™è¯­ã€‚å¦‚æœä½ è¿è¡Œè¿™ä¸ªåº”ç”¨ç¨‹åºï¼Œä½ ä¼šçœ‹åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œå¦‚å›¾<code>8.2</code>æ‰€ç¤ºï¼Œå› ä¸ºåœ¨<code>greetings</code>å‘é‡ä¸­æ²¡æœ‰ä¸é»˜è®¤é€‰é¡¹<code>&quot;&quot;</code>ç›¸å¯¹åº”çš„æ¡ç›®ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;language&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Language&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;English&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Maori&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  textInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;name&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Name&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  textOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;greeting&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  greetings <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span></span><br><span class=\"line\">    English <span class=\"operator\">=</span> <span class=\"string\">&quot;Hello&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">    Maori <span class=\"operator\">=</span> <span class=\"string\">&quot;Kia ora&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>greeting <span class=\"operator\">&lt;-</span> renderText<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    paste0<span class=\"punctuation\">(</span>greetings<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>language<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot; &quot;</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>name<span class=\"punctuation\">,</span> <span class=\"string\">&quot;!&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/8983f6fd77bdc3b97d45f06a7fdd0c67aaf52b3d/b3d13/demos/action-feedback/require-simple.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/8983f6fd77bdc3b97d45f06a7fdd0c67aaf52b3d/b3d13/demos/action-feedback/require-simple.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾8.2ï¼šå½“åº”ç”¨ç¨‹åºåŠ è½½æ—¶ï¼Œç”±äºå°šæœªé€‰æ‹©è¯­è¨€ï¼Œå› æ­¤ä¼šæ˜¾ç¤ºä¸€æ¡æ— ä¿¡æ¯é‡çš„é”™è¯¯æ¶ˆæ¯ã€‚\"></p>\n<p>æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>req()</code>æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œå¦‚ä¸‹æ‰€ç¤ºã€‚ç°åœ¨ï¼Œåœ¨ç”¨æˆ·ä¸ºè¯­è¨€å’Œå§“åéƒ½æä¾›äº†å€¼ä¹‹å‰ï¼Œå°†ä¸ä¼šæ˜¾ç¤ºä»»ä½•å†…å®¹ï¼Œå¦‚å›¾<code>8.3</code>æ‰€ç¤º</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  greetings <span class=\"operator\">&lt;-</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span></span><br><span class=\"line\">    English <span class=\"operator\">=</span> <span class=\"string\">&quot;Hello&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">    Maori <span class=\"operator\">=</span> <span class=\"string\">&quot;Kia ora&quot;</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>greeting <span class=\"operator\">&lt;-</span> renderText<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    req<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>language<span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>name<span class=\"punctuation\">)</span></span><br><span class=\"line\">    paste0<span class=\"punctuation\">(</span>greetings<span class=\"punctuation\">[[</span>input<span class=\"operator\">$</span>language<span class=\"punctuation\">]</span><span class=\"punctuation\">]</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot; &quot;</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>name<span class=\"punctuation\">,</span> <span class=\"string\">&quot;!&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/e8048494af9066952f69e4c7e9ec06c826202c34/4933a/demos/action-feedback/require-simple2-langauge.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/e8048494af9066952f69e4c7e9ec06c826202c34/4933a/demos/action-feedback/require-simple2-langauge.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾8.3ï¼šé€šè¿‡ä½¿ç”¨req()ï¼Œåªæœ‰åœ¨æä¾›äº†è¯­è¨€å’Œå§“åä¹‹åï¼Œè¾“å‡ºæ‰ä¼šæ˜¾ç¤ºã€‚è¯·è®¿é—®https://hadley.shinyapps.io/ms-require-simple2æŸ¥çœ‹å®æ—¶æ•ˆæœã€‚\"><br><code>req()</code>é€šè¿‡å‘å‡ºä¸€ä¸ªç‰¹æ®Š<code>æ¡ä»¶</code>æ¥å·¥ä½œã€‚è¿™ä¸ªç‰¹æ®Šæ¡ä»¶å¯¼è‡´æ‰€æœ‰ä¸‹æ¸¸çš„å“åº”å¼ç»„ä»¶å’Œè¾“å‡ºåœæ­¢æ‰§è¡Œã€‚ä»æŠ€æœ¯ä¸Šè®²ï¼Œå®ƒä½¿ä»»ä½•ä¸‹æ¸¸çš„å“åº”å¼æ¶ˆè´¹è€…å¤„äºæ— æ•ˆçŠ¶æ€ã€‚æˆ‘ä»¬å°†åœ¨ç¬¬<code>16</code>ç« ä¸­å†æ¬¡å›åˆ°è¿™ä¸ªæœ¯è¯­ã€‚</p>\n<p><code>req()</code>çš„è®¾è®¡æ˜¯ä½¿å¾—<code>req(inputx)</code>åªæœ‰åœ¨ç”¨æˆ·æä¾›äº†å€¼çš„æƒ…å†µä¸‹æ‰ä¼šç»§ç»­æ‰§è¡Œï¼Œè€Œä¸è€ƒè™‘è¾“å…¥æ§ä»¶çš„ç±»å‹ã€‚å¦‚æœéœ€è¦ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨<code>req()</code>ä¸è‡ªå·±çš„é€»è¾‘è¯­å¥ç»“åˆä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œ<code>req(inputa &gt; 0)</code>ä¼šåœ¨<code>a</code>å¤§äº0æ—¶å…è®¸è®¡ç®—ç»§ç»­è¿›è¡Œï¼›è¿™é€šå¸¸æ˜¯æˆ‘ä»¬æ‰§è¡ŒéªŒè¯æ—¶ä½¿ç”¨çš„å½¢å¼ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹é¢çœ‹åˆ°ã€‚</p>\n<h3 id=\"8-1-3-req-å’ŒéªŒè¯\"><a href=\"#8-1-3-req-å’ŒéªŒè¯\" class=\"headerlink\" title=\"8.1.3 req()å’ŒéªŒè¯\"></a>8.1.3 <code>req()</code>å’ŒéªŒè¯</h3><p>è®©æˆ‘ä»¬å°†<code>req()</code>å’ŒshinyFeedbackç»“åˆèµ·æ¥ï¼Œè§£å†³ä¸€ä¸ªæ›´å…·æŒ‘æˆ˜æ€§çš„é—®é¢˜ã€‚æˆ‘å°†å›åˆ°æˆ‘ä»¬åœ¨ç¬¬1ç« ä¸­åˆ¶ä½œçš„ç®€å•åº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºå…è®¸ä½ é€‰æ‹©å†…ç½®æ•°æ®é›†å¹¶æŸ¥çœ‹å…¶å†…å®¹ã€‚æˆ‘å°†é€šè¿‡ä½¿ç”¨<code>textInput()</code>è€Œä¸æ˜¯<code>selectInput()</code>æ¥ä½¿å…¶æ›´åŠ é€šç”¨å’Œå¤æ‚ã€‚ç”¨æˆ·ç•Œé¢å‡ ä¹æ²¡æœ‰å˜åŒ–ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  shinyFeedback<span class=\"operator\">::</span>useShinyFeedback<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  textInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;dataset&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Dataset name&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;data&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½†æ˜¯æœåŠ¡å™¨å‡½æ•°éœ€è¦å˜å¾—ç¨å¾®å¤æ‚ä¸€äº›ã€‚æˆ‘ä»¬å°†ä»¥ä¸¤ç§æ–¹å¼ä½¿ç”¨<code>req()</code>ï¼š</p>\n<ul>\n<li><p>æˆ‘ä»¬åªæƒ³åœ¨ç”¨æˆ·è¾“å…¥äº†å€¼ä¹‹åæ‰è¿›è¡Œè®¡ç®—ï¼Œæ‰€ä»¥æˆ‘ä»¬ä½¿ç”¨<code>req(input$dataset)</code>ã€‚</p>\n</li>\n<li><p>ç„¶åï¼Œæˆ‘ä»¬æ£€æŸ¥æä¾›çš„åç§°æ˜¯å¦ç¡®å®å­˜åœ¨ã€‚å¦‚æœä¸å­˜åœ¨ï¼Œæˆ‘ä»¬å°†æ˜¾ç¤ºä¸€æ¡é”™è¯¯æ¶ˆæ¯ï¼Œç„¶åä½¿ç”¨<code>req()</code>å–æ¶ˆè®¡ç®—ã€‚è¯·æ³¨æ„<code>cancelOutput = TRUE</code>çš„ä½¿ç”¨ï¼šé€šå¸¸å–æ¶ˆå“åº”å¼ç»„ä»¶ä¼šé‡ç½®æ‰€æœ‰ä¸‹æ¸¸è¾“å‡ºï¼›ä½¿ç”¨<code>cancelOutput = TRUE</code>ä¼šä½¿å®ƒä»¬ä¿æŒæ˜¾ç¤ºä¸Šä¸€æ¬¡çš„æœ‰æ•ˆå€¼ã€‚è¿™å¯¹äº<code>textInput()</code>æ¥è¯´å¾ˆé‡è¦ï¼Œå› ä¸ºæ‚¨å¯èƒ½åœ¨è¾“å…¥åç§°çš„è¿‡ç¨‹ä¸­è§¦å‘æ›´æ–°ã€‚</p>\n</li>\n</ul>\n<p>ç»“æœå¦‚å›¾<code>8.4</code>æ‰€ç¤ºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  data <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    req<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>dataset<span class=\"punctuation\">)</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    exists <span class=\"operator\">&lt;-</span> exists<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>dataset<span class=\"punctuation\">,</span> <span class=\"string\">&quot;package:datasets&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    shinyFeedback<span class=\"operator\">::</span>feedbackDanger<span class=\"punctuation\">(</span><span class=\"string\">&quot;dataset&quot;</span><span class=\"punctuation\">,</span> <span class=\"operator\">!</span>exists<span class=\"punctuation\">,</span> <span class=\"string\">&quot;Unknown dataset&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    req<span class=\"punctuation\">(</span>exists<span class=\"punctuation\">,</span> cancelOutput <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    get<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>dataset<span class=\"punctuation\">,</span> <span class=\"string\">&quot;package:datasets&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>data <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    head<span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/12970a9665fbc639f4428c014c524b62f9e72373/5af05/demos/action-feedback/require-cancel-ok.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/12970a9665fbc639f4428c014c524b62f9e72373/5af05/demos/action-feedback/require-cancel-ok.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾8.4ï¼šåŠ è½½æ—¶ï¼Œè¡¨æ ¼ä¸ºç©ºï¼Œå› ä¸ºæ•°æ®é›†åç§°ä¸ºç©ºã€‚åœ¨æˆ‘ä»¬è¾“å…¥ä¸€ä¸ªæœ‰æ•ˆæ•°æ®é›†åç§°ï¼ˆirisï¼‰åï¼Œæ•°æ®ä¼šæ˜¾ç¤ºå‡ºæ¥ï¼Œå³ä½¿æŒ‰ä¸‹é€€æ ¼é”®ä»¥è¾“å…¥æ–°çš„æ•°æ®é›†åç§°æ—¶ï¼Œæ•°æ®ä»ä¼šç»§ç»­æ˜¾ç¤ºã€‚è¯·è®¿é—®https://hadley.shinyapps.io/ms-require-cancelæŸ¥çœ‹å®æ—¶æ•ˆæœã€‚\"></p>\n<h3 id=\"8-1-4-éªŒè¯è¾“å‡º\"><a href=\"#8-1-4-éªŒè¯è¾“å‡º\" class=\"headerlink\" title=\"8.1.4 éªŒè¯è¾“å‡º\"></a>8.1.4 éªŒè¯è¾“å‡º</h3><p>å½“é—®é¢˜ä¸å•ä¸ªè¾“å…¥ç›¸å…³æ—¶ï¼ŒshinyFeedbackéå¸¸æœ‰ç”¨ã€‚ä½†æœ‰æ—¶æ— æ•ˆçŠ¶æ€æ˜¯å¤šä¸ªè¾“å…¥ç»„åˆçš„ç»“æœã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå°†é”™è¯¯æ”¾åœ¨è¾“å…¥æ—è¾¹å¹¶æ²¡æœ‰å¤ªå¤§æ„ä¹‰ï¼ˆåº”è¯¥æ”¾åœ¨å“ªä¸ªè¾“å…¥æ—è¾¹å‘¢ï¼Ÿï¼‰ï¼Œç›¸åï¼Œå°†å…¶æ”¾åœ¨è¾“å‡ºä¸­æ›´æœ‰æ„ä¹‰ã€‚</p>\n<p>æ‚¨å¯ä»¥ä½¿ç”¨shinyå†…ç½®çš„ä¸€ä¸ªå·¥å…·æ¥å®ç°ï¼š<a href=\"https://rdrr.io/pkg/shiny/man/validate.html\">validate()</a>ã€‚å½“åœ¨å“åº”å¼ç»„ä»¶æˆ–è¾“å‡ºä¸­è°ƒç”¨æ—¶ï¼Œ<code>validate(message)</code>ä¼šåœæ­¢å…¶ä½™ä»£ç çš„æ‰§è¡Œï¼Œå¹¶åœ¨ä»»ä½•ä¸‹æ¸¸è¾“å‡ºä¸­æ˜¾ç¤º<code>message</code>ã€‚ä»¥ä¸‹ä»£ç æ˜¾ç¤ºäº†ä¸€ä¸ªç®€å•ç¤ºä¾‹ï¼Œå…¶ä¸­æˆ‘ä»¬ä¸æƒ³è®°å½•æˆ–å–è´Ÿå€¼çš„å¹³æ–¹æ ¹ã€‚æ‚¨å¯ä»¥åœ¨å›¾<code>8.5</code>ä¸­æŸ¥çœ‹ç»“æœã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;x&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;x&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;trans&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;transformation&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">    choices <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;square&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;log&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;square-root&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  textOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;out&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>out <span class=\"operator\">&lt;-</span> renderText<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>x <span class=\"operator\">&lt;</span> <span class=\"number\">0</span> <span class=\"operator\">&amp;&amp;</span> input<span class=\"operator\">$</span>trans <span class=\"operator\">%in%</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;log&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;square-root&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      validate<span class=\"punctuation\">(</span><span class=\"string\">&quot;x can not be negative for this transformation&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"built_in\">switch</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>trans<span class=\"punctuation\">,</span></span><br><span class=\"line\">      square <span class=\"operator\">=</span> input<span class=\"operator\">$</span>x <span class=\"operator\">^</span> <span class=\"number\">2</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"string\">&quot;square-root&quot;</span> <span class=\"operator\">=</span> <span class=\"built_in\">sqrt</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>x<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      <span class=\"built_in\">log</span> <span class=\"operator\">=</span> <span class=\"built_in\">log</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>x<span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/c1c59bed1d77fa2aea32024bbaa907e5dbba6244/b5824/demos/action-feedback/validate-init.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/c1c59bed1d77fa2aea32024bbaa907e5dbba6244/b5824/demos/action-feedback/validate-init.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾8.5ï¼šå¦‚æœè¾“å…¥æœ‰æ•ˆï¼Œè¾“å‡ºä¼šæ˜¾ç¤ºè½¬æ¢ç»“æœã€‚å¦‚æœè¾“å…¥çš„ç»„åˆæ— æ•ˆï¼Œåˆ™è¾“å‡ºä¼šè¢«æ›¿æ¢ä¸ºä¸€æ¡ä¿¡æ¯æ€§æ¶ˆæ¯ã€‚\"></p>\n<h2 id=\"8-2-é€šçŸ¥\"><a href=\"#8-2-é€šçŸ¥\" class=\"headerlink\" title=\"8.2 é€šçŸ¥\"></a>8.2 é€šçŸ¥</h2><p>å¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œæ‚¨åªæ˜¯æƒ³è®©ç”¨æˆ·çŸ¥é“å‘ç”Ÿäº†ä»€ä¹ˆï¼Œé‚£ä¹ˆæ‚¨éœ€è¦ä¸€ä¸ª<code>é€šçŸ¥</code>ã€‚åœ¨Shinyä¸­ï¼Œé€šçŸ¥æ˜¯é€šè¿‡<a href=\"https://rdrr.io/pkg/shiny/man/showNotification.html\">showNotification()</a>åˆ›å»ºçš„ï¼Œå¹¶å †å åœ¨é¡µé¢çš„å³ä¸‹è§’ã€‚ä½¿ç”¨<code>showNotification()</code>æœ‰ä¸‰ç§åŸºæœ¬æ–¹å¼ï¼š</p>\n<ul>\n<li><p>æ˜¾ç¤ºä¸€ä¸ªä¸´æ—¶é€šçŸ¥ï¼Œè¯¥é€šçŸ¥åœ¨å›ºå®šæ—¶é—´åè‡ªåŠ¨æ¶ˆå¤±ã€‚</p>\n</li>\n<li><p>åœ¨è¿›ç¨‹å¼€å§‹æ—¶æ˜¾ç¤ºé€šçŸ¥ï¼Œå¹¶åœ¨è¿›ç¨‹ç»“æŸæ—¶å°†å…¶ç§»é™¤ã€‚</p>\n</li>\n<li><p>ä½¿ç”¨æ¸è¿›æ›´æ–°æ¥æ›´æ–°å•ä¸ªé€šçŸ¥ã€‚</p>\n</li>\n</ul>\n<p>ä¸‹é¢å°†è®¨è®ºè¿™ä¸‰ç§æŠ€æœ¯ã€‚</p>\n<h3 id=\"8-2-1-ä¸´æ—¶é€šçŸ¥\"><a href=\"#8-2-1-ä¸´æ—¶é€šçŸ¥\" class=\"headerlink\" title=\"8.2.1 ä¸´æ—¶é€šçŸ¥\"></a>8.2.1 ä¸´æ—¶é€šçŸ¥</h3><p>ä½¿ç”¨<code>showNotification()</code>çš„æœ€ç®€å•æ–¹æ³•æ˜¯åªä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼šæ‚¨æƒ³è¦æ˜¾ç¤ºçš„æ¶ˆæ¯ã€‚ç”±äºå¾ˆéš¾é€šè¿‡æˆªå›¾æ•æ‰è¿™ç§è¡Œä¸ºï¼Œæ‰€ä»¥å¦‚æœæ‚¨æƒ³çœ‹åˆ°å®ƒçš„å®é™…æ•ˆæœï¼Œè¯·è®¿é—®<a href=\"https://hadley.shinyapps.io/ms-notification-transient\">https://hadley.shinyapps.io/ms-notification-transient</a>ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;goodnight&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Good night&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>goodnight<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    showNotification<span class=\"punctuation\">(</span><span class=\"string\">&quot;So long&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    showNotification<span class=\"punctuation\">(</span><span class=\"string\">&quot;Farewell&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    showNotification<span class=\"punctuation\">(</span><span class=\"string\">&quot;Auf Wiedersehen&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    showNotification<span class=\"punctuation\">(</span><span class=\"string\">&quot;Adieu&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œæ¶ˆæ¯å°†åœ¨5ç§’åæ¶ˆå¤±ï¼Œä½ å¯ä»¥é€šè¿‡è®¾ç½®<code>duration</code>æ¥è¦†ç›–è¿™ä¸ªæ—¶é—´ï¼Œæˆ–è€…ç”¨æˆ·å¯ä»¥ç‚¹å‡»å…³é—­æŒ‰é’®æå‰å…³é—­å®ƒã€‚å¦‚æœä½ æƒ³è®©é€šçŸ¥æ›´åŠ é†’ç›®ï¼Œä½ å¯ä»¥å°†<code>type</code>å‚æ•°è®¾ç½®ä¸ºâ€œmessageâ€ã€â€œwarningâ€æˆ–â€œerrorâ€å…¶ä¸­ä¹‹ä¸€ã€‚å›¾<code>8.6</code>å±•ç¤ºäº†è¿™äº›é€šçŸ¥çš„å¤–è§‚ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>goodnight<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    showNotification<span class=\"punctuation\">(</span><span class=\"string\">&quot;So long&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    showNotification<span class=\"punctuation\">(</span><span class=\"string\">&quot;Farewell&quot;</span><span class=\"punctuation\">,</span> type <span class=\"operator\">=</span> <span class=\"string\">&quot;message&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    showNotification<span class=\"punctuation\">(</span><span class=\"string\">&quot;Auf Wiedersehen&quot;</span><span class=\"punctuation\">,</span> type <span class=\"operator\">=</span> <span class=\"string\">&quot;warning&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    showNotification<span class=\"punctuation\">(</span><span class=\"string\">&quot;Adieu&quot;</span><span class=\"punctuation\">,</span> type <span class=\"operator\">=</span> <span class=\"string\">&quot;error&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/87c1065fb140b5924f0a32297421656e48ef7e11/4fe18/images/action-feedback/notify-1.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/87c1065fb140b5924f0a32297421656e48ef7e11/4fe18/images/action-feedback/notify-1.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\"></p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/d2d0c53e19a116f900ef892da0dd4580b47cf71e/993ed/images/action-feedback/notify-2.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/d2d0c53e19a116f900ef892da0dd4580b47cf71e/993ed/images/action-feedback/notify-2.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\"></p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/9fea3bd7890e9ec4ba7ab1fa1f84d0881cea23ee/d4571/images/action-feedback/notify-3.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/9fea3bd7890e9ec4ba7ab1fa1f84d0881cea23ee/d4571/images/action-feedback/notify-3.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾8.6ï¼šç‚¹å‡»â€œæ™šå®‰â€åé€šçŸ¥çš„æ˜¾ç¤ºè¿‡ç¨‹ï¼šç¬¬ä¸€ä¸ªé€šçŸ¥å‡ºç°ï¼Œå†è¿‡ä¸‰ç§’ï¼Œæ‰€æœ‰é€šçŸ¥éƒ½å°†æ˜¾ç¤ºå‡ºæ¥ï¼Œéšåé€šçŸ¥å¼€å§‹æ¶ˆå¤±ã€‚å®æ—¶æŸ¥çœ‹æ•ˆæœï¼Œè¯·è®¿é—®https://hadley.shinyapps.io/ms-notify-persistentã€‚\"></p>\n<h3 id=\"8-2-2-å®Œæˆæ—¶ç§»é™¤\"><a href=\"#8-2-2-å®Œæˆæ—¶ç§»é™¤\" class=\"headerlink\" title=\"8.2.2 å®Œæˆæ—¶ç§»é™¤\"></a>8.2.2 å®Œæˆæ—¶ç§»é™¤</h3><p>å°†é€šçŸ¥çš„å­˜åœ¨ä¸ä¸€ä¸ªé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡å…³è”èµ·æ¥é€šå¸¸å¾ˆæœ‰ç”¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ å¸Œæœ›åœ¨ä»»åŠ¡å¼€å§‹æ—¶æ˜¾ç¤ºé€šçŸ¥ï¼Œå¹¶åœ¨ä»»åŠ¡å®Œæˆæ—¶ç§»é™¤é€šçŸ¥ã€‚ä¸ºæ­¤ï¼Œä½ éœ€è¦ï¼š</p>\n<ul>\n<li><p>è®¾ç½®<code>duration = NULL</code>å’Œ<code>closeButton = FALSE</code>ï¼Œä»¥ç¡®ä¿é€šçŸ¥åœ¨ä»»åŠ¡å®Œæˆä¹‹å‰ä¸€ç›´ä¿æŒå¯è§çŠ¶æ€ã€‚</p>\n</li>\n<li><p>ä¿å­˜<a href=\"https://rdrr.io/pkg/shiny/man/showNotification.html\">showNotification()</a>è¿”å›çš„idï¼Œç„¶åå°†å…¶ä¼ é€’ç»™<a href=\"https://rdrr.io/pkg/shiny/man/showNotification.html\">removeNotification()</a>ã€‚æœ€å¯é çš„æ–¹æ³•æ˜¯ä½¿ç”¨<a href=\"https://rdrr.io/r/base/on.exit.html\">on.exit()</a>ï¼Œè¿™å¯ä»¥ç¡®ä¿æ— è®ºä»»åŠ¡å¦‚ä½•å®Œæˆï¼ˆæˆåŠŸæˆ–å‡ºé”™ï¼‰ï¼Œé€šçŸ¥éƒ½ä¼šè¢«ç§»é™¤ã€‚ä½ å¯ä»¥åœ¨â€œ<a href=\"v\">æ›´æ”¹å’Œæ¢å¤çŠ¶æ€</a>â€ä¸€ç« ä¸­äº†è§£æ›´å¤šå…³äº<code>on.exit()</code>çš„ä¿¡æ¯ã€‚</p>\n</li>\n</ul>\n<p>ä»¥ä¸‹ç¤ºä¾‹å°†å„ä¸ªéƒ¨åˆ†ç»„åˆåœ¨ä¸€èµ·ï¼Œå±•ç¤ºäº†å¦‚ä½•åœ¨è¯»å–å¤§å‹csvæ–‡ä»¶æ—¶å‘ç”¨æˆ·æ›´æ–°çŠ¶æ€ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  data <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    id <span class=\"operator\">&lt;-</span> showNotification<span class=\"punctuation\">(</span><span class=\"string\">&quot;Reading data...&quot;</span><span class=\"punctuation\">,</span> duration <span class=\"operator\">=</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">,</span> closeButton <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"built_in\">on.exit</span><span class=\"punctuation\">(</span>removeNotification<span class=\"punctuation\">(</span>id<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> add <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    read.csv<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>file<span class=\"operator\">$</span>datapath<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸€èˆ¬æ¥è¯´ï¼Œè¿™ç±»é€šçŸ¥ä¼šå­˜åœ¨äºä¸€ä¸ªå“åº”å¼ç¯å¢ƒä¸­ï¼Œå› ä¸ºè¿™å¯ä»¥ç¡®ä¿åªæœ‰å½“éœ€è¦æ—¶ï¼Œé•¿æ—¶é—´è¿è¡Œçš„è®¡ç®—æ‰ä¼šé‡æ–°æ‰§è¡Œã€‚</p>\n<h3 id=\"8-2-3-æ¸è¿›å¼æ›´æ–°\"><a href=\"#8-2-3-æ¸è¿›å¼æ›´æ–°\" class=\"headerlink\" title=\"8.2.3 æ¸è¿›å¼æ›´æ–°\"></a>8.2.3 æ¸è¿›å¼æ›´æ–°</h3><p>æ­£å¦‚ä½ åœ¨ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­æ‰€çœ‹åˆ°çš„ï¼Œå¤šæ¬¡è°ƒç”¨showNotification()é€šå¸¸ä¼šåˆ›å»ºå¤šä¸ªé€šçŸ¥ã€‚ç›¸åï¼Œä½ å¯ä»¥é€šè¿‡æ•è·ç¬¬ä¸€æ¬¡è°ƒç”¨çš„idå¹¶åœ¨åç»­è°ƒç”¨ä¸­ä½¿ç”¨å®ƒæ¥æ›´æ–°å•ä¸ªé€šçŸ¥ã€‚å¦‚æœä½ çš„é•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡åŒ…å«å¤šä¸ªå­ç»„ä»¶ï¼Œè¿™å°†éå¸¸æœ‰ç”¨ã€‚ä½ å¯ä»¥åœ¨<a href=\"https://hadley.shinyapps.io/ms-notification-updates\">https://hadley.shinyapps.io/ms-notification-updates</a>æŸ¥çœ‹ç»“æœã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;data&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  notify <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>msg<span class=\"punctuation\">,</span> id <span class=\"operator\">=</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    showNotification<span class=\"punctuation\">(</span>msg<span class=\"punctuation\">,</span> id <span class=\"operator\">=</span> id<span class=\"punctuation\">,</span> duration <span class=\"operator\">=</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">,</span> closeButton <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">  data <span class=\"operator\">&lt;-</span> reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span> </span><br><span class=\"line\">    id <span class=\"operator\">&lt;-</span> notify<span class=\"punctuation\">(</span><span class=\"string\">&quot;Reading data...&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"built_in\">on.exit</span><span class=\"punctuation\">(</span>removeNotification<span class=\"punctuation\">(</span>id<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> add <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">      </span><br><span class=\"line\">    notify<span class=\"punctuation\">(</span><span class=\"string\">&quot;Reticulating splines...&quot;</span><span class=\"punctuation\">,</span> id <span class=\"operator\">=</span> id<span class=\"punctuation\">)</span></span><br><span class=\"line\">    Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    notify<span class=\"punctuation\">(</span><span class=\"string\">&quot;Herding llamas...&quot;</span><span class=\"punctuation\">,</span> id <span class=\"operator\">=</span> id<span class=\"punctuation\">)</span></span><br><span class=\"line\">    Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    notify<span class=\"punctuation\">(</span><span class=\"string\">&quot;Orthogonalizing matrices...&quot;</span><span class=\"punctuation\">,</span> id <span class=\"operator\">=</span> id<span class=\"punctuation\">)</span></span><br><span class=\"line\">    Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">        </span><br><span class=\"line\">    mtcars</span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>data <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span>head<span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"8-3-è¿›åº¦æ¡\"><a href=\"#8-3-è¿›åº¦æ¡\" class=\"headerlink\" title=\"8.3 è¿›åº¦æ¡\"></a>8.3 è¿›åº¦æ¡</h2><p>å¯¹äºé•¿æ—¶é—´è¿è¡Œçš„ä»»åŠ¡ï¼Œæœ€å¥½çš„åé¦ˆå½¢å¼å°±æ˜¯è¿›åº¦æ¡ã€‚å®ƒä¸ä»…å¯ä»¥å‘Šè¯‰ä½ ä»»åŠ¡è¿›è¡Œåˆ°äº†å“ªä¸€æ­¥ï¼Œè¿˜å¯ä»¥å¸®åŠ©ä½ ä¼°è®¡è¿˜éœ€è¦å¤šé•¿æ—¶é—´ï¼šä½ æ˜¯åº”è¯¥æ·±å¸ä¸€å£æ°”ï¼Œå»å–æ¯å’–å•¡ï¼Œè¿˜æ˜¯æ˜å¤©å†æ¥ï¼Ÿåœ¨æœ¬èŠ‚ä¸­ï¼Œæˆ‘å°†å±•ç¤ºä¸¤ç§æ˜¾ç¤ºè¿›åº¦æ¡çš„æŠ€æœ¯ï¼Œä¸€ç§æ˜¯Shinyå†…ç½®çš„ï¼Œå¦ä¸€ç§æ˜¯John Coeneå¼€å‘çš„<a href=\"https://waiter.john-coene.com/\">waiter</a>åŒ…æä¾›çš„ã€‚</p>\n<p>ä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¸¤ç§æŠ€æœ¯éƒ½å­˜åœ¨åŒæ ·çš„ä¸»è¦ç¼ºç‚¹ï¼šè¦ä½¿ç”¨è¿›åº¦æ¡ï¼Œä½ éœ€è¦èƒ½å¤Ÿå°†å¤§ä»»åŠ¡åˆ†æˆå·²çŸ¥æ•°é‡çš„ã€æ¯ä¸ªéƒ½å¤§è‡´éœ€è¦ç›¸åŒæ—¶é—´æ¥å®Œæˆçš„å°ä»»åŠ¡ã€‚è¿™é€šå¸¸å¾ˆéš¾åšåˆ°ï¼Œç‰¹åˆ«æ˜¯å½“åº•å±‚ä»£ç æ˜¯ç”¨Cè¯­è¨€ç¼–å†™çš„ï¼Œä¸”æ²¡æœ‰åŠæ³•å‘ä½ ä¼ è¾¾è¿›åº¦æ›´æ–°æ—¶ã€‚æˆ‘ä»¬æ­£åœ¨åŠªåŠ›å¼€å‘<a href=\"https://github.com/r-lib/progress\">progressåŒ…</a>ä¸­çš„å·¥å…·ï¼Œä»¥ä¾¿æœ‰ä¸€å¤©åƒdplyrã€readrå’Œvroomè¿™æ ·çš„åŒ…èƒ½å¤Ÿç”Ÿæˆè¿›åº¦æ¡ï¼Œä½ å¯ä»¥è½»æ¾åœ°å°†å®ƒä»¬è½¬å‘ç»™Shinyã€‚</p>\n<h3 id=\"8-3-1-Shiny\"><a href=\"#8-3-1-Shiny\" class=\"headerlink\" title=\"8.3.1 Shiny\"></a>8.3.1 Shiny</h3><p>è¦ä½¿ç”¨Shinyåˆ›å»ºè¿›åº¦æ¡ï¼Œä½ éœ€è¦ä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/withProgress.html\">withProgress()</a>å’Œ<a href=\"https://rdrr.io/pkg/shiny/man/withProgress.html\">incProgress()</a>ã€‚å‡è®¾ä½ æœ‰ä¸€æ®µè¿è¡Œç¼“æ…¢çš„ä»£ç ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> <span class=\"built_in\">seq_len</span><span class=\"punctuation\">(</span>step<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  x <span class=\"operator\">&lt;-</span> function_that_takes_a_long_time<span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span>     </span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n\n<p>ä½ é¦–å…ˆéœ€è¦ç”¨<code>withProgress()</code>å°†å…¶åŒ…è£¹èµ·æ¥ã€‚å½“ä»£ç å¼€å§‹è¿è¡Œæ—¶ï¼Œè¿™ä¼šæ˜¾ç¤ºè¿›åº¦æ¡ï¼Œå¹¶åœ¨å®Œæˆæ—¶è‡ªåŠ¨ç§»é™¤å®ƒï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">withProgress<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> <span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> <span class=\"built_in\">seq_len</span><span class=\"punctuation\">(</span>step<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    x <span class=\"operator\">&lt;-</span> function_that_takes_a_long_time<span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span>     </span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>ç„¶ååœ¨æ¯ä¸ªæ­¥éª¤ä¹‹åè°ƒç”¨<code>incProgress()</code>ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">withProgress<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"keyword\">for</span> <span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> <span class=\"built_in\">seq_len</span><span class=\"punctuation\">(</span>step<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    x <span class=\"operator\">&lt;-</span> function_that_takes_a_long_time<span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span></span><br><span class=\"line\">    incProgress<span class=\"punctuation\">(</span><span class=\"number\">1</span> <span class=\"operator\">/</span> <span class=\"built_in\">length</span><span class=\"punctuation\">(</span>step<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p><code>incProgress()</code>çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¿›åº¦æ¡è¦å¢åŠ çš„é‡ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿›åº¦æ¡ä»0å¼€å§‹ï¼Œåˆ°1ç»“æŸï¼Œå› æ­¤é€šè¿‡æ­¥éª¤æ•°é™¤ä»¥æ¥å¢åŠ è¿›åº¦æ¡ï¼Œå¯ä»¥ç¡®ä¿å¾ªç¯ç»“æŸæ—¶è¿›åº¦æ¡å®Œæˆã€‚</p>\n<p>å›¾<code>8.7</code>å±•ç¤ºäº†åœ¨ä¸€ä¸ªå®Œæ•´çš„Shinyåº”ç”¨ç¨‹åºä¸­ï¼Œè¿™å¯èƒ½çœ‹èµ·æ¥æ˜¯ä»€ä¹ˆæ ·å­ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;steps&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;How many steps?&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">10</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;go&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;go&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  textOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;result&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  data <span class=\"operator\">&lt;-</span> eventReactive<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>go<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    withProgress<span class=\"punctuation\">(</span>message <span class=\"operator\">=</span> <span class=\"string\">&quot;Computing random number&quot;</span><span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      <span class=\"keyword\">for</span> <span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> <span class=\"built_in\">seq_len</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>steps<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">        Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">0.5</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">        incProgress<span class=\"punctuation\">(</span><span class=\"number\">1</span> <span class=\"operator\">/</span> input<span class=\"operator\">$</span>steps<span class=\"punctuation\">)</span></span><br><span class=\"line\">      <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">      runif<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>result <span class=\"operator\">&lt;-</span> renderText<span class=\"punctuation\">(</span><span class=\"built_in\">round</span><span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"number\">2</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/f8653f6a9d2e8c56ebf035d48a3ec299f67fa99e/19ffd/images/action-feedback/progress-2.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/f8653f6a9d2e8c56ebf035d48a3ec299f67fa99e/19ffd/images/action-feedback/progress-2.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾8.7ï¼šè¿›åº¦æ¡æœ‰åŠ©äºæŒ‡ç¤ºè®¡ç®—è¿˜éœ€è¿è¡Œå¤šé•¿æ—¶é—´ã€‚è¯·åœ¨çº¿æŸ¥çœ‹https://hadley.shinyapps.io/ms-progressã€‚\"></p>\n<p>éœ€è¦æ³¨æ„çš„å‡ ä¸ªäº‹é¡¹ï¼š</p>\n<ul>\n<li><p>æˆ‘ä½¿ç”¨äº†å¯é€‰çš„<code>message</code>å‚æ•°ï¼Œåœ¨è¿›åº¦æ¡ä¸­æ·»åŠ äº†ä¸€äº›è§£é‡Šæ€§æ–‡æœ¬ã€‚</p>\n</li>\n<li><p>æˆ‘ä½¿ç”¨äº†<a href=\"https://rdrr.io/r/base/Sys.sleep.html\">Sys.sleep()</a>æ¥æ¨¡æ‹Ÿä¸€ä¸ªé•¿æ—¶é—´è¿è¡Œçš„æ“ä½œï¼›åœ¨ä½ çš„ä»£ç ä¸­ï¼Œè¿™å°†æ˜¯ä¸€ä¸ªè€—æ—¶å‡½æ•°ã€‚</p>\n</li>\n<li><p>æˆ‘é€šè¿‡å°†ä¸€ä¸ªæŒ‰é’®ä¸<a href=\"https://rdrr.io/pkg/shiny/man/observeEvent.html\">eventReactive()</a>ç»“åˆï¼Œå…è®¸ç”¨æˆ·æ§åˆ¶äº‹ä»¶ä½•æ—¶å¼€å§‹ã€‚è¿™æ˜¯ä»»ä½•éœ€è¦è¿›åº¦æ¡çš„ä»»åŠ¡çš„è‰¯å¥½åšæ³•ã€‚</p>\n</li>\n</ul>\n<h3 id=\"8-3-2-Waiter\"><a href=\"#8-3-2-Waiter\" class=\"headerlink\" title=\"8.3.2 Waiter\"></a>8.3.2 Waiter</h3><p>å†…ç½®çš„è¿›åº¦æ¡å¯¹äºåŸºç¡€æ“ä½œæ¥è¯´éå¸¸å¥½ï¼Œä½†å¦‚æœä½ æƒ³è¦æä¾›æ›´å¤šè§†è§‰é€‰é¡¹çš„è¿›åº¦æ¡ï¼Œä½ å¯ä»¥å°è¯•ä½¿ç”¨<a href=\"https://waiter.john-coene.com/\">waiter</a>åŒ…ã€‚å°†ä¸Šé¢çš„ä»£ç é€‚é…ä¸ºä¸Waiterä¸€èµ·å·¥ä½œå¾ˆç®€å•ã€‚åœ¨UIä¸­ï¼Œæˆ‘ä»¬æ·»åŠ use_waitress()ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  waiter<span class=\"operator\">::</span>use_waitress<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;steps&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;How many steps?&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">10</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;go&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;go&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  textOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;result&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>Waiterçš„è¿›åº¦æ¡æ¥å£ç•¥æœ‰ä¸åŒã€‚WaiteråŒ…ä½¿ç”¨R6å¯¹è±¡å°†æ‰€æœ‰ä¸è¿›åº¦ç›¸å…³çš„å‡½æ•°æ†ç»‘åˆ°ä¸€ä¸ªå•ç‹¬çš„å¯¹è±¡ä¸­ã€‚å¦‚æœä½ ä»¥å‰ä»æœªä½¿ç”¨è¿‡R6å¯¹è±¡ï¼Œä¸å¿…å¤ªæ‹…å¿ƒç»†èŠ‚ï¼›ä½ å¯ä»¥ç›´æ¥å¤åˆ¶å’Œç²˜è´´è¿™ä¸ªæ¨¡æ¿ã€‚åŸºæœ¬çš„ç”Ÿå‘½å‘¨æœŸçœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># Create a new progress bar</span></span><br><span class=\"line\">waitress <span class=\"operator\">&lt;-</span> waiter<span class=\"operator\">::</span>Waitress<span class=\"operator\">$</span>new<span class=\"punctuation\">(</span><span class=\"built_in\">max</span> <span class=\"operator\">=</span> input<span class=\"operator\">$</span>steps<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\"># Automatically close it when done</span></span><br><span class=\"line\"><span class=\"built_in\">on.exit</span><span class=\"punctuation\">(</span>waitress<span class=\"operator\">$</span>close<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">for</span> <span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> <span class=\"built_in\">seq_len</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>steps<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">0.5</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"comment\"># increment one step</span></span><br><span class=\"line\">  waitress<span class=\"operator\">$</span>inc<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n\n<p>æˆ‘ä»¬å¯ä»¥åœ¨ Shiny åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨å®ƒï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  data <span class=\"operator\">&lt;-</span> eventReactive<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>go<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    waitress <span class=\"operator\">&lt;-</span> waiter<span class=\"operator\">::</span>Waitress<span class=\"operator\">$</span>new<span class=\"punctuation\">(</span><span class=\"built_in\">max</span> <span class=\"operator\">=</span> input<span class=\"operator\">$</span>steps<span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"built_in\">on.exit</span><span class=\"punctuation\">(</span>waitress<span class=\"operator\">$</span>close<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">for</span> <span class=\"punctuation\">(</span>i <span class=\"keyword\">in</span> <span class=\"built_in\">seq_len</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>steps<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">0.5</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">      waitress<span class=\"operator\">$</span>inc<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    runif<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>result <span class=\"operator\">&lt;-</span> renderText<span class=\"punctuation\">(</span><span class=\"built_in\">round</span><span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"number\">2</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n\n<p>é»˜è®¤æ˜¾ç¤ºæ˜¯åœ¨é¡µé¢é¡¶éƒ¨çš„ç»†é•¿è¿›åº¦æ¡ï¼ˆä½ å¯ä»¥æŸ¥çœ‹<a href=\"https://hadley.shinyapps.io/ms-waiter\">https://hadley.shinyapps.io/ms-waiter</a>ï¼‰ï¼Œä½†æœ‰è®¸å¤šæ–¹æ³•å¯ä»¥è‡ªå®šä¹‰è¾“å‡ºï¼š</p>\n<p>ä½ å¯ä»¥è¦†ç›–é»˜è®¤<code>ä¸»é¢˜</code>ï¼Œé€‰æ‹©ä½¿ç”¨ä»¥ä¸‹ä¸»é¢˜ä¹‹ä¸€ï¼š</p>\n<ul>\n<li><code>overlay</code>ï¼šä¸€ä¸ªä¸é€æ˜çš„è¿›åº¦æ¡ï¼Œä¼šéšè—æ•´ä¸ªé¡µé¢</li>\n<li><code>overlay-opacity</code>ï¼šä¸€ä¸ªé€æ˜çš„è¿›åº¦æ¡ï¼Œä¼šè¦†ç›–æ•´ä¸ªé¡µé¢</li>\n<li><code>overlay-percent</code>ï¼šä¸€ä¸ªä¸é€æ˜çš„è¿›åº¦æ¡ï¼ŒåŒæ—¶è¿˜ä¼šæ˜¾ç¤ºä¸€ä¸ªæ•°å­—ç™¾åˆ†æ¯”ã€‚</li>\n<li>é™¤äº†ä¸ºæ•´ä¸ªé¡µé¢æ˜¾ç¤ºè¿›åº¦æ¡ä¹‹å¤–ï¼Œä½ è¿˜å¯ä»¥é€šè¿‡è®¾ç½®<code>selector</code>å‚æ•°å°†å…¶è¦†ç›–åœ¨ç°æœ‰çš„è¾“å…¥æˆ–è¾“å‡ºä¸Šï¼Œä¾‹å¦‚ï¼š</li>\n</ul>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">waitress <span class=\"operator\">&lt;-</span> Waitress<span class=\"operator\">$</span>new<span class=\"punctuation\">(</span>selector <span class=\"operator\">=</span> <span class=\"string\">&quot;#steps&quot;</span><span class=\"punctuation\">,</span> theme <span class=\"operator\">=</span> <span class=\"string\">&quot;overlay&quot;</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"8-3-3-Spinners\"><a href=\"#8-3-3-Spinners\" class=\"headerlink\" title=\"8.3.3 Spinners\"></a>8.3.3 Spinners</h3><p>æœ‰æ—¶ï¼Œä½ ä¸çŸ¥é“ä¸€ä¸ªæ“ä½œéœ€è¦å¤šé•¿æ—¶é—´æ‰èƒ½å®Œæˆï¼Œä½ åªæƒ³æ˜¾ç¤ºä¸€ä¸ªåŠ¨ç”»æ—‹è½¬å™¨ï¼Œè®©ç”¨æˆ·çŸ¥é“æœ‰äº‹æƒ…æ­£åœ¨å‘ç”Ÿã€‚å¯¹äºè¿™ä¸ªä»»åŠ¡ï¼Œä½ ä¹Ÿå¯ä»¥ä½¿ç”¨waiteråŒ…ï¼›åªéœ€ä»ä½¿ç”¨<code>Waitress</code>åˆ‡æ¢åˆ°ä½¿ç”¨<code>Waiter</code>å³å¯ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  waiter<span class=\"operator\">::</span>use_waiter<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;go&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;go&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  textOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;result&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  data <span class=\"operator\">&lt;-</span> eventReactive<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>go<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    waiter <span class=\"operator\">&lt;-</span> waiter<span class=\"operator\">::</span>Waiter<span class=\"operator\">$</span>new<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    waiter<span class=\"operator\">$</span>show<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"built_in\">on.exit</span><span class=\"punctuation\">(</span>waiter<span class=\"operator\">$</span>hide<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    Sys.sleep<span class=\"punctuation\">(</span>sample<span class=\"punctuation\">(</span><span class=\"number\">5</span><span class=\"punctuation\">,</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    runif<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>result <span class=\"operator\">&lt;-</span> renderText<span class=\"punctuation\">(</span><span class=\"built_in\">round</span><span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"number\">2</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/876e7420c98f7344ee1eac35650c26d6257eb839/7c919/images/action-feedback/spinner-1.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/876e7420c98f7344ee1eac35650c26d6257eb839/7c919/images/action-feedback/spinner-1.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾8.8ï¼šâ€œWaiterâ€ä¼šåœ¨æŸä¸ªæ“ä½œå‘ç”Ÿæ—¶æ˜¾ç¤ºæ•´ä¸ªåº”ç”¨ç¨‹åºçš„æ—‹è½¬å™¨ã€‚è¯·åœ¨çº¿æŸ¥çœ‹https://hadley.shinyapps.io/ms-spinner-1ã€‚\"></p>\n<p>ä¸Waitressä¸€æ ·ï¼Œä½ ä¹Ÿå¯ä»¥é’ˆå¯¹ç‰¹å®šçš„è¾“å‡ºä½¿ç”¨Waitersã€‚è¿™äº›waiterå¯ä»¥åœ¨è¾“å‡ºæ›´æ–°æ—¶è‡ªåŠ¨ç§»é™¤æ—‹è½¬å™¨ï¼Œå› æ­¤ä»£ç ç”šè‡³æ›´ç®€å•ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  waiter<span class=\"operator\">::</span>use_waiter<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;go&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;go&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;plot&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  data <span class=\"operator\">&lt;-</span> eventReactive<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>go<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    waiter<span class=\"operator\">::</span>Waiter<span class=\"operator\">$</span>new<span class=\"punctuation\">(</span>id <span class=\"operator\">=</span> <span class=\"string\">&quot;plot&quot;</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>show<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    </span><br><span class=\"line\">    Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">3</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    data.frame<span class=\"punctuation\">(</span>x <span class=\"operator\">=</span> runif<span class=\"punctuation\">(</span><span class=\"number\">50</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> y <span class=\"operator\">=</span> runif<span class=\"punctuation\">(</span><span class=\"number\">50</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>plot <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span>plot<span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/0fa7426c91728627f36b69d91036aef0876f278c/84714/images/action-feedback/spinner-2.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/0fa7426c91728627f36b69d91036aef0876f278c/84714/images/action-feedback/spinner-2.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾8.9ï¼šä½ ä¹Ÿå¯ä»¥ä¸ºå•ä¸ªè¾“å‡ºæ˜¾ç¤ºæ—‹è½¬å™¨ã€‚è¯·åœ¨çº¿æŸ¥çœ‹https://hadley.shinyapps.io/ms-spinner-2ã€‚\"></p>\n<p>waiteråŒ…æä¾›äº†å¤šç§æ—‹è½¬å™¨ä¾›ä½ é€‰æ‹©ï¼›ä½ å¯ä»¥åœ¨<a href=\"https://rdrr.io/pkg/waiter/man/spinners.html\">?waiter::spinners</a>ä¸­æŸ¥çœ‹ä½ çš„é€‰é¡¹ï¼Œç„¶åé€‰æ‹©å…¶ä¸­ä¸€ä¸ªï¼ˆä¾‹å¦‚ï¼‰ä½¿ç”¨<code>Waiter$new(html = spin_ripple())</code>ã€‚</p>\n<p>ä¸€ä¸ªæ›´ç®€å•çš„é€‰æ‹©æ˜¯ä½¿ç”¨Dean Attaliçš„<a href=\"https://github.com/daattali/shinycssloaders\">shinycssloaders</a>åŒ…ã€‚å®ƒä½¿ç”¨JavaScriptç›‘å¬Shinyäº‹ä»¶ï¼Œå› æ­¤ç”šè‡³ä¸éœ€è¦æœåŠ¡å™¨ç«¯ä»£ç ã€‚ç›¸åï¼Œä½ åªéœ€ä½¿ç”¨<a href=\"https://rdrr.io/pkg/shinycssloaders/man/withSpinner.html\">shinycssloaders::withSpinner()</a>æ¥åŒ…è£…ä½ å¸Œæœ›åœ¨å…¶å¤±æ•ˆæ—¶è‡ªåŠ¨è·å¾—æ—‹è½¬å™¨çš„è¾“å‡ºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>shinycssloaders<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;go&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;go&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  withSpinner<span class=\"punctuation\">(</span>plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;plot&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  data <span class=\"operator\">&lt;-</span> eventReactive<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>go<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    Sys.sleep<span class=\"punctuation\">(</span><span class=\"number\">3</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    data.frame<span class=\"punctuation\">(</span>x <span class=\"operator\">=</span> runif<span class=\"punctuation\">(</span><span class=\"number\">50</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> y <span class=\"operator\">=</span> runif<span class=\"punctuation\">(</span><span class=\"number\">50</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>plot <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span>plot<span class=\"punctuation\">(</span>data<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n\n<h2 id=\"8-4-ç¡®è®¤å’Œæ’¤é”€\"><a href=\"#8-4-ç¡®è®¤å’Œæ’¤é”€\" class=\"headerlink\" title=\"8.4 ç¡®è®¤å’Œæ’¤é”€\"></a>8.4 ç¡®è®¤å’Œæ’¤é”€</h2><p>æœ‰æ—¶æŸä¸ªæ“ä½œå¯èƒ½å…·æœ‰æ½œåœ¨çš„å±é™©æ€§ï¼Œä½ å¯èƒ½æƒ³è¦ç¡®ä¿ç”¨æˆ·ç¡®å®æƒ³è¦æ‰§è¡Œè¯¥æ“ä½œï¼Œæˆ–è€…ä½ æƒ³è¦åœ¨ä¸€åˆ‡éƒ½å¤ªæ™šä¹‹å‰ç»™ä»–ä»¬ä¸€ä¸ªæ’¤é”€çš„æœºä¼šã€‚æœ¬èŠ‚ä¸­çš„ä¸‰ä¸ªæŠ€å·§åˆ—å‡ºäº†ä½ çš„åŸºæœ¬é€‰é¡¹ï¼Œå¹¶ç»™å‡ºäº†ä¸€äº›å¦‚ä½•åœ¨ä½ çš„åº”ç”¨ç¨‹åºä¸­å®ç°å®ƒä»¬çš„å»ºè®®ã€‚</p>\n<h3 id=\"8-4-1-æ˜ç¡®ç¡®è®¤\"><a href=\"#8-4-1-æ˜ç¡®ç¡®è®¤\" class=\"headerlink\" title=\"8.4.1 æ˜ç¡®ç¡®è®¤\"></a>8.4.1 æ˜ç¡®ç¡®è®¤</h3><p>ä¿æŠ¤ç”¨æˆ·é¿å…å› è¯¯æ“ä½œæ‰§è¡Œå±é™©åŠ¨ä½œçš„æœ€ç®€å•æ–¹æ³•æ˜¯è¦æ±‚ç”¨æˆ·è¿›è¡Œæ˜ç¡®çš„ç¡®è®¤ã€‚æœ€ç®€å•çš„æ–¹æ³•æ˜¯ä½¿ç”¨å¯¹è¯æ¡†ï¼Œè¯¥å¯¹è¯æ¡†ä¼šå¼ºåˆ¶ç”¨æˆ·ä»ä¸€ç»„å°åŠ¨ä½œä¸­é€‰æ‹©ã€‚åœ¨Shinyä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/modalDialog.html\">modalDialog()</a>åˆ›å»ºä¸€ä¸ªå¯¹è¯æ¡†ã€‚è¿™è¢«ç§°ä¸ºâ€œæ¨¡æ€â€å¯¹è¯æ¡†ï¼Œå› ä¸ºå®ƒåˆ›å»ºäº†ä¸€ç§æ–°çš„äº¤äº’â€œæ¨¡å¼â€ï¼›åœ¨å¤„ç†å¯¹è¯æ¡†ä¹‹å‰ï¼Œä½ æ— æ³•ä¸ä¸»åº”ç”¨ç¨‹åºè¿›è¡Œäº¤äº’ã€‚</p>\n<p>å‡è®¾ä½ æœ‰ä¸€ä¸ªShinyåº”ç”¨ç¨‹åºï¼Œç”¨äºä»ç›®å½•ä¸­åˆ é™¤ä¸€äº›æ–‡ä»¶ï¼ˆæˆ–ä»æ•°æ®åº“ä¸­åˆ é™¤ä¸€äº›è¡Œç­‰ï¼‰ã€‚è¿™ä¸ªæ“ä½œå¾ˆéš¾æ’¤é”€ï¼Œå› æ­¤ä½ éœ€è¦ç¡®ä¿ç”¨æˆ·ç¡®å®æƒ³è¦è¿™ä¹ˆåšã€‚ä½ å¯ä»¥åˆ›å»ºä¸€ä¸ªå¯¹è¯æ¡†ï¼Œå¦‚å›¾<code>8.10</code>æ‰€ç¤ºï¼Œè¦æ±‚ç”¨æˆ·è¿›è¡Œæ˜ç¡®çš„ç¡®è®¤ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">modal_confirm <span class=\"operator\">&lt;-</span> modalDialog<span class=\"punctuation\">(</span></span><br><span class=\"line\">  <span class=\"string\">&quot;Are you sure you want to continue?&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  title <span class=\"operator\">=</span> <span class=\"string\">&quot;Deleting files&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  footer <span class=\"operator\">=</span> tagList<span class=\"punctuation\">(</span></span><br><span class=\"line\">    actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;cancel&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Cancel&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;ok&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Delete&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">class</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;btn btn-danger&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/1fd6b657c2fd4df4ef9de687459e433e0b6144f4/93f7d/demos/action-feedback/dialog.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/1fd6b657c2fd4df4ef9de687459e433e0b6144f4/93f7d/demos/action-feedback/dialog.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾ 8.10ï¼šæ£€æŸ¥æ˜¯å¦è¦åˆ é™¤æŸäº›æ–‡ä»¶çš„å¯¹è¯æ¡†ã€‚\"></p>\n<p>åœ¨åˆ›å»ºå¯¹è¯æ¡†æ—¶ï¼Œéœ€è¦æ³¨æ„ä¸€äº›è™½å°ä½†é‡è¦çš„ç»†èŠ‚ï¼š</p>\n<ul>\n<li><p>æŒ‰é’®åº”è¯¥æ€ä¹ˆå‘½åï¼Ÿæœ€å¥½æè¿°å¾—å…·ä½“ä¸€äº›ï¼Œå› æ­¤è¦é¿å…ä½¿ç”¨â€œæ˜¯&#x2F;å¦â€æˆ–â€œç»§ç»­&#x2F;å–æ¶ˆâ€ï¼Œè€Œåº”è¯¥å¤è¿°å…³é”®çš„åŠ¨è¯ã€‚</p>\n</li>\n<li><p>æŒ‰é’®åº”è¯¥å¦‚ä½•æ’åºï¼Ÿä½ æ˜¯æŠŠâ€œå–æ¶ˆâ€æ”¾åœ¨å‰é¢ï¼ˆåƒMacé‚£æ ·ï¼‰ï¼Œè¿˜æ˜¯æŠŠâ€œç»§ç»­â€æ”¾åœ¨å‰é¢ï¼ˆåƒWindowsé‚£æ ·ï¼‰ï¼Ÿä½ æœ€å¥½çš„é€‰æ‹©æ˜¯æ¨¡ä»¿å¤§å¤šæ•°äººå°†ä½¿ç”¨çš„å¹³å°ã€‚</p>\n</li>\n<li><p>ä½ èƒ½è®©å±é™©é€‰é¡¹æ›´æ˜æ˜¾å—ï¼Ÿè¿™é‡Œæˆ‘ä½¿ç”¨äº†<code>class = &quot;btn btn-danger&quot;</code>æ¥çªå‡ºæ˜¾ç¤ºæŒ‰é’®ã€‚</p>\n</li>\n</ul>\n<p>Jakob Nielsenåœ¨<a href=\"http://www.useit.com/alertbox/ok-cancel.html\">http://www.useit.com/alertbox/ok-cancel.html</a>ä¸Šç»™å‡ºäº†æ›´å¤šå¥½å»ºè®®ã€‚</p>\n<p>è®©æˆ‘ä»¬åœ¨ä¸€ä¸ªçœŸå®ï¼ˆå°½ç®¡å¾ˆç®€å•ï¼‰çš„åº”ç”¨ç¨‹åºä¸­ä½¿ç”¨è¿™ä¸ªå¯¹è¯æ¡†ã€‚æˆ‘ä»¬çš„ç”¨æˆ·ç•Œé¢æš´éœ²äº†ä¸€ä¸ªâ€œåˆ é™¤æ‰€æœ‰æ–‡ä»¶â€çš„æŒ‰é’®ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;delete&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Delete all files?&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>åœ¨<code>server()</code>ä¸­æœ‰ä¸¤ä¸ªæ–°çš„æƒ³æ³•ï¼š</p>\n<ul>\n<li><p>æˆ‘ä»¬ä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/showModal.html\">showModal()</a>å’Œ<a href=\"https://rdrr.io/pkg/shiny/man/showModal.html\">removeModal()</a>æ¥æ˜¾ç¤ºå’Œéšè—å¯¹è¯æ¡†ã€‚</p>\n</li>\n<li><p>æˆ‘ä»¬è§‚å¯Ÿç”±UIä»<code>modal_confirm</code>ç”Ÿæˆçš„äº‹ä»¶ã€‚è¿™äº›å¯¹è±¡ä¸æ˜¯é™æ€åœ°åœ¨uiä¸­åˆ›å»ºçš„ï¼Œè€Œæ˜¯ç”±<code>server()</code>ä¸­çš„<code>showModal()</code>åŠ¨æ€æ·»åŠ çš„ã€‚åœ¨ç¬¬<code>10</code>ç« ä¸­ï¼Œä½ å°†æ›´è¯¦ç»†åœ°çœ‹åˆ°è¿™ä¸ªæƒ³æ³•ã€‚</p>\n</li>\n</ul>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>delete<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    showModal<span class=\"punctuation\">(</span>modal_confirm<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>ok<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    showNotification<span class=\"punctuation\">(</span><span class=\"string\">&quot;Files deleted&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    removeModal<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>cancel<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    removeModal<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n\n<h3 id=\"8-4-2-æ’¤æ¶ˆæ“ä½œ\"><a href=\"#8-4-2-æ’¤æ¶ˆæ“ä½œ\" class=\"headerlink\" title=\"8.4.2 æ’¤æ¶ˆæ“ä½œ\"></a>8.4.2 æ’¤æ¶ˆæ“ä½œ</h3><p>æ˜ç¡®çš„ç¡®è®¤å¯¹äºå¾ˆå°‘æ‰§è¡Œä¸”å…·æœ‰ç ´åæ€§çš„æ“ä½œæœ€æœ‰ç”¨ã€‚å¦‚æœä½ æƒ³è¦å‡å°‘å› é¢‘ç¹æ“ä½œè€Œäº§ç”Ÿçš„é”™è¯¯ï¼Œé‚£ä¹ˆåº”è¯¥é¿å…ä½¿ç”¨å®ƒã€‚ä¾‹å¦‚ï¼Œè¿™ç§æŠ€æœ¯ä¸é€‚ç”¨äºTwitterâ€”â€”å¦‚æœæœ‰ä¸€ä¸ªå¯¹è¯æ¡†è¯´â€œä½ ç¡®å®šè¦å‘è¿™æ¡æ¨æ–‡å—ï¼Ÿâ€ä½ ä¼šå¾ˆå¿«å­¦ä¼šè‡ªåŠ¨ç‚¹å‡»â€œæ˜¯â€ï¼Œå¹¶ä¸”åœ¨å‘é€æ¨æ–‡10ç§’åæ³¨æ„åˆ°æ‹¼å†™é”™è¯¯æ—¶ï¼Œä»ç„¶ä¼šæ„Ÿåˆ°åŒæ ·çš„åæ‚”ã€‚</p>\n<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ›´å¥½çš„æ–¹æ³•æ˜¯åœ¨å®é™…æ‰§è¡Œæ“ä½œå‰ç­‰å¾…å‡ ç§’é’Ÿï¼Œç»™ç”¨æˆ·ä¸€ä¸ªå‘ç°å¹¶æ’¤é”€ä»»ä½•é—®é¢˜çš„æœºä¼šã€‚è¿™å¹¶ä¸æ˜¯çœŸæ­£çš„æ’¤é”€ï¼ˆå› ä¸ºä½ å®é™…ä¸Šæ²¡æœ‰åšä»»ä½•äº‹æƒ…ï¼‰ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªè®©ç”¨æˆ·èƒ½å¤Ÿç†è§£çš„è¯æ±‡ã€‚</p>\n<p>æˆ‘å°†ç”¨ä¸€ä¸ªæˆ‘ä¸ªäººå¸Œæœ›æ‹¥æœ‰æ’¤é”€æŒ‰é’®çš„ç½‘ç«™â€”â€”Twitteræ¥ä¸¾ä¾‹è¯´æ˜è¿™é¡¹æŠ€æœ¯ã€‚Twitterç”¨æˆ·ç•Œé¢çš„æœ¬è´¨éå¸¸ç®€å•ï¼šæœ‰ä¸€ä¸ªæ–‡æœ¬åŒºåŸŸç”¨æ¥ç¼–è¾‘æ¨æ–‡ï¼Œè¿˜æœ‰ä¸€ä¸ªå‘é€æŒ‰é’®ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  textAreaInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;message&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">    label <span class=\"operator\">=</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">    placeholder <span class=\"operator\">=</span> <span class=\"string\">&quot;What&#x27;s happening?&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    rows <span class=\"operator\">=</span> <span class=\"number\">3</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;tweet&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Tweet&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>æœåŠ¡å™¨å‡½æ•°ç›¸å½“å¤æ‚ï¼Œéœ€è¦ä¸€äº›æˆ‘ä»¬å°šæœªè®¨è®ºè¿‡çš„æŠ€æœ¯ã€‚ä¸è¦å¤ªæ‹…å¿ƒç†è§£ä»£ç ï¼Œè¦ä¸“æ³¨äºåŸºæœ¬æ€è·¯ï¼šæˆ‘ä»¬ä½¿ç”¨ä¸€äº›<a href=\"https://rdrr.io/pkg/shiny/man/observeEvent.html\">observeEvent()</a>ç‰¹æ®Šçš„å‚æ•°ï¼Œä»¥ä¾¿åœ¨å‡ ç§’é’Ÿåè¿è¡Œä¸€äº›ä»£ç ã€‚ä¸»è¦çš„æ–°æƒ³æ³•æ˜¯ï¼Œæˆ‘ä»¬æ•è·<code>observeEvent()</code>çš„ç»“æœå¹¶å°†å…¶ä¿å­˜åˆ°ä¸€ä¸ªå˜é‡ä¸­ï¼›è¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é”€æ¯è§‚å¯Ÿè€…ï¼Œä»è€Œç¡®ä¿å®é™…å‘é€æ¨æ–‡çš„ä»£ç æ°¸è¿œä¸ä¼šè¢«æ‰§è¡Œã€‚ä½ å¯ä»¥å°è¯•è®¿é—®å®æ—¶åº”ç”¨ç¨‹åº<a href=\"https://hadley.shinyapps.io/ms-undo\">https://hadley.shinyapps.io/ms-undo</a>ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">runLater <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>action<span class=\"punctuation\">,</span> seconds <span class=\"operator\">=</span> <span class=\"number\">3</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span></span><br><span class=\"line\">    invalidateLater<span class=\"punctuation\">(</span>seconds <span class=\"operator\">*</span> <span class=\"number\">1000</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> action<span class=\"punctuation\">,</span> </span><br><span class=\"line\">    ignoreInit <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">    once <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">    ignoreNULL <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    autoDestroy <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  waiting <span class=\"operator\">&lt;-</span> <span class=\"literal\">NULL</span></span><br><span class=\"line\">  last_message <span class=\"operator\">&lt;-</span> <span class=\"literal\">NULL</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>tweet<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    notification <span class=\"operator\">&lt;-</span> glue<span class=\"operator\">::</span>glue<span class=\"punctuation\">(</span><span class=\"string\">&quot;Tweeted &#x27;&#123;input$message&#125;&#x27;&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    last_message <span class=\"operator\">&lt;&lt;-</span> input<span class=\"operator\">$</span>message</span><br><span class=\"line\">    updateTextAreaInput<span class=\"punctuation\">(</span>session<span class=\"punctuation\">,</span> <span class=\"string\">&quot;message&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    showNotification<span class=\"punctuation\">(</span></span><br><span class=\"line\">      notification<span class=\"punctuation\">,</span></span><br><span class=\"line\">      action <span class=\"operator\">=</span> actionButton<span class=\"punctuation\">(</span><span class=\"string\">&quot;undo&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Undo?&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      duration <span class=\"operator\">=</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      closeButton <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      id <span class=\"operator\">=</span> <span class=\"string\">&quot;tweeted&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      type <span class=\"operator\">=</span> <span class=\"string\">&quot;warning&quot;</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">    waiting <span class=\"operator\">&lt;&lt;-</span> runLater<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      cat<span class=\"punctuation\">(</span><span class=\"string\">&quot;Actually sending tweet...\\n&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">      removeNotification<span class=\"punctuation\">(</span><span class=\"string\">&quot;tweeted&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>undo<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    waiting<span class=\"operator\">$</span>destroy<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    showNotification<span class=\"punctuation\">(</span><span class=\"string\">&quot;Tweet retracted&quot;</span><span class=\"punctuation\">,</span> id <span class=\"operator\">=</span> <span class=\"string\">&quot;tweeted&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    updateTextAreaInput<span class=\"punctuation\">(</span>session<span class=\"punctuation\">,</span> <span class=\"string\">&quot;message&quot;</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> last_message<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<h3 id=\"8-4-3-å›æ”¶ç«™\"><a href=\"#8-4-3-å›æ”¶ç«™\" class=\"headerlink\" title=\"8.4.3 å›æ”¶ç«™\"></a>8.4.3 å›æ”¶ç«™</h3><p>å¯¹äºå‡ å¤©åå¯èƒ½ä¼šåæ‚”çš„æ“ä½œï¼Œä¸€ç§æ›´é«˜çº§çš„æ¨¡å¼æ˜¯åœ¨è®¡ç®—æœºä¸Šå®ç°ç±»ä¼¼å›æ”¶ç«™æˆ–åƒåœ¾ç®±çš„åŠŸèƒ½ã€‚å½“ä½ åˆ é™¤ä¸€ä¸ªæ–‡ä»¶æ—¶ï¼Œå®ƒå¹¶ä¸ä¼šè¢«æ°¸ä¹…åˆ é™¤ï¼Œè€Œæ˜¯è¢«ç§»åŠ¨åˆ°ä¸€ä¸ªæš‚å­˜åŒºï¼Œéœ€è¦æ‰§è¡Œå¦ä¸€ä¸ªæ“ä½œæ‰èƒ½æ¸…ç©ºã€‚è¿™å°±åƒæ˜¯ä¸€ä¸ªå¼ºåŒ–ç‰ˆçš„â€œæ’¤é”€â€é€‰é¡¹ï¼Œä½ æœ‰å¾ˆé•¿çš„æ—¶é—´æ¥åæ‚”ä½ çš„æ“ä½œã€‚è¿™ä¹Ÿæœ‰ç‚¹åƒç¡®è®¤æ“ä½œï¼Œä½ éœ€è¦æ‰§è¡Œä¸¤ä¸ªåˆ†å¼€çš„æ“ä½œæ‰èƒ½ä½¿åˆ é™¤æ“ä½œæ°¸ä¹…ç”Ÿæ•ˆã€‚</p>\n<p>è¿™ç§æŠ€æœ¯çš„ä¸»è¦ç¼ºç‚¹æ˜¯å®ç°èµ·æ¥ç›¸å½“å¤æ‚ï¼ˆä½ éœ€è¦æœ‰ä¸€ä¸ªå•ç‹¬çš„â€œæš‚å­˜åŒºâ€æ¥å­˜å‚¨æ’¤é”€æ“ä½œæ‰€éœ€çš„ä¿¡æ¯ï¼‰ï¼Œå¹¶ä¸”éœ€è¦ç”¨æˆ·å®šæœŸå¹²é¢„ä»¥é¿å…ä¿¡æ¯ç§¯ç´¯ã€‚å› æ­¤ï¼Œæˆ‘è®¤ä¸ºé™¤äº†æœ€å¤æ‚çš„Shinyåº”ç”¨ç¨‹åºä¹‹å¤–ï¼Œè¿™ç§æŠ€æœ¯éƒ½è¶…å‡ºäº†å…¶ä»–åº”ç”¨ç¨‹åºçš„èŒƒå›´ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘ä¸ä¼šå±•ç¤ºå®ƒçš„å®ç°æ–¹æ³•ã€‚</p>\n<h2 id=\"8-5-æ€»ç»“\"><a href=\"#8-5-æ€»ç»“\" class=\"headerlink\" title=\"8.5 æ€»ç»“\"></a>8.5 æ€»ç»“</h2><p>æœ¬ç« ä¸ºä½ æä¾›äº†ä¸€äº›å·¥å…·ï¼Œå¸®åŠ©ä½ å‘ç”¨æˆ·ä¼ è¾¾åº”ç”¨ç¨‹åºæ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ã€‚ä»æŸç§æ„ä¹‰ä¸Šè¯´ï¼Œè¿™äº›æŠ€æœ¯å¤§å¤šæ˜¯å¯é€‰çš„ã€‚è™½ç„¶ä½ çš„åº”ç”¨ç¨‹åºæ²¡æœ‰å®ƒä»¬ä¹Ÿèƒ½å·¥ä½œï¼Œä½†å®ƒä»¬çš„ç²¾å¿ƒåº”ç”¨ä¼šå¯¹ç”¨æˆ·ä½“éªŒçš„è´¨é‡äº§ç”Ÿå·¨å¤§å½±å“ã€‚å½“ä½ æ˜¯åº”ç”¨ç¨‹åºçš„å”¯ä¸€ç”¨æˆ·æ—¶ï¼Œé€šå¸¸å¯ä»¥çœç•¥åé¦ˆï¼Œä½†ä½¿ç”¨å®ƒçš„äººè¶Šå¤šï¼Œç²¾å¿ƒè®¾è®¡çš„é€šçŸ¥å°±è¶Šèƒ½å‘æŒ¥ä½œç”¨ã€‚</p>\n<p>åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•å‘ç”¨æˆ·ä¼ è¾“æ–‡ä»¶ã€‚</p>\n<h1 id=\"åŠ å…³æ³¨\"><a href=\"#åŠ å…³æ³¨\" class=\"headerlink\" title=\"åŠ å…³æ³¨\"></a>åŠ å…³æ³¨</h1><p>å…³æ³¨å…¬ä¼—å·â€œç”Ÿä¿¡ä¹‹å·…â€ã€‚</p>\n<table align=\"center\"><tr>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å¾®ä¿¡å…¬ä¼—å·\" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-right: 0px;margin-bottom: 5px;align: center;\"></td>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å°ç¨‹åºç \" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-left: 0px;margin-bottom: 5px;align: center\"></td>\n</tr></table>\n\n\n<p><font color=\"#FF0000\"><ruby><b>æ•¬å‘Š</b>ï¼šä½¿ç”¨æ–‡ä¸­è„šæœ¬è¯·å¼•ç”¨æœ¬æ–‡ç½‘å€ï¼Œè¯·å°Šé‡æœ¬äººçš„åŠ³åŠ¨æˆæœï¼Œè°¢è°¢ï¼<rt><b>Notice</b>: When you use the scripts in this article, please cite the link of this webpage. Thank you!</rt></ruby></font></p>\n","raw":null,"categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"ç¼–ç¨‹","path":"api/tags/ç¼–ç¨‹.json"},{"name":"Shinyå…¥é—¨ç³»åˆ—","path":"api/tags/Shinyå…¥é—¨ç³»åˆ—.json"}]},{"title":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”7-å›¾å½¢","slug":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”7-å›¾å½¢","date":"2024-01-26T14:09:43.000Z","updated":"2024-03-11T13:07:17.000Z","comments":true,"path":"api/articles/Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”7-å›¾å½¢.json","excerpt":null,"keywords":null,"cover":"https://d33wubrfki0l68.cloudfront.net/8e3506131c2af7ac0ddd07569f277dd03e05ff0e/f836c/images/action-graphics/click.png","content":"<h1 id=\"7-å›¾å½¢\"><a href=\"#7-å›¾å½¢\" class=\"headerlink\" title=\"7 å›¾å½¢\"></a>7 å›¾å½¢</h1><ul>\n<li>ç¬¬7ç« å‘æ‚¨å±•ç¤ºäº†å¦‚ä½•å‘ç»˜å›¾æ·»åŠ ç›´æ¥äº¤äº’ä»¥åŠå¦‚ä½•æ˜¾ç¤ºä»¥å…¶ä»–æ–¹å¼ç”Ÿæˆçš„å›¾åƒã€‚</li>\n</ul>\n<p>æˆ‘ä»¬åœ¨ç¬¬ 2 ç« ä¸­ç®€è¦è®¨è®ºäº† <a href=\"\">renderPlot()</a> ;å®ƒæ˜¯åœ¨åº”ç”¨ç¨‹åºä¸­æ˜¾ç¤ºå›¾å½¢çš„å¼ºå¤§å·¥å…·ã€‚æœ¬ç« å°†å‘æ‚¨å±•ç¤ºå¦‚ä½•å……åˆ†åˆ©ç”¨å®ƒæ¥åˆ›å»ºäº¤äº’å¼ç»˜å›¾ï¼Œå³å“åº”é¼ æ ‡äº‹ä»¶çš„ç»˜å›¾ã€‚æ‚¨è¿˜å°†å­¦ä¹ ä¸€äº›å…¶ä»–æœ‰ç”¨çš„æŠ€æœ¯ï¼ŒåŒ…æ‹¬åˆ¶ä½œå…·æœ‰åŠ¨æ€å®½åº¦å’Œé«˜åº¦çš„ç»˜å›¾ä»¥åŠä½¿ç”¨ <a href=\"https://rdrr.io/pkg/shiny/man/renderImage.html\">renderImage()</a> æ˜¾ç¤ºå›¾åƒã€‚</p>\n<p>åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†éœ€è¦ ggplot2 å’Œ Shinyï¼Œå› ä¸ºæˆ‘ä»¬å°†å…¶ç”¨äºå¤§å¤šæ•°å›¾å½¢çš„ç»˜åˆ¶ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>shiny<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>ggplot2<span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"7-1-äº¤äº’æ€§\"><a href=\"#7-1-äº¤äº’æ€§\" class=\"headerlink\" title=\"7.1 äº¤äº’æ€§\"></a>7.1 äº¤äº’æ€§</h2><p><a href=\"https://rdrr.io/pkg/shiny/man/plotOutput.html\">plotOutput()</a> æœ€é…·çš„ä¸€ç‚¹æ˜¯ï¼Œå®ƒä¸ä»…å¯ä»¥ä½œä¸ºæ˜¾ç¤ºç»˜å›¾çš„è¾“å‡ºï¼Œè¿˜å¯ä»¥ä½œä¸ºå“åº”æŒ‡é’ˆäº‹ä»¶çš„è¾“å…¥ã€‚è¿™å…è®¸æ‚¨åˆ›å»ºäº¤äº’å¼å›¾å½¢ï¼Œç”¨æˆ·ç›´æ¥ä¸ç»˜å›¾ä¸Šçš„æ•°æ®è¿›è¡Œäº¤äº’ã€‚äº¤äº’å¼å›¾å½¢æ˜¯ä¸€ç§å¼ºå¤§çš„å·¥å…·ï¼Œå…·æœ‰å¹¿æ³›çš„åº”ç”¨èŒƒå›´ã€‚æˆ‘æ²¡æœ‰ç©ºé—´å‘ä½ å±•ç¤ºæ‰€æœ‰çš„å¯èƒ½æ€§ï¼Œæ‰€ä»¥åœ¨è¿™é‡Œæˆ‘å°†é‡ç‚¹ä»‹ç»åŸºç¡€çŸ¥è¯†ï¼Œç„¶åå‘ä½ æŒ‡å‡ºèµ„æºä»¥äº†è§£æ›´å¤šä¿¡æ¯ã€‚</p>\n<h3 id=\"7-1-1-åŸºç¡€çŸ¥è¯†\"><a href=\"#7-1-1-åŸºç¡€çŸ¥è¯†\" class=\"headerlink\" title=\"7.1.1 åŸºç¡€çŸ¥è¯†\"></a>7.1.1 åŸºç¡€çŸ¥è¯†</h3><p>ç»˜å›¾å¯ä»¥å“åº”å››ç§ä¸åŒçš„é¼ æ ‡äº‹ä»¶ï¼š <code>click</code> ã€ <code>dblclick</code> ï¼ˆåŒå‡»ï¼‰ã€ <code>hover</code> ï¼ˆå½“é¼ æ ‡åœ¨åŒä¸€ä½ç½®åœç•™ä¸€æ®µæ—¶é—´æ—¶ï¼‰å’Œ <code>brush</code> ï¼ˆçŸ©å½¢é€‰æ‹©å·¥å…·ï¼‰ã€‚è¦å°†è¿™äº›äº‹ä»¶è½¬æ¢ä¸ºShinyçš„è¾“å…¥ï¼Œæ‚¨éœ€è¦ä¸ºç›¸åº”çš„ <code>plotOutput()</code> å‚æ•°æä¾›ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ <code>plotOutput(&quot;plot&quot;, click = &quot;plot_click&quot;)</code>ã€‚è¿™å°†åˆ›å»ºä¸€ä¸ª <code>input$plot_click</code> ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨å®ƒæ¥å¤„ç†é¼ æ ‡åœ¨ç»˜å›¾ä¸Šçš„å•å‡»ã€‚</p>\n<p>ä¸‹é¢æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„å¤„ç†é¼ æ ‡å•å‡»çš„ç¤ºä¾‹ã€‚æˆ‘ä»¬æ³¨å†Œ <code>plot_click</code> è¾“å…¥ï¼Œç„¶åä½¿ç”¨é¼ æ ‡å•å‡»çš„åæ ‡æ›´æ–°è¾“å‡ºã€‚å›¾ 7.1 æ˜¾ç¤ºäº†ç»“æœã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;plot&quot;</span><span class=\"punctuation\">,</span> click <span class=\"operator\">=</span> <span class=\"string\">&quot;plot_click&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  verbatimTextOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;info&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>plot <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    plot<span class=\"punctuation\">(</span>mtcars<span class=\"operator\">$</span>wt<span class=\"punctuation\">,</span> mtcars<span class=\"operator\">$</span>mpg<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  output<span class=\"operator\">$</span>info <span class=\"operator\">&lt;-</span> renderPrint<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    req<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>plot_click<span class=\"punctuation\">)</span></span><br><span class=\"line\">    x <span class=\"operator\">&lt;-</span> <span class=\"built_in\">round</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>plot_click<span class=\"operator\">$</span>x<span class=\"punctuation\">,</span> <span class=\"number\">2</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    y <span class=\"operator\">&lt;-</span> <span class=\"built_in\">round</span><span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>plot_click<span class=\"operator\">$</span>y<span class=\"punctuation\">,</span> <span class=\"number\">2</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    cat<span class=\"punctuation\">(</span><span class=\"string\">&quot;[&quot;</span><span class=\"punctuation\">,</span> x<span class=\"punctuation\">,</span> <span class=\"string\">&quot;, &quot;</span><span class=\"punctuation\">,</span> y<span class=\"punctuation\">,</span> <span class=\"string\">&quot;]&quot;</span><span class=\"punctuation\">,</span> sep <span class=\"operator\">=</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/8e3506131c2af7ac0ddd07569f277dd03e05ff0e/f836c/images/action-graphics/click.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/8e3506131c2af7ac0ddd07569f277dd03e05ff0e/f836c/images/action-graphics/click.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾ 7.1 å•å‡»å·¦ä¸Šè§’çš„ç‚¹å¯æ›´æ–°æ‰“å°çš„åæ ‡ æŸ¥çœ‹æ¼”ç¤ºå®ä¾‹ https://hadley.shinyapps.io/ms-click ã€‚\"></p>\n<p>ï¼ˆè¯·æ³¨æ„ä½¿ç”¨ <a href=\"https://rdrr.io/pkg/shiny/man/req.html\">req()</a> ï¼Œä»¥ç¡®ä¿åº”ç”¨åœ¨ç¬¬ä¸€æ¬¡å•å‡»ä¹‹å‰ä¸ä¼šæ‰§è¡Œä»»ä½•æ“ä½œï¼Œä¸”åæ ‡ä»¥<code>wt</code>å’Œ<code>mpg</code>å˜é‡è¡¨ç¤ºã€‚</p>\n<p>ä»¥ä¸‹å„èŠ‚æ›´è¯¦ç»†åœ°ä»‹ç»äº†è¿™äº›äº‹ä»¶ã€‚æˆ‘ä»¬å°†ä»ç‚¹å‡»äº‹ä»¶å¼€å§‹ï¼Œç„¶åç®€è¦è®¨è®ºå¯†åˆ‡ç›¸å…³çš„ <code>dblclick</code> å’Œ <code>hover</code> ã€‚ç„¶åï¼Œæ‚¨å°†äº†è§£ <code>brush</code> äº‹ä»¶ï¼Œè¯¥äº‹ä»¶æä¾›äº†ä¸€ä¸ªçŸ©å½¢<code>brush</code>ï¼Œç”±å…¶å››ä¸ªè¾¹ï¼ˆ <code>xmin</code> ï¼Œ <code>xmax </code>ï¼Œ <code>ymin </code>å’Œ <code>ymax </code>å®šä¹‰ã€‚ç„¶åï¼Œæˆ‘å°†ä¸¾å‡ ä¸ªç¤ºä¾‹ï¼Œä½¿ç”¨åŠ¨ä½œç»“æœæ›´æ–°ç»˜å›¾ï¼Œç„¶åè®¨è®º Shiny ä¸­äº¤äº’å¼å›¾å½¢çš„ä¸€äº›å±€é™æ€§ã€‚</p>\n<h3 id=\"7-1-2-ç‚¹å‡»\"><a href=\"#7-1-2-ç‚¹å‡»\" class=\"headerlink\" title=\"7.1.2 ç‚¹å‡»\"></a>7.1.2 ç‚¹å‡»</h3><p>ç‚¹äº‹ä»¶è¿”å›ä¸€ä¸ªç›¸å¯¹ä¸°å¯Œçš„åˆ—è¡¨ï¼Œå…¶ä¸­åŒ…å«å¤§é‡ä¿¡æ¯ã€‚æœ€é‡è¦çš„ç»„ä»¶æ˜¯ <code>x</code> å’Œ <code>y</code> ï¼Œå®ƒä»¬åœ¨æ•°æ®åæ ‡ä¸­ç»™å‡ºäº‹ä»¶çš„ä½ç½®ã€‚ä½†æˆ‘ä¸æ‰“ç®—è°ˆè®ºè¿™ç§æ•°æ®ç»“æ„ï¼Œå› ä¸ºä½ åªåœ¨ç›¸å¯¹ç½•è§çš„æƒ…å†µä¸‹éœ€è¦ï¼ˆå¦‚æœä½ ç¡®å®æƒ³è¦ç»†èŠ‚ï¼Œè¯·åœ¨ Shiny å›¾åº“ä¸­ä½¿ç”¨è¿™ä¸ªåº”ç”¨ç¨‹åºï¼‰ã€‚ç›¸åï¼Œæ‚¨å°†ä½¿ç”¨ <a href=\"https://rdrr.io/pkg/shiny/man/brushedPoints.html\">nearPoints()</a> å¸®åŠ©ç¨‹åºï¼Œè¯¥å¸®åŠ©ç¨‹åºè¿”å›ä¸€ä¸ªæ•°æ®æ¡†ï¼Œå…¶ä¸­åŒ…å«å•å‡»é™„è¿‘çš„è¡Œï¼Œå¹¶å¤„ç†ä¸€å †ç¹ççš„ç»†èŠ‚ã€‚</p>\n<p>ä¸‹é¢æ˜¯ <code>nearPoints()</code> è¿è¡Œçš„ç®€å•ç¤ºä¾‹ï¼Œå…¶ä¸­æ˜¾ç¤ºäº†æœ‰å…³äº‹ä»¶é™„è¿‘ç‚¹çš„æ•°æ®è¡¨ã€‚å›¾ 7.2 æ˜¾ç¤ºäº†è¯¥åº”ç”¨çš„å±å¹•æˆªå›¾ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;plot&quot;</span><span class=\"punctuation\">,</span> click <span class=\"operator\">=</span> <span class=\"string\">&quot;plot_click&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;data&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>plot <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    plot<span class=\"punctuation\">(</span>mtcars<span class=\"operator\">$</span>wt<span class=\"punctuation\">,</span> mtcars<span class=\"operator\">$</span>mpg<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>data <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    nearPoints<span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>plot_click<span class=\"punctuation\">,</span> xvar <span class=\"operator\">=</span> <span class=\"string\">&quot;wt&quot;</span><span class=\"punctuation\">,</span> yvar <span class=\"operator\">=</span> <span class=\"string\">&quot;mpg&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">````</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"operator\">!</span><span class=\"punctuation\">[</span>å›¾ <span class=\"number\">7.2</span> nearPoints<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> å°†ç»˜å›¾åæ ‡è½¬æ¢ä¸ºæ•°æ®è¡Œï¼Œä»è€Œå¯ä»¥è½»æ¾æ˜¾ç¤ºæ‚¨å•å‡»çš„ç‚¹çš„åŸºç¡€æ•°æ® æŸ¥çœ‹å®ä¾‹ https<span class=\"operator\">:</span><span class=\"operator\">/</span><span class=\"operator\">/</span>hadley.shinyapps.io<span class=\"operator\">/</span>ms<span class=\"operator\">-</span>nearPoints ã€‚<span class=\"punctuation\">]</span><span class=\"punctuation\">(</span>https<span class=\"operator\">:</span><span class=\"operator\">/</span><span class=\"operator\">/</span>d33wubrfki0l68.cloudfront.net<span class=\"operator\">/</span><span class=\"number\">7</span>c89122f2822dac1dbe5640e4aab942bebb46ef9<span class=\"operator\">/</span><span class=\"number\">8</span>d5d6<span class=\"operator\">/</span>images<span class=\"operator\">/</span>action<span class=\"operator\">-</span>graphics<span class=\"operator\">/</span>nearpoints.png<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç»™å‡º `nearPoints()` å››ä¸ªå‚æ•°ï¼šä½œä¸ºç»˜å›¾åŸºç¡€çš„æ•°æ®æ¡†ã€è¾“å…¥äº‹ä»¶å’Œè½´ä¸Šå˜é‡çš„åç§°ã€‚å¦‚æœä½¿ç”¨ `ggplot2`ï¼Œåˆ™åªéœ€æä¾›å‰ä¸¤ä¸ªå‚æ•°ï¼Œå› ä¸º `xvar` å’Œ `yvar` å¯ä»¥ä»ç»˜å›¾æ•°æ®ç»“æ„ä¸­è‡ªåŠ¨æ’è¡¥ã€‚å‡ºäºè¿™ä¸ªåŸå› ï¼Œæˆ‘å°†åœ¨æœ¬ç« çš„å…¶ä½™éƒ¨åˆ†ä½¿ç”¨ `ggplot2`ã€‚ä¸‹é¢æ˜¯ä½¿ç”¨ `ggplot2` é‡æ–°å®ç°çš„ä¸Šä¸€ä¸ªç¤ºä¾‹ï¼š</span><br><span class=\"line\"></span><br><span class=\"line\">```r</span><br><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  plotOutput(&quot;plot&quot;, click = &quot;plot_click&quot;),</span><br><span class=\"line\">  tableOutput(&quot;data&quot;)</span><br><span class=\"line\">)</span><br><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  output$plot &lt;- renderPlot(&#123;</span><br><span class=\"line\">    ggplot(mtcars, aes(wt, mpg)) + geom_point()</span><br><span class=\"line\">  &#125;, res = 96)</span><br><span class=\"line\">  </span><br><span class=\"line\">  output$data &lt;- renderTable(&#123;</span><br><span class=\"line\">    req(input$plot_click)</span><br><span class=\"line\">    nearPoints(mtcars, input$plot_click)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n\n<p>æ‚¨å¯èƒ½æƒ³çŸ¥é“ <code>nearPoints()</code> ç©¶ç«Ÿè¿”å›äº†ä»€ä¹ˆã€‚è¿™æ˜¯ä½¿ç”¨ <a href=\"https://rdrr.io/r/base/browser.html\">browser()</a> çš„å¥½åœ°æ–¹ï¼Œæˆ‘ä»¬åœ¨ Section 5.2.3 ä¸­è®¨è®ºè¿‡ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">...</span><br><span class=\"line\">  output<span class=\"operator\">$</span>data <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    req<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>plot_click<span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"built_in\">browser</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    nearPoints<span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>plot_click<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">...</span><br></pre></td></tr></table></figure>\n\n<p>ç°åœ¨ï¼Œåœ¨æˆ‘å¯åŠ¨åº”ç”¨ç¨‹åºå¹¶å•å‡»ä¸€ä¸ªç‚¹åï¼Œæˆ‘è¢«æ”¾å…¥äº¤äº’å¼è°ƒè¯•å™¨ï¼Œåœ¨é‚£é‡Œæˆ‘å¯ä»¥è¿è¡Œ <code>nearPoints()</code> å¹¶æŸ¥çœ‹å®ƒè¿”å›çš„å†…å®¹ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">nearPoints<span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>plot_click<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;             mpg cyl disp hp drat   wt  qsec vs am gear carb</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; Datsun 710 22.8   4  108 93 3.85 2.32 18.61  1  1    4    1</span></span><br></pre></td></tr></table></figure>\n\n\n<p>ä½¿ç”¨ <code>nearPoints()</code> çš„å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ <code>allRows = TRUE</code> å’Œ <code>addDist = TRUE</code> ã€‚è¿™å°†è¿”å›åŒ…å«ä¸¤ä¸ªæ–°åˆ—çš„åŸå§‹æ•°æ®æ¡†ï¼š</p>\n<ul>\n<li><code>dist_</code> ç»™å‡ºè¡Œå’Œäº‹ä»¶ä¹‹é—´çš„è·ç¦»ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰ã€‚</li>\n<li><code>selected_</code> è¡¨ç¤ºå®ƒæ˜¯å¦é è¿‘ click äº‹ä»¶ï¼ˆå³å®ƒæ˜¯å¦æ˜¯ <code>allRows = FALSE</code>) æ—¶è¿”å›çš„è¡Œã€‚</li>\n</ul>\n<p>æˆ‘ä»¬ç¨åä¼šçœ‹åˆ°ä¸€ä¸ªä¾‹å­ã€‚</p>\n<h3 id=\"7-1-3-å…¶ä»–ç‚¹äº‹ä»¶\"><a href=\"#7-1-3-å…¶ä»–ç‚¹äº‹ä»¶\" class=\"headerlink\" title=\"7.1.3 å…¶ä»–ç‚¹äº‹ä»¶\"></a>7.1.3 å…¶ä»–ç‚¹äº‹ä»¶</h3><p>åŒæ ·çš„æ–¹æ³•å¯¹ <code>click</code>ã€<code>dblclick</code> å’Œ <code>hover</code> åŒæ ·æœ‰æ•ˆï¼šåªéœ€æ›´æ”¹å‚æ•°çš„åç§°ã€‚å¦‚æœéœ€è¦ï¼Œå¯ä»¥é€šè¿‡æä¾› <a href=\"https://rdrr.io/pkg/shiny/man/clickOpts.html\">clickOps()</a>ã€<a href=\"https://rdrr.io/pkg/shiny/man/clickOpts.html\">dblclickOps()</a> æˆ– <a href=\"https://rdrr.io/pkg/shiny/man/clickOpts.html\">hoverOps()</a> è€Œä¸æ˜¯ç»™å‡ºè¾“å…¥ id çš„å­—ç¬¦ä¸²æ¥è·å¾—å¯¹äº‹ä»¶çš„é¢å¤–æ§åˆ¶ã€‚è¿™äº›å¾ˆå°‘éœ€è¦ï¼Œæ‰€ä»¥æˆ‘è¿™é‡Œä¸è®¨è®ºå®ƒä»¬ï¼›è¯·å‚é˜…æ–‡æ¡£ä»¥è·å–è¯¦ç»†ä¿¡æ¯ã€‚</p>\n<p>æ‚¨å¯ä»¥åœ¨ä¸€ä¸ªå›¾ä¸Šä½¿ç”¨å¤šç§äº¤äº’ç±»å‹ã€‚åªéœ€ç¡®ä¿å‘ç”¨æˆ·è§£é‡Šä»–ä»¬å¯ä»¥åšä»€ä¹ˆï¼šä½¿ç”¨é¼ æ ‡äº‹ä»¶ä¸åº”ç”¨ç¨‹åºäº¤äº’çš„ä¸€ä¸ªç¼ºç‚¹æ˜¯å®ƒä»¬ä¸èƒ½ç«‹å³è¢«å‘ç°ã€‚</p>\n<h3 id=\"7-1-4-åˆ·æ¶‚ï¼ˆBrushingï¼‰\"><a href=\"#7-1-4-åˆ·æ¶‚ï¼ˆBrushingï¼‰\" class=\"headerlink\" title=\"7.1.4 åˆ·æ¶‚ï¼ˆBrushingï¼‰\"></a>7.1.4 åˆ·æ¶‚ï¼ˆBrushingï¼‰</h3><p>åœ¨ç»˜å›¾ä¸Šé€‰æ‹©ç‚¹çš„å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ç”»ç¬”ï¼Œç”»ç¬”æ˜¯ç”±å››ä¸ªè¾¹å®šä¹‰çš„çŸ©å½¢é€‰æ‹©ã€‚åœ¨ Shiny ä¸­ï¼Œä¸€æ—¦æŒæ¡äº† <code>click</code> å’Œ <code>nearPoints()</code>ï¼Œä½¿ç”¨ç”»ç¬”å°±éå¸¸ç®€å•ï¼šåªéœ€åˆ‡æ¢åˆ° <code>brush</code> å‚æ•°å’Œ <a href=\"https://rdrr.io/pkg/shiny/man/brushedPoints.html\">brushedPoints()</a> è¾…åŠ©å‡½æ•°ã€‚</p>\n<p>è¿™æ˜¯å¦ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œæ˜¾ç¤ºäº†ç”»ç¬”é€‰æ‹©äº†å“ªäº›ç‚¹ã€‚å›¾7.3æ˜¾ç¤ºäº†ç»“æœã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;plot&quot;</span><span class=\"punctuation\">,</span> brush <span class=\"operator\">=</span> <span class=\"string\">&quot;plot_brush&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tableOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;data&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>plot <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    ggplot<span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">,</span> aes<span class=\"punctuation\">(</span>wt<span class=\"punctuation\">,</span> mpg<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span> geom_point<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>data <span class=\"operator\">&lt;-</span> renderTable<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    brushedPoints<span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>plot_brush<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/72c746e68848220485ba12c028382dd0de8a3a00/fc713/images/action-graphics/brushedpoints.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/72c746e68848220485ba12c028382dd0de8a3a00/fc713/images/action-graphics/brushedpoints.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾ 7.3 è®¾ç½® brush å‚æ•°ä¸ºç”¨æˆ·æä¾›äº†ä¸€ä¸ªå¯æ‹–åŠ¨çš„â€œç”»ç¬”â€ã€‚åœ¨æ­¤åº”ç”¨ç¨‹åºä¸­ï¼Œç”»ç¬”ä¸‹æ–¹çš„ç‚¹æ˜¾ç¤ºåœ¨è¡¨æ ¼ä¸­ã€‚åœ¨ https://hadley.shinyapps.io/ms-brushedPoints ä¸ŠæŸ¥çœ‹æ¼”ç¤ºã€‚\"></p>\n<p>ä½¿ç”¨ <a href=\"https://rdrr.io/pkg/shiny/man/brushOpts.html\">brushOptions()</a> æ§åˆ¶é¢œè‰²ï¼ˆå¡«å……å’Œæè¾¹ï¼‰ï¼Œæˆ–å°†åˆ·æ¶‚é™åˆ¶ä¸º<code>direction = &quot;x&quot;</code> æˆ– <code>&quot;y&quot;</code> çš„å•ä¸ªç»´åº¦ï¼ˆä¾‹å¦‚ï¼Œç”¨äºåˆ·æ¶‚æ—¶é—´åºåˆ—ï¼‰ã€‚</p>\n<h3 id=\"7-1-5-ä¿®æ”¹ç»˜å›¾\"><a href=\"#7-1-5-ä¿®æ”¹ç»˜å›¾\" class=\"headerlink\" title=\"7.1.5 ä¿®æ”¹ç»˜å›¾\"></a>7.1.5 ä¿®æ”¹ç»˜å›¾</h3><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å±•ç¤ºäº†äº¤äº’çš„ç»“æœã€‚ä½†æ˜¯ï¼Œäº¤äº’çš„çœŸæ­£é­…åŠ›åœ¨äºï¼Œå½“ä½ æ˜¾ç¤ºä½ æ­£åœ¨äº¤äº’çš„åŒä¸€å›¾ä¸­çš„å˜åŒ–æ—¶ã€‚ä¸å¹¸çš„æ˜¯ï¼Œè¿™éœ€è¦ä½ å°šæœªå­¦è¿‡çš„å…ˆè¿›ååº”æŠ€æœ¯ï¼š<a href=\"https://rdrr.io/pkg/shiny/man/reactiveVal.html\">reactiveVal()</a>ã€‚æˆ‘ä»¬å°†åœ¨ç¬¬16ç« ä¸­å›åˆ°<code>reactiveVal()</code>ï¼Œä½†æˆ‘æƒ³åœ¨è¿™é‡Œå±•ç¤ºå®ƒï¼Œå› ä¸ºå®ƒæ˜¯ä¸€ç§éå¸¸æœ‰ç”¨çš„æŠ€æœ¯ã€‚ä½ å¯èƒ½éœ€è¦åœ¨é˜…è¯»äº†é‚£ç« ä¹‹åé‡æ–°é˜…è¯»è¿™ä¸€èŠ‚ï¼Œä½†å³ä½¿æ²¡æœ‰æ‰€æœ‰çš„ç†è®ºï¼Œä½ ä¹Ÿä¼šå¯¹æ½œåœ¨çš„åº”ç”¨æœ‰æ‰€äº†è§£ã€‚</p>\n<p>æ­£å¦‚ä½ å¯èƒ½ä»åå­—ä¸­çŒœåˆ°çš„é‚£æ ·ï¼Œ<code>reactiveVal()</code> éå¸¸ç±»ä¼¼äº <code>reactive()</code>ã€‚é€šè¿‡è°ƒç”¨å¸¦æœ‰åˆå§‹å€¼çš„ <code>reactiveVal()</code> æ¥åˆ›å»ºååº”æ€§å€¼ï¼Œå¹¶ä»¥ä¸ååº”æ€§ç›¸åŒçš„æ–¹å¼æ£€ç´¢è¯¥å€¼ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">val <span class=\"operator\">&lt;-</span> reactiveVal<span class=\"punctuation\">(</span><span class=\"number\">10</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">val<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">### #&gt; [1] 10</span></span><br></pre></td></tr></table></figure>\n\n<p>æœ€å¤§çš„åŒºåˆ«æ˜¯ï¼Œä½ ä¹Ÿå¯ä»¥æ›´æ–°ä¸€ä¸ªå“åº”å¼å€¼ï¼Œå¹¶ä¸”å¼•ç”¨è¯¥å€¼çš„æ‰€æœ‰ååº”å¼ä½¿ç”¨è€…éƒ½å°†é‡æ–°è®¡ç®—ã€‚å“åº”å¼å€¼ä½¿ç”¨ç‰¹æ®Šçš„è¯­æ³•è¿›è¡Œæ›´æ–°â€”â€”ä½ åƒè°ƒç”¨å‡½æ•°ä¸€æ ·è°ƒç”¨å®ƒï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯æ–°çš„å€¼ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">val<span class=\"punctuation\">(</span><span class=\"number\">20</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">val<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; [1] 20</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ„å‘³ç€ä½¿ç”¨å½“å‰å€¼æ›´æ–°ååº”å€¼çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">val<span class=\"punctuation\">(</span>val<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">val<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; [1] 21</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸å¹¸çš„æ˜¯ï¼Œå¦‚æœä½ çœŸçš„æƒ³åœ¨æ§åˆ¶å°ä¸­è¿è¡Œè¿™æ®µä»£ç ï¼Œä½ ä¼šå¾—åˆ°ä¸€ä¸ªé”™è¯¯ï¼Œå› ä¸ºå®ƒå¿…é¡»åœ¨å“åº”å¼ç¯å¢ƒä¸­è¿è¡Œã€‚è¿™ä½¿å¾—å®éªŒå’Œè°ƒè¯•æ›´å…·æŒ‘æˆ˜æ€§ï¼Œå› ä¸ºä½ éœ€è¦ <a href=\"https://rdrr.io/r/base/browser.html\">browser()</a> æˆ–ç±»ä¼¼æ–¹æ³•æ¥æš‚åœ <a href=\"https://rdrr.io/pkg/shiny/man/shinyApp.html\">shinyApp()</a> è°ƒç”¨ä¸­çš„æ‰§è¡Œã€‚è¿™æ˜¯æˆ‘ä»¬å°†åœ¨ç¬¬ 16 ç« åé¢è®¨è®ºçš„æŒ‘æˆ˜ä¹‹ä¸€ã€‚</p>\n<p>ç°åœ¨ï¼Œè®©æˆ‘ä»¬æŠŠå­¦ä¹  <code>reactiveVal()</code> çš„æŒ‘æˆ˜æ”¾åœ¨ä¸€è¾¹ï¼Œå‘Šè¯‰ä½ ä¸ºä»€ä¹ˆä½ å¯èƒ½ä¼šçƒ¦æ¼ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œæ‚¨æƒ³è¦å¯è§†åŒ–å•å‡»ä¸å›¾ä¸Šçš„ç‚¹ä¹‹é—´çš„è·ç¦»ã€‚åœ¨ä¸‹é¢çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬é¦–å…ˆåˆ›å»ºä¸€ä¸ªååº”å€¼æ¥å­˜å‚¨è¿™äº›è·ç¦»ï¼Œå¹¶ä½¿ç”¨ä¸€ä¸ªå¸¸é‡å¯¹å…¶è¿›è¡Œåˆå§‹åŒ–ï¼Œè¯¥å¸¸é‡å°†åœ¨æˆ‘ä»¬å•å‡»ä»»ä½•å†…å®¹ä¹‹å‰ä½¿ç”¨ã€‚ç„¶åï¼Œæˆ‘ä»¬ä½¿ç”¨ <a href=\"https://rdrr.io/pkg/shiny/man/observeEvent.html\">observeEvent()</a> æ¥æ›´æ–°å•å‡»é¼ æ ‡æ—¶çš„ååº”å€¼ï¼Œå¹¶ä½¿ç”¨ <code>ggplot</code> å¯è§†åŒ–å…·æœ‰ç‚¹å¤§å°çš„è·ç¦»ã€‚æ€»è€Œè¨€ä¹‹ï¼Œè¿™çœ‹èµ·æ¥åƒä¸‹é¢çš„ä»£ç ï¼Œç»“æœå¦‚å›¾ 7.4 æ‰€ç¤ºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">set.seed<span class=\"punctuation\">(</span><span class=\"number\">1014</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">df <span class=\"operator\">&lt;-</span> data.frame<span class=\"punctuation\">(</span>x <span class=\"operator\">=</span> rnorm<span class=\"punctuation\">(</span><span class=\"number\">100</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> y <span class=\"operator\">=</span> rnorm<span class=\"punctuation\">(</span><span class=\"number\">100</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;plot&quot;</span><span class=\"punctuation\">,</span> click <span class=\"operator\">=</span> <span class=\"string\">&quot;plot_click&quot;</span><span class=\"punctuation\">,</span> <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  dist <span class=\"operator\">&lt;-</span> reactiveVal<span class=\"punctuation\">(</span><span class=\"built_in\">rep</span><span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"punctuation\">,</span> nrow<span class=\"punctuation\">(</span>df<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>plot_click<span class=\"punctuation\">,</span></span><br><span class=\"line\">    dist<span class=\"punctuation\">(</span>nearPoints<span class=\"punctuation\">(</span>df<span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>plot_click<span class=\"punctuation\">,</span> allRows <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">,</span> addDist <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>dist_<span class=\"punctuation\">)</span>  </span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>plot <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    df<span class=\"operator\">$</span>dist <span class=\"operator\">&lt;-</span> dist<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    ggplot<span class=\"punctuation\">(</span>df<span class=\"punctuation\">,</span> aes<span class=\"punctuation\">(</span>x<span class=\"punctuation\">,</span> y<span class=\"punctuation\">,</span> size <span class=\"operator\">=</span> dist<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span> </span><br><span class=\"line\">      geom_point<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span> </span><br><span class=\"line\">      scale_size_area<span class=\"punctuation\">(</span>limits <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"number\">1000</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> max_size <span class=\"operator\">=</span> <span class=\"number\">10</span><span class=\"punctuation\">,</span> guide <span class=\"operator\">=</span> <span class=\"literal\">NULL</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/28b14f04bca5f6a00be49c50bdc09220ff421283/059c4/images/action-graphics/modifying-size-1.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/28b14f04bca5f6a00be49c50bdc09220ff421283/059c4/images/action-graphics/modifying-size-1.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾ 7.4 æ­¤åº”ç”¨ä½¿ç”¨ reactiveVal() æ¥å­˜å‚¨åˆ°ä¸Šæ¬¡å•å‡»çš„ç‚¹çš„è·ç¦»ï¼Œç„¶åå°†å…¶æ˜ å°„åˆ°ç‚¹å¤§å°ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘æ˜¾ç¤ºäº†å•å‡»æœ€å·¦ä¾§çš„ç‚¹çš„ç»“æœ See live at https://hadley.shinyapps.io/ms-modifying-size ã€‚\"></p>\n<p>è¿™é‡Œæœ‰ä¸¤ä¸ªé‡è¦çš„ggplot2æŠ€æœ¯éœ€è¦æ³¨æ„ï¼š</p>\n<ul>\n<li>åœ¨ç»˜åˆ¶ä¹‹å‰ï¼Œæˆ‘å°†è·ç¦»æ·»åŠ åˆ°æ•°æ®æ¡†ä¸­ã€‚æˆ‘è®¤ä¸ºåœ¨å¯è§†åŒ–ä¹‹å‰ï¼Œå°†ç›¸å…³å˜é‡æ”¾åœ¨æ•°æ®æ¡†ä¸­æ˜¯ä¸€ç§å¾ˆå¥½çš„åšæ³•ã€‚</li>\n<li>æˆ‘ä¸º <a href=\"https://ggplot2.tidyverse.org/reference/scale_size.html\">scale_size_area()</a> è®¾ç½®äº†é™åˆ¶ï¼Œä»¥ç¡®ä¿ç‚¹å‡»ä¹‹é—´çš„å°ºå¯¸å…·æœ‰å¯æ¯”æ€§ã€‚ä¸ºäº†æ‰¾åˆ°æ­£ç¡®çš„èŒƒå›´ï¼Œæˆ‘åšäº†ä¸€äº›äº¤äº’å¼å®éªŒï¼Œä½†å¦‚æœ‰éœ€è¦ï¼Œæ‚¨å¯ä»¥è®¡ç®—å‡ºç¡®åˆ‡çš„ç»†èŠ‚ï¼ˆå‚è§æœ¬ç« æœ«å°¾çš„ç»ƒä¹ ï¼‰ã€‚</li>\n</ul>\n<p>æœ‰ä¸€ä¸ªæ›´å¤æ‚çš„æƒ³æ³•ã€‚æˆ‘æƒ³ç”¨ç”»ç¬”é€æ­¥æ·»åŠ ç‚¹åˆ°ä¸€ä¸ªé€‰æ‹©ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä½¿ç”¨ä¸åŒçš„é¢œè‰²æ˜¾ç¤ºé€‰æ‹©ï¼Œä½†ä½ å¯ä»¥æƒ³è±¡è®¸å¤šå…¶ä»–çš„åº”ç”¨ç¨‹åºã€‚ä¸ºäº†ä½¿è¿™ä¸ªå·¥ä½œï¼Œæˆ‘å°†<code>reactiveVal()</code>åˆå§‹åŒ–ä¸ºä¸€ä¸ª<code>FALSE</code>çš„å‘é‡ï¼Œç„¶åä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/brushedPoints.html\">brushedPoints()</a>å’Œ|å°†ç”»ç¬”ä¸‹çš„ä»»ä½•ç‚¹æ·»åŠ åˆ°é€‰æ‹©ã€‚ä¸ºäº†ç»™ç”¨æˆ·ä¸€ç§é‡æ–°å¼€å§‹çš„æ–¹å¼ï¼Œæˆ‘åŒå‡»é‡ç½®é€‰æ‹©ã€‚å›¾7.5æ˜¾ç¤ºäº†è¿è¡Œåº”ç”¨ç¨‹åºçš„å‡ ä¸ªæˆªå›¾ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;plot&quot;</span><span class=\"punctuation\">,</span> brush <span class=\"operator\">=</span> <span class=\"string\">&quot;plot_brush&quot;</span><span class=\"punctuation\">,</span> dblclick <span class=\"operator\">=</span> <span class=\"string\">&quot;plot_reset&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  selected <span class=\"operator\">&lt;-</span> reactiveVal<span class=\"punctuation\">(</span><span class=\"built_in\">rep</span><span class=\"punctuation\">(</span><span class=\"literal\">FALSE</span><span class=\"punctuation\">,</span> nrow<span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>plot_brush<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    brushed <span class=\"operator\">&lt;-</span> brushedPoints<span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>plot_brush<span class=\"punctuation\">,</span> allRows <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span><span class=\"operator\">$</span>selected_</span><br><span class=\"line\">    selected<span class=\"punctuation\">(</span>brushed <span class=\"operator\">|</span> selected<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  observeEvent<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>plot_reset<span class=\"punctuation\">,</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    selected<span class=\"punctuation\">(</span><span class=\"built_in\">rep</span><span class=\"punctuation\">(</span><span class=\"literal\">FALSE</span><span class=\"punctuation\">,</span> nrow<span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">  output<span class=\"operator\">$</span>plot <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    mtcars<span class=\"operator\">$</span>sel <span class=\"operator\">&lt;-</span> selected<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    ggplot<span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">,</span> aes<span class=\"punctuation\">(</span>wt<span class=\"punctuation\">,</span> mpg<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span> </span><br><span class=\"line\">      geom_point<span class=\"punctuation\">(</span>aes<span class=\"punctuation\">(</span>colour <span class=\"operator\">=</span> sel<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span></span><br><span class=\"line\">      scale_colour_discrete<span class=\"punctuation\">(</span>limits <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;TRUE&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;FALSE&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/da63b234ad81bc5e1e592a904a1eaed0f4ee092d/794de/images/action-graphics/persistent-1.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/da63b234ad81bc5e1e592a904a1eaed0f4ee092d/794de/images/action-graphics/persistent-1.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\"><br><img src=\"https://d33wubrfki0l68.cloudfront.net/8c5a7aead6640c2720f28c4d05925d3a29e92730/e8f2e/images/action-graphics/persistent-3.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/8c5a7aead6640c2720f28c4d05925d3a29e92730/e8f2e/images/action-graphics/persistent-3.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾ 7.5 æ­¤åº”ç”¨ç¨‹åºä½¿ç”»ç¬”â€œæŒç»­â€ï¼Œå› æ­¤æ‹–åŠ¨å®ƒä¼šå¢åŠ å½“å‰é€‰æ‹©ã€‚\"></p>\n<p>å†æ¬¡ï¼Œæˆ‘è®¾å®šäº†æ¯”ä¾‹çš„é™åˆ¶ï¼Œä»¥ç¡®ä¿å›¾ä¾‹ï¼ˆå’Œé¢œè‰²ï¼‰åœ¨ç¬¬ä¸€æ¬¡ç‚¹å‡»åä¸ä¼šæ”¹å˜ã€‚</p>\n<h3 id=\"7-1-6-äº’åŠ¨é™åˆ¶\"><a href=\"#7-1-6-äº’åŠ¨é™åˆ¶\" class=\"headerlink\" title=\"7.1.6 äº’åŠ¨é™åˆ¶\"></a>7.1.6 äº’åŠ¨é™åˆ¶</h3><p>åœ¨æˆ‘ä»¬ç»§ç»­ä¹‹å‰ï¼Œäº†è§£äº¤äº’å¼å›¾ä¸­çš„åŸºæœ¬æ•°æ®æµä»¥äº†è§£å…¶å±€é™æ€§éå¸¸é‡è¦ã€‚åŸºæœ¬æµç¨‹æ˜¯è¿™æ ·çš„ï¼š</p>\n<ul>\n<li>JavaScriptæ•è·é¼ æ ‡äº‹ä»¶ã€‚</li>\n<li>Shinyå°†é¼ æ ‡äº‹ä»¶æ•°æ®å‘é€å›Rï¼Œå‘Šè¯‰åº”ç”¨ç¨‹åºè¾“å…¥å·²è¿‡æ—¶ã€‚</li>\n<li>é‡æ–°è®¡ç®—æ‰€æœ‰ä¸‹æ¸¸ååº”å¼ä½¿ç”¨è€…ã€‚</li>\n<li><code>plotOutput()</code>ç”Ÿæˆä¸€ä¸ªæ–°çš„PNGå¹¶å°†å…¶å‘é€åˆ°æµè§ˆå™¨ã€‚</li>\n</ul>\n<p>å¯¹äºæœ¬åœ°åº”ç”¨ç¨‹åºï¼Œç“¶é¢ˆå¾€å¾€æ˜¯ç»˜åˆ¶å›¾è¡¨æ‰€èŠ±è´¹çš„æ—¶é—´ã€‚æ ¹æ®å›¾è¡¨çš„å¤æ‚ç¨‹åº¦ï¼Œè¿™å¯èƒ½éœ€è¦å‡ åˆ†ä¹‹ä¸€ç§’çš„æ—¶é—´ã€‚ä½†å¯¹äºæ‰˜ç®¡åº”ç”¨ç¨‹åºï¼Œæ‚¨è¿˜å¿…é¡»è€ƒè™‘å°†äº‹ä»¶ä»æµè§ˆå™¨ä¼ è¾“åˆ°Ræ‰€éœ€çš„æ—¶é—´ï¼Œç„¶åå°†æ¸²æŸ“çš„å›¾è¡¨ä»Rä¼ è¾“å›æµè§ˆå™¨ã€‚</p>\n<p>ä¸€èˆ¬æ¥è¯´ï¼Œè¿™æ„å‘³ç€ä¸å¯èƒ½åˆ›å»ºåŠ¨ä½œå’Œå“åº”è¢«è§†ä¸ºå³æ—¶çš„Shinyåº”ç”¨ç¨‹åºï¼ˆå³ç»˜å›¾ä¼¼ä¹ä¸æ‚¨çš„æ“ä½œåŒæ—¶æ›´æ–°ï¼‰ã€‚å¦‚æœæ‚¨éœ€è¦è¿™ç§é€Ÿåº¦ï¼Œæ‚¨å¿…é¡»åœ¨JavaScriptä¸­æ‰§è¡Œæ›´å¤šçš„è®¡ç®—ã€‚ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ä¸€ä¸ªå°è£…äº†JavaScriptå›¾å½¢åº“çš„RåŒ…ã€‚ç°åœ¨ï¼Œåœ¨æˆ‘å†™è¿™æœ¬ä¹¦çš„æ—¶å€™ï¼Œæˆ‘è®¤ä¸ºä½ ä¼šå¾—åˆ°<code>plotly</code>åŒ…çš„æœ€ä½³ä½“éªŒï¼Œæ­£å¦‚Carson Sievertåœ¨ã€Š<a href=\"https://plotly-r.com/\">ä½¿ç”¨Rã€plotlyå’Œshinyè¿›è¡ŒåŸºäºWebçš„äº¤äº’å¼æ•°æ®å¯è§†åŒ–</a>ã€‹ä¸€ä¹¦ä¸­æ‰€è¿°ã€‚</p>\n<h2 id=\"7-2-åŠ¨æ€é«˜åº¦å’Œå®½åº¦\"><a href=\"#7-2-åŠ¨æ€é«˜åº¦å’Œå®½åº¦\" class=\"headerlink\" title=\"7.2 åŠ¨æ€é«˜åº¦å’Œå®½åº¦\"></a>7.2 åŠ¨æ€é«˜åº¦å’Œå®½åº¦</h2><p>æœ¬ç« çš„å…¶ä½™éƒ¨åˆ†ä¸å¦‚äº¤äº’å¼å›¾å½¢é‚£ä¹ˆä»¤äººå…´å¥‹ï¼Œä½†åŒ…å«äº†ä¸€äº›é‡è¦çš„å†…å®¹ã€‚</p>\n<p>é¦–å…ˆï¼Œå¯ä»¥ä½¿ç»˜å›¾å¤§å°å…·æœ‰ååº”æ€§ï¼Œå› æ­¤å®½åº¦å’Œé«˜åº¦ä¼šæ ¹æ®ç”¨æˆ·æ“ä½œè€Œå˜åŒ–ã€‚ä¸ºæ­¤ï¼Œå‘<code>renderPlot()</code>çš„<code>width</code>å’Œ<code>height</code>å‚æ•°æä¾›é›¶å‚æ•°å‡½æ•°ï¼Œè¿™äº›å‚æ•°ç°åœ¨å¿…é¡»åœ¨serverä¸­å®šä¹‰ï¼Œè€Œä¸æ˜¯åœ¨UIä¸­å®šä¹‰ï¼Œå› ä¸ºå®ƒä»¬å¯ä»¥æ›´æ”¹ã€‚è¿™äº›å‡½æ•°ä¸åº”æœ‰å‚æ•°ï¼Œå¹¶è¿”å›æ‰€éœ€çš„å¤§å°ï¼ˆä»¥åƒç´ ä¸ºå•ä½ï¼‰ã€‚å®ƒä»¬åœ¨ååº”å¼ç¯å¢ƒä¸­è¿›è¡Œè¯„ä¼°ï¼Œä»¥ä¾¿æ‚¨å¯ä»¥åŠ¨æ€åœ°è°ƒæ•´ç»˜å›¾çš„å¤§å°ã€‚</p>\n<p>ä»¥ä¸‹åº”ç”¨ç¨‹åºæ¼”ç¤ºäº†åŸºæœ¬æ€æƒ³ã€‚å®ƒæä¾›äº†ä¸¤ä¸ªç›´æ¥æ§åˆ¶ç»˜å›¾å¤§å°çš„æ»‘å—ã€‚å›¾ 7.6 ä¸­æ˜¾ç¤ºäº†å‡ ä¸ªç¤ºä¾‹å±å¹•æˆªå›¾ã€‚è¯·æ³¨æ„ï¼Œå½“æ‚¨è°ƒæ•´ç»˜å›¾å¤§å°æ—¶ï¼Œæ•°æ®ä¿æŒä¸å˜ï¼šæ‚¨ä¸ä¼šè·å¾—æ–°çš„éšæœºæ•°ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;height&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;height&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">100</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">500</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">250</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;width&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;width&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">100</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">500</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">250</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;plot&quot;</span><span class=\"punctuation\">,</span> width <span class=\"operator\">=</span> <span class=\"number\">250</span><span class=\"punctuation\">,</span> height <span class=\"operator\">=</span> <span class=\"number\">250</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>plot <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span></span><br><span class=\"line\">    width <span class=\"operator\">=</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> input<span class=\"operator\">$</span>width<span class=\"punctuation\">,</span></span><br><span class=\"line\">    height <span class=\"operator\">=</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> input<span class=\"operator\">$</span>height<span class=\"punctuation\">,</span></span><br><span class=\"line\">    res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">      plot<span class=\"punctuation\">(</span>rnorm<span class=\"punctuation\">(</span><span class=\"number\">20</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> rnorm<span class=\"punctuation\">(</span><span class=\"number\">20</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n\n<table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td><img src=\"https://d33wubrfki0l68.cloudfront.net/187b93086b15e4f5f6afe04cb609019d1a37b424/537a6/demos/action-graphics/resize-narrow.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/187b93086b15e4f5f6afe04cb609019d1a37b424/537a6/demos/action-graphics/resize-narrow.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\"></td>\n<td><img src=\"https://d33wubrfki0l68.cloudfront.net/46c07091eaf6a8cd82a342e6fc55692e54740b7c/d0566/demos/action-graphics/resize-wide.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/46c07091eaf6a8cd82a342e6fc55692e54740b7c/d0566/demos/action-graphics/resize-wide.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾ 7.6 æ‚¨å¯ä»¥ä½¿ç»˜å›¾å¤§å°åŠ¨æ€åŒ–ï¼Œä»¥ä¾¿å®ƒå“åº”ç”¨æˆ·æ“ä½œã€‚è¯¥å›¾æ˜¾ç¤ºäº†æ›´æ”¹å®½åº¦çš„æ•ˆæœã€‚åœ¨ https://hadley.shinyapps.io/ms-resize ä¸ŠæŸ¥çœ‹æ¼”ç¤ºã€‚\"></td>\n</tr>\n<tr>\n<td>å›¾ 7.6 æ‚¨å¯ä»¥ä½¿ç»˜å›¾å¤§å°åŠ¨æ€åŒ–ï¼Œä»¥ä¾¿å®ƒå“åº”ç”¨æˆ·æ“ä½œã€‚è¯¥å›¾æ˜¾ç¤ºäº†æ›´æ”¹å®½åº¦çš„æ•ˆæœã€‚</td>\n<td>åœ¨ <a href=\"https://hadley.shinyapps.io/ms-resize\">https://hadley.shinyapps.io/ms-resize</a> ä¸ŠæŸ¥çœ‹æ¼”ç¤ºã€‚</td>\n</tr>\n<tr>\n<td>åœ¨å®é™…åº”ç”¨ä¸­ï¼Œæ‚¨å°†åœ¨ <code>width</code> å’Œ <code>height</code> å‡½æ•°ä¸­ä½¿ç”¨æ›´å¤æ‚çš„è¡¨è¾¾å¼ã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨åœ¨ ggplot2 ä¸­ä½¿ç”¨åˆ†é¢å›¾ï¼Œåˆ™å¯ä»¥ä½¿ç”¨å®ƒæ¥å¢åŠ å›¾çš„å¤§å°ï¼Œä»¥ä¿æŒå„ä¸ªåˆ†é¢å¤§å°å¤§è‡´ç›¸åŒã€‚</td>\n<td></td>\n</tr>\n</tbody></table>\n<h2 id=\"7-3-å›¾ç‰‡\"><a href=\"#7-3-å›¾ç‰‡\" class=\"headerlink\" title=\"7.3 å›¾ç‰‡\"></a>7.3 å›¾ç‰‡</h2><p>å¦‚æœè¦æ˜¾ç¤ºç°æœ‰å›¾åƒï¼ˆè€Œä¸æ˜¯ç»˜å›¾ï¼‰ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ <a href=\"https://rdrr.io/pkg/shiny/man/renderImage.html\">renderImage()</a> ã€‚ä¾‹å¦‚ï¼Œæ‚¨å¯èƒ½æœ‰ä¸€ä¸ªè¦å‘ç”¨æˆ·æ˜¾ç¤ºçš„ç…§ç‰‡ç›®å½•ã€‚ä»¥ä¸‹åº”ç”¨é€šè¿‡å±•ç¤ºå¯çˆ±çš„å°ç‹—ç…§ç‰‡æ¥è¯´æ˜ <code>renderImage()</code> çš„åŸºç¡€çŸ¥è¯†ã€‚è¿™äº›ç…§ç‰‡æ¥è‡ª <a href=\"https://unsplash.com/\">https://unsplash.com</a> ï¼Œæˆ‘æœ€å–œæ¬¢çš„å…ç‰ˆç¨åº“å­˜ç…§ç‰‡æ¥æºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">puppies <span class=\"operator\">&lt;-</span> tibble<span class=\"operator\">::</span>tribble<span class=\"punctuation\">(</span></span><br><span class=\"line\">  <span class=\"operator\">~</span>breed<span class=\"punctuation\">,</span> <span class=\"operator\">~</span> id<span class=\"punctuation\">,</span> <span class=\"operator\">~</span>author<span class=\"punctuation\">,</span> </span><br><span class=\"line\">  <span class=\"string\">&quot;corgi&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;eoqnr8ikwFE&quot;</span><span class=\"punctuation\">,</span><span class=\"string\">&quot;alvannee&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"string\">&quot;labrador&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;KCdYn0xu2fU&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;shaneguymon&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"string\">&quot;spaniel&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;TzjMd7i5WQI&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;_redo_&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  selectInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;id&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Pick a breed&quot;</span><span class=\"punctuation\">,</span> choices <span class=\"operator\">=</span> setNames<span class=\"punctuation\">(</span>puppies<span class=\"operator\">$</span>id<span class=\"punctuation\">,</span> puppies<span class=\"operator\">$</span>breed<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  htmlOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;source&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  imageOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;photo&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>photo <span class=\"operator\">&lt;-</span> renderImage<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    <span class=\"built_in\">list</span><span class=\"punctuation\">(</span></span><br><span class=\"line\">      src <span class=\"operator\">=</span> file.path<span class=\"punctuation\">(</span><span class=\"string\">&quot;puppy-photos&quot;</span><span class=\"punctuation\">,</span> paste0<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>id<span class=\"punctuation\">,</span> <span class=\"string\">&quot;.jpg&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      contentType <span class=\"operator\">=</span> <span class=\"string\">&quot;image/jpeg&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      width <span class=\"operator\">=</span> <span class=\"number\">500</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      height <span class=\"operator\">=</span> <span class=\"number\">650</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span> deleteFile <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>source <span class=\"operator\">&lt;-</span> renderUI<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    info <span class=\"operator\">&lt;-</span> puppies<span class=\"punctuation\">[</span>puppies<span class=\"operator\">$</span>id <span class=\"operator\">==</span> input<span class=\"operator\">$</span>id<span class=\"punctuation\">,</span> <span class=\"punctuation\">,</span> drop <span class=\"operator\">=</span> <span class=\"literal\">FALSE</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">    HTML<span class=\"punctuation\">(</span>glue<span class=\"operator\">::</span>glue<span class=\"punctuation\">(</span><span class=\"string\">&quot;&lt;p&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a href=&#x27;https://unsplash.com/photos/&#123;info$id&#125;&#x27;&gt;original&lt;/a&gt; by</span></span><br><span class=\"line\"><span class=\"string\">      &lt;a href=&#x27;https://unsplash.com/@&#123;info$author&#125;&#x27;&gt;&#123;info$author&#125;&lt;/a&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/p&gt;&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/70de2ab74b8c9f3984ea503ef40af3930324c62a/43790/demos/action-graphics/puppies-corgi.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/70de2ab74b8c9f3984ea503ef40af3930324c62a/43790/demos/action-graphics/puppies-corgi.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾ 7.7 ä½¿ç”¨ renderImage() æ˜¾ç¤ºå°ç‹—å¯çˆ±å›¾ç‰‡çš„åº”ç”¨ã€‚åœ¨ https://hadley.shinyapps.io/ms-puppies ä¸ŠæŸ¥çœ‹æ¼”ç¤ºã€‚\"><br><code>renderImage()</code> éœ€è¦è¿”å›ä¸€ä¸ªåˆ—è¡¨ã€‚å”¯ä¸€å…³é”®çš„å‚æ•°æ˜¯ <code>src</code>ï¼Œä¸€ä¸ªæŒ‡å‘å›¾åƒæ–‡ä»¶çš„æœ¬åœ°è·¯å¾„ã€‚æ­¤å¤–ï¼Œæ‚¨è¿˜å¯ä»¥æä¾›ï¼š</p>\n<ul>\n<li><p><code>content-type</code>ï¼Œå®ƒå®šä¹‰äº†å›¾åƒçš„ MIME ç±»å‹ã€‚å¦‚æœæ²¡æœ‰æä¾›ï¼ŒShiny å°†ä»æ–‡ä»¶æ‰©å±•åä¸­çŒœæµ‹ï¼Œå› æ­¤åªæœ‰åœ¨å›¾åƒæ²¡æœ‰æ‰©å±•åæ—¶æ‰éœ€è¦æä¾›æ­¤å†…å®¹ã€‚</p>\n</li>\n<li><p>å›¾åƒçš„<code>width</code> å’Œ <code>height</code>ï¼ˆå¦‚æœå·²çŸ¥ï¼‰ã€‚</p>\n</li>\n<li><p>ä»»ä½•å…¶ä»–å‚æ•°ï¼Œå¦‚ <code>class</code> æˆ– <code>alt</code>ï¼Œéƒ½å°†ä½œä¸ºå±æ€§æ·»åŠ åˆ° HTML ä¸­çš„<code>&lt;img&gt;</code>æ ‡è®°ä¸­ã€‚</p>\n</li>\n</ul>\n<p>æ‚¨è¿˜å¿…é¡»æä¾›<code>deleteFile</code>å‚æ•°ã€‚ä¸å¹¸çš„æ˜¯ï¼Œ<code>renderImage()</code>æœ€åˆæ˜¯è®¾è®¡ç”¨äºå¤„ç†ä¸´æ—¶æ–‡ä»¶çš„ï¼Œå› æ­¤åœ¨æ¸²æŸ“åä¼šè‡ªåŠ¨åˆ é™¤å›¾åƒã€‚è¿™æ˜¾ç„¶æ˜¯éå¸¸å±é™©çš„ï¼Œå› æ­¤åœ¨Shiny 1.5.0ä¸­æ”¹å˜äº†è¡Œä¸ºã€‚ç°åœ¨Shinyä¸å†åˆ é™¤å›¾åƒï¼Œè€Œæ˜¯å¼ºåˆ¶æ‚¨æ˜ç¡®é€‰æ‹©æƒ³è¦çš„è¡Œä¸ºã€‚</p>\n<p>ä½ å¯ä»¥åœ¨<br><a href=\"https://shiny.rstudio.com/articles/images.html\">https://shiny.rstudio.com/articles/images.html</a><br>äº†è§£æ›´å¤šå…³äº <code>renderImage()</code> çš„ä¿¡æ¯ï¼Œå¹¶æŸ¥çœ‹ä½ å¯èƒ½ä½¿ç”¨å®ƒçš„å…¶ä»–æ–¹å¼ã€‚</p>\n<h2 id=\"7-4-æ€»ç»“\"><a href=\"#7-4-æ€»ç»“\" class=\"headerlink\" title=\"7.4 æ€»ç»“\"></a>7.4 æ€»ç»“</h2><p>å¯è§†åŒ–æ˜¯æ•°æ®äº¤æµçš„å¼ºå¤§æ–¹å¼ï¼Œæœ¬ç« ä¸ºæ‚¨æä¾›äº†å‡ ç§é«˜çº§æŠ€æœ¯æ¥å¢å¼ºæ‚¨çš„Shinyåº”ç”¨ç¨‹åºã€‚æ¥ä¸‹æ¥ï¼Œæ‚¨å°†å­¦ä¹ å‘ç”¨æˆ·æä¾›æœ‰å…³åº”ç”¨ç¨‹åºä¸­æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…çš„åé¦ˆçš„æŠ€æœ¯ï¼Œè¿™å¯¹äºéœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´çš„æ“ä½œå°¤ä¸ºé‡è¦ã€‚</p>\n<h1 id=\"åŠ å…³æ³¨\"><a href=\"#åŠ å…³æ³¨\" class=\"headerlink\" title=\"åŠ å…³æ³¨\"></a>åŠ å…³æ³¨</h1><p>å…³æ³¨å…¬ä¼—å·â€œç”Ÿä¿¡ä¹‹å·…â€ã€‚</p>\n<table align=\"center\"><tr>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å¾®ä¿¡å…¬ä¼—å·\" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-right: 0px;margin-bottom: 5px;align: center;\"></td>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å°ç¨‹åºç \" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-left: 0px;margin-bottom: 5px;align: center\"></td>\n</tr></table>\n\n\n<p><font color=\"#FF0000\"><ruby><b>æ•¬å‘Š</b>ï¼šä½¿ç”¨æ–‡ä¸­è„šæœ¬è¯·å¼•ç”¨æœ¬æ–‡ç½‘å€ï¼Œè¯·å°Šé‡æœ¬äººçš„åŠ³åŠ¨æˆæœï¼Œè°¢è°¢ï¼<rt><b>Notice</b>: When you use the scripts in this article, please cite the link of this webpage. Thank you!</rt></ruby></font></p>\n","raw":null,"categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"ç¼–ç¨‹","path":"api/tags/ç¼–ç¨‹.json"},{"name":"Shinyå…¥é—¨ç³»åˆ—","path":"api/tags/Shinyå…¥é—¨ç³»åˆ—.json"}]},{"title":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”6-å¸ƒå±€ã€ä¸»é¢˜ã€HTML","slug":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”6-å¸ƒå±€ã€ä¸»é¢˜ã€HTML","date":"2024-01-25T13:49:44.000Z","updated":"2024-03-11T13:07:17.000Z","comments":true,"path":"api/articles/Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”6-å¸ƒå±€ã€ä¸»é¢˜ã€HTML.json","excerpt":null,"keywords":null,"cover":"https://d33wubrfki0l68.cloudfront.net/ad1d199cecafc2c2be10425930b1dcfb5e8dd5d7/1f5c9/images/action-layout/fluid-page.png","content":"<h1 id=\"6-å¸ƒå±€ï¼Œä¸»é¢˜ï¼ŒHTML\"><a href=\"#6-å¸ƒå±€ï¼Œä¸»é¢˜ï¼ŒHTML\" class=\"headerlink\" title=\"6 å¸ƒå±€ï¼Œä¸»é¢˜ï¼ŒHTML\"></a>6 å¸ƒå±€ï¼Œä¸»é¢˜ï¼ŒHTML</h1><ul>\n<li>ç¬¬6ç« è¯¦ç»†ä»‹ç»äº†åœ¨é¡µé¢ä¸Šå¸ƒå±€è¾“å…¥å’Œè¾“å‡ºç»„ä»¶çš„å„ç§æ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ä¸»é¢˜å®šåˆ¶å®ƒä»¬çš„å¤–è§‚ã€‚</li>\n</ul>\n<h2 id=\"6-1-å‰è¨€\"><a href=\"#6-1-å‰è¨€\" class=\"headerlink\" title=\"6.1 å‰è¨€\"></a>6.1 å‰è¨€</h2><p>åœ¨æœ¬ç« ä¸­ï¼Œä½ å°†è§£é”ä¸€äº›æ§åˆ¶åº”ç”¨ç¨‹åºæ•´ä½“å¤–è§‚çš„æ–°å·¥å…·ã€‚æˆ‘ä»¬å°†é¦–å…ˆè®¨è®ºé¡µé¢å¸ƒå±€ï¼ˆåŒ…æ‹¬å•é¡µå’Œâ€œå¤šé¡µâ€ï¼‰ï¼Œè®©ä½ ç»„ç»‡ä½ çš„è¾“å…¥å’Œè¾“å‡ºã€‚ç„¶åä½ å°†å­¦ä¹ Bootstrapï¼ŒShinyä½¿ç”¨çš„CSSå·¥å…·åŒ…ï¼Œä»¥åŠå¦‚ä½•ç”¨ä¸»é¢˜å®šåˆ¶å®ƒçš„æ•´ä½“è§†è§‰å¤–è§‚ã€‚æœ€åï¼Œæˆ‘ä»¬å°†ç®€è¦è®¨è®ºä¸€ä¸‹å¹•åå‘ç”Ÿäº†ä»€ä¹ˆï¼Œè¿™æ ·å¦‚æœä½ çŸ¥é“HTMLå’ŒCSSï¼Œä½ å°±å¯ä»¥è¿›ä¸€æ­¥å®šåˆ¶Shinyåº”ç”¨ç¨‹åºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>shiny<span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"6-2-å•é¡µå¸ƒå±€\"><a href=\"#6-2-å•é¡µå¸ƒå±€\" class=\"headerlink\" title=\"6.2 å•é¡µå¸ƒå±€\"></a>6.2 å•é¡µå¸ƒå±€</h2><p>åœ¨ç¬¬2ç« ä¸­ï¼Œä½ å­¦ä¹ äº†æ„æˆåº”ç”¨ç¨‹åºäº¤äº’ç»„ä»¶çš„è¾“å…¥å’Œè¾“å‡ºã€‚ä½†æ˜¯æˆ‘æ²¡æœ‰è°ˆåˆ°å¦‚ä½•åœ¨é¡µé¢ä¸Šå¸ƒå±€å®ƒä»¬ï¼Œè€Œæ˜¯ä½¿ç”¨ <a href=\"https://rdrr.io/pkg/shiny/man/fluidPage.html\">fluidPage()</a> å°½å¯èƒ½å¿«åœ°å°†å®ƒä»¬æ‹¼å‡‘åœ¨ä¸€èµ·ã€‚è™½ç„¶è¿™å¯¹äºå­¦ä¹  Shiny æ¥è¯´æ˜¯å¾ˆå¥½çš„ï¼Œä½†å®ƒå¹¶ä¸èƒ½åˆ›å»ºå¯ç”¨æˆ–è§†è§‰ä¸Šå¸å¼•äººçš„åº”ç”¨ç¨‹åºï¼Œæ‰€ä»¥ç°åœ¨æ˜¯æ—¶å€™å­¦ä¹ ä¸€äº›æ›´å¤šçš„å¸ƒå±€å‡½æ•°äº†ã€‚</p>\n<p>å¸ƒå±€åŠŸèƒ½æä¾›äº†åº”ç”¨ç¨‹åºçš„é«˜çº§è§†è§‰ç»“æ„ã€‚å¸ƒå±€ç”±å‡½æ•°è°ƒç”¨çš„å±‚æ¬¡ç»“æ„åˆ›å»ºï¼Œå…¶ä¸­Rä¸­çš„å±‚æ¬¡ç»“æ„ä¸ç”Ÿæˆçš„HTMLä¸­çš„å±‚æ¬¡ç»“æ„ç›¸åŒ¹é…ã€‚è¿™æœ‰åŠ©äºæ‚¨ç†è§£å¸ƒå±€ä»£ç ã€‚ä¾‹å¦‚ï¼Œå½“æ‚¨æŸ¥çœ‹è¿™æ ·çš„å¸ƒå±€ä»£ç æ—¶ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  titlePanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;Hello Shiny!&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">    sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;obs&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Observations:&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">1000</span><span class=\"punctuation\">,</span> value <span class=\"operator\">=</span> <span class=\"number\">500</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;distPlot&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>å…³æ³¨å‡½æ•°è°ƒç”¨çš„å±‚æ¬¡ç»“æ„ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  titlePanel<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">    sidebarPanel<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    mainPanel<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>å³ä½¿ä½ è¿˜æ²¡æœ‰å­¦ä¹ è¿™äº›å‡½æ•°ï¼Œé€šè¿‡é˜…è¯»å®ƒä»¬çš„åå­—ï¼Œä½ ä¹Ÿå¯ä»¥çŒœåˆ°å‘ç”Ÿäº†ä»€ä¹ˆã€‚ä½ å¯èƒ½ä¼šæƒ³è±¡è¿™æ®µä»£ç ä¼šç”Ÿæˆä¸€ä¸ªç»å…¸çš„åº”ç”¨ç¨‹åºè®¾è®¡ï¼šé¡¶éƒ¨æœ‰ä¸€ä¸ªæ ‡é¢˜æ ï¼Œåé¢æ˜¯ä¸€ä¸ªä¾§è¾¹æ ï¼ˆåŒ…å«ä¸€ä¸ªæ»‘å—ï¼‰å’Œä¸»é¢æ¿ï¼ˆåŒ…å«ä¸€ä¸ªç»˜å›¾ï¼‰ã€‚é€šè¿‡ç¼©è¿›è½»æ¾æŸ¥çœ‹å±‚æ¬¡ç»“æ„çš„èƒ½åŠ›æ˜¯ä½¿ç”¨ä¸€è‡´é£æ ¼çš„ä¸€ä¸ªå¥½ä¸»æ„çš„åŸå› ä¹‹ä¸€ã€‚</p>\n<p>åœ¨æœ¬èŠ‚çš„å‰©ä½™éƒ¨åˆ†ä¸­ï¼Œæˆ‘å°†è®¨è®ºå¸®åŠ©æ‚¨è®¾è®¡å•é¡µåº”ç”¨ç¨‹åºçš„åŠŸèƒ½ï¼Œç„¶ååœ¨ä¸‹ä¸€èŠ‚ä¸­è®¨è®ºå¤šé¡µåº”ç”¨ç¨‹åºã€‚æˆ‘è¿˜å»ºè®®æ‚¨æŸ¥çœ‹Shiny Applicationå¸ƒå±€æŒ‡å—ï¼›å®ƒæœ‰ç‚¹è¿‡æ—¶ï¼Œä½†åŒ…å«ä¸€äº›æœ‰ç”¨çš„ç²¾åã€‚</p>\n<h3 id=\"6-2-1-é¡µé¢åŠŸèƒ½\"><a href=\"#6-2-1-é¡µé¢åŠŸèƒ½\" class=\"headerlink\" title=\"6.2.1 é¡µé¢åŠŸèƒ½\"></a>6.2.1 é¡µé¢åŠŸèƒ½</h3><p>æœ€é‡è¦çš„ï¼Œä½†æœ€æ— è¶£çš„å¸ƒå±€å‡½æ•°æ˜¯ <a href=\"https://rdrr.io/pkg/shiny/man/fluidPage.html\">fluidPage()</a>ï¼Œåˆ°ç›®å‰ä¸ºæ­¢ï¼Œæ‚¨åœ¨å‡ ä¹æ¯ä¸ªç¤ºä¾‹ä¸­éƒ½çœ‹åˆ°äº†å®ƒã€‚ä½†æ˜¯å®ƒåšäº†ä»€ä¹ˆï¼Œå¦‚æœå•ç‹¬ä½¿ç”¨å®ƒä¼šæ€ä¹ˆæ ·ï¼Ÿå›¾6.1æ˜¾ç¤ºäº†ç»“æœï¼šå®ƒçœ‹èµ·æ¥åƒä¸€ä¸ªéå¸¸æ— èŠçš„åº”ç”¨ç¨‹åºï¼Œä½†å¹•åæœ‰å¾ˆå¤šäº‹æƒ…ï¼Œå› ä¸º <code>fluidPage()</code> è®¾ç½®äº† Shiny æ‰€éœ€çš„æ‰€æœ‰ HTMLã€CSS å’Œ JavaScriptã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/ad1d199cecafc2c2be10425930b1dcfb5e8dd5d7/1f5c9/images/action-layout/fluid-page.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/ad1d199cecafc2c2be10425930b1dcfb5e8dd5d7/1f5c9/images/action-layout/fluid-page.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾6.1 ä»…ç”± fluidPage() æ„æˆçš„UI\"></p>\n<p>é™¤äº†<code>fluidPage()</code>ï¼ŒShinyè¿˜æä¾›äº†å…¶ä»–å‡ ä¸ªé¡µé¢å‡½æ•°ï¼Œåœ¨æ›´ç‰¹æ®Šçš„æƒ…å†µä¸‹å¯ä»¥æ´¾ä¸Šç”¨åœºï¼š<a href=\"https://rdrr.io/pkg/shiny/man/fixedPage.html\">fixedPage()</a>å’Œ<a href=\"https://rdrr.io/pkg/shiny/man/fillPage.html\">fillPage()</a>ã€‚<code>fixedPage()</code>çš„å·¥ä½œåŸç†ç±»ä¼¼äº<code>fluidPage()</code>ï¼Œä½†æœ‰ä¸€ä¸ªå›ºå®šçš„æœ€å¤§å®½åº¦ï¼Œå¯ä»¥é˜²æ­¢ä½ çš„åº”ç”¨ç¨‹åºåœ¨æ›´å¤§çš„å±å¹•ä¸Šå˜å¾—ä¸åˆç†åœ°å®½ã€‚<code>fillPage()</code>å¡«å……æµè§ˆå™¨çš„æ•´ä¸ªé«˜åº¦ï¼Œå¦‚æœä½ æƒ³åˆ¶ä½œä¸€ä¸ªå æ®æ•´ä¸ªå±å¹•çš„å›¾è¡¨ï¼Œå®ƒå¾ˆæœ‰ç”¨ã€‚ä½ å¯ä»¥åœ¨ä»–ä»¬çš„æ–‡æ¡£ä¸­æ‰¾åˆ°è¯¦ç»†ä¿¡æ¯ã€‚</p>\n<h3 id=\"6-2-2-å¸¦ä¾§è¾¹æ çš„é¡µé¢\"><a href=\"#6-2-2-å¸¦ä¾§è¾¹æ çš„é¡µé¢\" class=\"headerlink\" title=\"6.2.2 å¸¦ä¾§è¾¹æ çš„é¡µé¢\"></a>6.2.2 å¸¦ä¾§è¾¹æ çš„é¡µé¢</h3><p>è¦åˆ¶ä½œæ›´å¤æ‚çš„å¸ƒå±€ï¼Œæ‚¨éœ€è¦åœ¨ <code>fluidPage()</code> ä¸­è°ƒç”¨å¸ƒå±€å‡½æ•°ã€‚ä¾‹å¦‚ï¼Œè¦åˆ¶ä½œå·¦ä¾§æœ‰è¾“å…¥ã€å³ä¾§æœ‰è¾“å‡ºçš„ä¸¤åˆ—å¸ƒå±€ï¼Œå¯ä»¥ä½¿ç”¨ <a href=\"https://rdrr.io/pkg/shiny/man/sidebarLayout.html\">sidebarLayout()</a>ï¼ˆä»¥åŠå®ƒçš„æœ‹å‹ <a href=\"https://rdrr.io/pkg/shiny/man/titlePanel.html\">titlePanel()</a>ã€ <a href=\"https://rdrr.io/pkg/shiny/man/sidebarLayout.html\">sidebarPanel()</a> å’Œ <a href=\"https://rdrr.io/pkg/shiny/man/sidebarLayout.html\">mainPanel()</a>ï¼‰ã€‚ä»¥ä¸‹ä»£ç æ˜¾ç¤ºäº†ç”Ÿæˆå›¾ 6.2 çš„åŸºæœ¬ç»“æ„ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  titlePanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">    <span class=\"comment\"># app title/description</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">    sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      <span class=\"comment\"># inputs</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      <span class=\"comment\"># outputs</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/37aa2b1c61a6141cc95188bffd0cfc782fdb27d5/b6aa6/diagrams/action-layout/sidebar.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/37aa2b1c61a6141cc95188bffd0cfc782fdb27d5/b6aa6/diagrams/action-layout/sidebar.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾6.2 åŸºç¡€appçš„ä¾§è¾¹æ ç»“æ„\"></p>\n<p>ä¸ºäº†è®©å…¶æ›´åŠ çœŸå®ï¼Œè®©æˆ‘ä»¬å¢åŠ ä¸€ä¸ªè¾“å…¥å’Œè¾“å‡ºä»¥åˆ›å»ºä¸€ä¸ªæ¼”ç¤ºä¸­å¿ƒæé™å®šç†çš„éå¸¸ç®€å•çš„åº”ç”¨ç¨‹åºï¼Œå¦‚å›¾6.3æ‰€ç¤ºã€‚å¦‚æœä½ è‡ªå·±è¿è¡Œè¿™ä¸ªåº”ç”¨ç¨‹åºï¼Œä½ å¯ä»¥å¢åŠ æ ·æœ¬æ•°é‡ä»¥çœ‹åˆ°åˆ†å¸ƒå˜å¾—æ›´åŠ æ­£å¸¸ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  titlePanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;Central limit theorem&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">    sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;m&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Number of samples:&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">2</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span> <span class=\"operator\">=</span> <span class=\"number\">100</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;hist&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>hist <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    means <span class=\"operator\">&lt;-</span> replicate<span class=\"punctuation\">(</span><span class=\"number\">1e4</span><span class=\"punctuation\">,</span> mean<span class=\"punctuation\">(</span>runif<span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>m<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    hist<span class=\"punctuation\">(</span>means<span class=\"punctuation\">,</span> breaks <span class=\"operator\">=</span> <span class=\"number\">20</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/4558a562a7be6b3c8bca4a25f3122d7322b536cc/6e6a0/demos/action-layout/sidebar.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/4558a562a7be6b3c8bca4a25f3122d7322b536cc/6e6a0/demos/action-layout/sidebar.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾6.3 å¸¸è§çš„åº”ç”¨ç¨‹åºè®¾è®¡æ˜¯å°†æ§ä»¶æ”¾åœ¨ä¾§è¾¹æ ä¸­ï¼Œå¹¶å°†ç»“æœæ˜¾ç¤ºåœ¨ä¸»é¢æ¿ä¸­\"></p>\n<h3 id=\"6-2-3-å¤šè¡Œ\"><a href=\"#6-2-3-å¤šè¡Œ\" class=\"headerlink\" title=\"6.2.3 å¤šè¡Œ\"></a>6.2.3 å¤šè¡Œ</h3><p>åœ¨å¹•åï¼Œ<a href=\"https://rdrr.io/pkg/shiny/man/sidebarLayout.html\">sidebarLayout()</a>å»ºç«‹åœ¨çµæ´»çš„å¤šè¡Œå¸ƒå±€ä¹‹ä¸Šï¼Œæ‚¨å¯ä»¥ç›´æ¥ä½¿ç”¨å®ƒæ¥åˆ›å»ºæ›´å…·è§†è§‰å¤æ‚æ€§çš„åº”ç”¨ç¨‹åºã€‚åƒå¾€å¸¸ä¸€æ ·ï¼Œæ‚¨ä»<code>fluidPage()</code>å¼€å§‹ã€‚ç„¶åï¼Œæ‚¨ä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/fluidPage.html\">fluidRow()</a>åˆ›å»ºè¡Œï¼Œä½¿ç”¨<a href=\"https://rdrr.io/pkg/shiny/man/column.html\">column()</a>åˆ›å»ºåˆ—ã€‚ä»¥ä¸‹æ¨¡æ¿ç”Ÿæˆå›¾6.4æ‰€ç¤ºçš„ç»“æ„ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  fluidRow<span class=\"punctuation\">(</span></span><br><span class=\"line\">    column<span class=\"punctuation\">(</span><span class=\"number\">4</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">      ...</span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    column<span class=\"punctuation\">(</span><span class=\"number\">8</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">      ...</span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  fluidRow<span class=\"punctuation\">(</span></span><br><span class=\"line\">    column<span class=\"punctuation\">(</span><span class=\"number\">6</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">      ...</span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    column<span class=\"punctuation\">(</span><span class=\"number\">6</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">      ...</span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/15ea13e6dd0ba26014225718b5541abb983e0a45/7b30e/diagrams/action-layout/multirow.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/15ea13e6dd0ba26014225718b5541abb983e0a45/7b30e/diagrams/action-layout/multirow.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾6.4 ç®€å•å¤šè¡Œåº”ç”¨ç¨‹åºçš„åŸºç¡€ç»“æ„\"></p>\n<p>æ¯ä¸€è¡Œç”±12åˆ—ç»„æˆï¼Œ<code>column()</code> çš„ç¬¬ä¸€ä¸ªå‚æ•°ç»™å‡ºäº†è¦å ç”¨çš„åˆ—æ•°ã€‚12åˆ—å¸ƒå±€ä¸ºæ‚¨æä¾›æå¤§çš„çµæ´»æ€§ï¼Œå› ä¸ºæ‚¨å¯ä»¥è½»æ¾åˆ›å»º2ã€3æˆ–4åˆ—å¸ƒå±€ï¼Œæˆ–ä½¿ç”¨çª„åˆ—åˆ›å»ºé—´éš”ã€‚æ‚¨å¯ä»¥åœ¨ç¬¬4.4èŠ‚ä¸­çœ‹åˆ°è¿™ç§å¸ƒå±€çš„ç¤ºä¾‹ã€‚</p>\n<p>å¦‚æœä½ æƒ³äº†è§£æ›´å¤šå…³äºä½¿ç”¨ç½‘æ ¼ç³»ç»Ÿè¿›è¡Œè®¾è®¡çš„çŸ¥è¯†ï¼Œæˆ‘å¼ºçƒˆæ¨èç”±çº¦ç‘Ÿå¤«Â·ç©†å‹’-å¸ƒç½—å…‹æ›¼æ’°å†™çš„å…³äºè¿™ä¸ªä¸»é¢˜çš„ç»å…¸æ–‡æœ¬ï¼š<a href=\"https://www.amazon.com/dp/3721201450\">ã€Šå¹³é¢è®¾è®¡ä¸­çš„ç½‘æ ¼ç³»ç»Ÿã€‹</a>ã€‚</p>\n<h3 id=\"6-2-4-ç»ƒä¹ \"><a href=\"#6-2-4-ç»ƒä¹ \" class=\"headerlink\" title=\"6.2.4 ç»ƒä¹ \"></a>6.2.4 ç»ƒä¹ </h3><p><strong>6.2.4.1</strong> é˜…è¯» <a href=\"https://rdrr.io/pkg/shiny/man/sidebarLayout.html\">sidebarLayout()</a> çš„æ–‡æ¡£ï¼Œç¡®å®šä¾§è¾¹æ å’Œä¸»é¢æ¿çš„å®½åº¦ï¼ˆä»¥åˆ—ä¸ºå•ä½ï¼‰ã€‚ä½ èƒ½ä½¿ç”¨ fluidRow() å’Œ column() é‡æ–°åˆ›å»ºå®ƒçš„å¤–è§‚å—ï¼Ÿä½ ç¼ºå°‘ä»€ä¹ˆï¼Ÿ</p>\n<p><strong>6.2.4.2</strong> ä¿®æ”¹ä¸­å¿ƒæé™å®šç†åº”ç”¨ç¨‹åºï¼Œå°†ä¾§è¾¹æ æ”¾åœ¨å³ä¾§è€Œä¸æ˜¯å·¦ä¾§ã€‚</p>\n<p><strong>6.2.4.3</strong> åˆ›å»ºä¸€ä¸ªåŒ…å«ä¸¤ä¸ªå›¾çš„åº”ç”¨ç¨‹åºï¼Œæ¯ä¸ªå›¾å ä¸€åŠå®½åº¦ã€‚å°†æ§ä»¶æ”¾åœ¨å›¾ä¸‹æ–¹çš„å…¨å®½å®¹å™¨ä¸­ã€‚</p>\n<h2 id=\"6-3-å¤šé¡µå¸ƒå±€\"><a href=\"#6-3-å¤šé¡µå¸ƒå±€\" class=\"headerlink\" title=\"6.3 å¤šé¡µå¸ƒå±€\"></a>6.3 å¤šé¡µå¸ƒå±€</h2><p>éšç€åº”ç”¨ç¨‹åºå¤æ‚æ€§çš„å¢åŠ ï¼Œå¯èƒ½æ— æ³•å°†æ‰€æœ‰å†…å®¹éƒ½æ”¾åœ¨ä¸€ä¸ªé¡µé¢ä¸Šã€‚åœ¨æœ¬èŠ‚ä¸­ï¼Œæ‚¨å°†å­¦ä¹  <a href=\"https://rdrr.io/pkg/shiny/man/tabPanel.html\">tabPanel()</a> çš„å„ç§ç”¨é€”ï¼Œä»¥åˆ›å»ºå¤šä¸ªé¡µé¢çš„å‡è±¡ã€‚è¿™æ˜¯ä¸€ç§å‡è±¡ï¼Œå› ä¸ºæ‚¨ä»ç„¶åªæœ‰ä¸€ä¸ªåº”ç”¨ç¨‹åºå’Œä¸€ä¸ªåŸºç¡€ HTML æ–‡ä»¶ï¼Œä½†ç°åœ¨å®ƒè¢«åˆ†è§£æˆå¤šä¸ªéƒ¨åˆ†ï¼Œä¸€æ¬¡åªèƒ½çœ‹åˆ°ä¸€ä¸ªéƒ¨åˆ†ã€‚</p>\n<p>å¤šé¡µåº”ç”¨ç¨‹åºä¸æ¨¡å—æ­é…å¾—ç‰¹åˆ«å¥½ï¼Œä½ å°†åœ¨ç¬¬19ç« äº†è§£æ¨¡å—ã€‚æ¨¡å—å…è®¸ä½ ä»¥ä¸åˆ’åˆ†ç”¨æˆ·ç•Œé¢ç›¸åŒçš„æ–¹å¼åˆ’åˆ†serverå‡½æ•°ï¼Œåˆ›å»ºä»…é€šè¿‡å®šä¹‰è‰¯å¥½çš„è¿æ¥è¿›è¡Œäº¤äº’çš„ç‹¬ç«‹ç»„ä»¶ã€‚</p>\n<h3 id=\"6-3-1-é€‰é¡¹å¡é›†\"><a href=\"#6-3-1-é€‰é¡¹å¡é›†\" class=\"headerlink\" title=\"6.3.1 é€‰é¡¹å¡é›†\"></a>6.3.1 é€‰é¡¹å¡é›†</h3><p>å°†é¡µé¢åˆ†è§£æˆå—çš„ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨ <a href=\"https://rdrr.io/pkg/shiny/man/tabsetPanel.html\">tabsetPanel()</a> åŠå…¶äº²å¯†æœ‹å‹ <code>tabPanel()</code>ã€‚æ­£å¦‚æ‚¨åœ¨ä¸‹é¢çš„ä»£ç ä¸­çœ‹åˆ°çš„ï¼Œ<code>tabsetPanel()</code> ä¸ºä»»æ„æ•°é‡çš„ <code>tabPanels()</code> åˆ›å»ºä¸€ä¸ªå®¹å™¨ï¼Œè€Œ <code>tabPanels()</code> åè¿‡æ¥åˆåŒ…å«ä»»ä½•å…¶ä»– HTML ç»„ä»¶ã€‚å›¾ 6.5 æ˜¾ç¤ºäº†ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  tabsetPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">    tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;Import data&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">      fileInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;file&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Data&quot;</span><span class=\"punctuation\">,</span> buttonLabel <span class=\"operator\">=</span> <span class=\"string\">&quot;Upload...&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      textInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;delim&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Delimiter (leave blank to guess)&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;skip&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Rows to skip&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">0</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">0</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      numericInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;rows&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Rows to preview&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">10</span><span class=\"punctuation\">,</span> <span class=\"built_in\">min</span> <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;Set parameters&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;Visualise results&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/9c03ba6941047ea3face093a70f248673f4c824a/98580/demos/action-layout/tabset.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/9c03ba6941047ea3face093a70f248673f4c824a/98580/demos/action-layout/tabset.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾6.5 tabsetPanel()å…è®¸ç”¨æˆ·é€‰æ‹©å•ä¸ªtabPanel()è¿›è¡ŒæŸ¥çœ‹\"></p>\n<p>å¦‚æœæ‚¨æƒ³çŸ¥é“ç”¨æˆ·é€‰æ‹©äº†å“ªä¸ªé€‰é¡¹å¡ï¼Œæ‚¨å¯ä»¥å°† <code>id</code> å‚æ•°æä¾›ç»™ <code>tabsetPanel()</code> å¹¶å°†å®ƒè®¾ä¸ºè¾“å…¥ã€‚å›¾6.6æ˜¾ç¤ºäº†è¿™ä¸€ç‚¹ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">    sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      textOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      tabsetPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">        id <span class=\"operator\">=</span> <span class=\"string\">&quot;tabset&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel 1&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;one&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel 2&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;two&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">        tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel 3&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;three&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">      <span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  output<span class=\"operator\">$</span>panel <span class=\"operator\">&lt;-</span> renderText<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    paste<span class=\"punctuation\">(</span><span class=\"string\">&quot;Current panel: &quot;</span><span class=\"punctuation\">,</span> input<span class=\"operator\">$</span>tabset<span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/a856fa6a960d4e7e7b1cd2755c91934853e0e500/f7fbe/demos/action-layout/tabset-input-1.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/a856fa6a960d4e7e7b1cd2755c91934853e0e500/f7fbe/demos/action-layout/tabset-input-1.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾6.6 å½“æ‚¨ä½¿ç”¨idå‚æ•°æ—¶ï¼Œtabsetæˆä¸ºè¾“å…¥ã€‚è¿™å…è®¸æ‚¨æ ¹æ®å½“å‰å¯è§çš„é€‰é¡¹å¡ä½¿æ‚¨çš„åº”ç”¨ç¨‹åºè¡¨ç°ä¸åŒã€‚\"></p>\n<p>æ³¨æ„ï¼Œ<code>tabsetPanel()</code>å¯ä»¥åœ¨åº”ç”¨ç¨‹åºä¸­çš„ä»»ä½•åœ°æ–¹ä½¿ç”¨ï¼›å¦‚æœéœ€è¦ï¼Œå°†é€‰é¡¹å¡é›†åµŒå¥—åœ¨å…¶ä»–ç»„ä»¶ï¼ˆåŒ…æ‹¬é€‰é¡¹å¡é›†ï¼ï¼‰ä¸­æ˜¯å®Œå…¨å¯ä»¥çš„ã€‚</p>\n<h3 id=\"6-3-2-å¯¼èˆªåˆ—è¡¨å’Œå¯¼èˆªæ \"><a href=\"#6-3-2-å¯¼èˆªåˆ—è¡¨å’Œå¯¼èˆªæ \" class=\"headerlink\" title=\"6.3.2 å¯¼èˆªåˆ—è¡¨å’Œå¯¼èˆªæ \"></a>6.3.2 å¯¼èˆªåˆ—è¡¨å’Œå¯¼èˆªæ </h3><p>å› ä¸ºæ ‡ç­¾æ˜¯æ°´å¹³æ˜¾ç¤ºçš„ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä½¿ç”¨çš„æ ‡ç­¾æ•°é‡æœ‰ä¸€ä¸ªåŸºæœ¬çš„é™åˆ¶ï¼Œç‰¹åˆ«æ˜¯å¦‚æœå®ƒä»¬çš„æ ‡é¢˜å¾ˆé•¿ã€‚<a href=\"https://rdrr.io/pkg/shiny/man/navbarPage.html\">navbarPage()</a>å’Œ<a href=\"https://rdrr.io/pkg/shiny/man/navbarPage.html\">navbarMenu()</a>æä¾›äº†ä¸¤ç§æ›¿ä»£å¸ƒå±€ï¼Œè®©ä½ ä½¿ç”¨æ›´å¤šæ ‡ç­¾å’Œæ›´é•¿çš„æ ‡é¢˜ã€‚</p>\n<p><a href=\"https://rdrr.io/pkg/shiny/man/navlistPanel.html\">navlistPanel()</a>ç±»ä¼¼äº<a href=\"https://rdrr.io/pkg/shiny/man/tabsetPanel.html\">tabsetPanel()</a>ï¼Œä½†ä¸ä¼šæ°´å¹³æ˜¾ç¤ºæ ‡ç­¾æ ‡é¢˜ï¼Œè€Œæ˜¯åœ¨ä¾§è¾¹æ ä¸­å‚ç›´æ˜¾ç¤ºã€‚å®ƒè¿˜å…è®¸æ‚¨ä½¿ç”¨çº¯å­—ç¬¦ä¸²æ·»åŠ æ ‡é¢˜ï¼Œå¦‚ä¸‹é¢çš„ä»£ç æ‰€ç¤ºï¼Œç”Ÿæˆå›¾6.7ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  navlistPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">    id <span class=\"operator\">=</span> <span class=\"string\">&quot;tabset&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"string\">&quot;Heading 1&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel 1&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Panel one contents&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    <span class=\"string\">&quot;Heading 2&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel 2&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Panel two contents&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel 3&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Panel three contents&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/56785160c5b2c58ecebd5c89454f41ca8ba01132/3504e/demos/action-layout/navlistpanel.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/56785160c5b2c58ecebd5c89454f41ca8ba01132/3504e/demos/action-layout/navlistpanel.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾6.7 navlistPanel()å‚ç›´æ˜¾ç¤ºé€‰é¡¹å¡æ ‡é¢˜ï¼Œè€Œä¸æ˜¯æ°´å¹³æ˜¾ç¤º\"></p>\n<p>å¦ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨<code>navbarPage()</code>ï¼šå®ƒä»ç„¶äº§ç”Ÿæ°´å¹³é€‰é¡¹å¡æ ‡é¢˜ï¼Œä½†æ‚¨å¯ä»¥ä½¿ç”¨<code>navbarMenu()</code>æ·»åŠ ä¸‹æ‹‰èœå•ä»¥å®ç°é¢å¤–çš„å±‚æ¬¡ç»“æ„ã€‚å›¾6.8æ˜¾ç¤ºäº†ä¸€ä¸ªç®€å•çš„ç¤ºä¾‹ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> navbarPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  <span class=\"string\">&quot;Page title&quot;</span><span class=\"punctuation\">,</span>   </span><br><span class=\"line\">  tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel 1&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;one&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel 2&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;two&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel 3&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;three&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  navbarMenu<span class=\"punctuation\">(</span><span class=\"string\">&quot;subpanels&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">    tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel 4a&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;four-a&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel 4b&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;four-b&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    tabPanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;panel 4c&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;four-c&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/a2d6dc2e78a21f32db77925f1d28122e6288a44d/3c1ec/demos/action-layout/navbarpage.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/a2d6dc2e78a21f32db77925f1d28122e6288a44d/3c1ec/demos/action-layout/navbarpage.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾6.8 navbarPage()åœ¨é¡µé¢é¡¶éƒ¨ç”Ÿæˆä¸€ä¸ªæ°´å¹³å¯¼èˆªæ \"></p>\n<p>è¿™äº›å¸ƒå±€ä¸ºä½ æä¾›äº†ç›¸å½“å¤§çš„èƒ½åŠ›æ¥åˆ›å»ºä¸°å¯Œè€Œä»¤äººæ»¡æ„çš„åº”ç”¨ç¨‹åºã€‚è¦æ›´è¿›ä¸€æ­¥ï¼Œä½ éœ€è¦æ›´å¤šåœ°äº†è§£åº•å±‚è®¾è®¡ç³»ç»Ÿã€‚</p>\n<h2 id=\"6-4-å¼•å¯¼ç¨‹åºï¼ˆBootstrapï¼‰\"><a href=\"#6-4-å¼•å¯¼ç¨‹åºï¼ˆBootstrapï¼‰\" class=\"headerlink\" title=\"6.4 å¼•å¯¼ç¨‹åºï¼ˆBootstrapï¼‰\"></a>6.4 å¼•å¯¼ç¨‹åºï¼ˆBootstrapï¼‰</h2><p>è¦ç»§ç»­ä½ çš„åº”ç”¨ç¨‹åºå®šåˆ¶ä¹‹æ—…ï¼Œä½ éœ€è¦æ›´å¤šåœ°äº†è§£ Shiny æ‰€ä½¿ç”¨çš„ <a href=\"https://getbootstrap.com/\">Bootstrap</a> æ¡†æ¶ã€‚Bootstrap æ˜¯ä¸€ç³»åˆ— HTML çº¦å®šã€CSS æ ·å¼å’Œ JS ä»£ç ç‰‡æ®µçš„é›†åˆï¼Œæ‰“åŒ…æˆä¸€ç§æ–¹ä¾¿çš„å½¢å¼ã€‚Bootstrap æœ€åˆæ˜¯ Twitter å¼€å‘çš„ä¸€ä¸ªæ¡†æ¶ï¼Œåœ¨è¿‡å»çš„ 10 å¹´é‡Œï¼Œå®ƒå·²ç»å‘å±•æˆä¸ºç½‘ç»œä¸Šæœ€æµè¡Œçš„ CSS æ¡†æ¶ä¹‹ä¸€ã€‚Bootstrap åœ¨ R ä¸­ä¹Ÿå¾ˆå—æ¬¢è¿â€”â€”ä½ æ— ç–‘å·²ç»çœ‹åˆ°è¿‡è®¸å¤šç”± <a href=\"https://pkgs.rstudio.com/rmarkdown/reference/html_document.html\">rmarkdown::html_document()</a> ç”Ÿæˆçš„æ–‡æ¡£ï¼Œå¹¶ä½¿ç”¨äº†è®¸å¤šç”± <a href=\"http://pkgdown.r-lib.org/\">pkgdown</a> åˆ¶ä½œçš„åŒ…ç½‘ç«™ï¼Œè¿™ä¸¤ä¸ªç½‘ç«™ä¹Ÿéƒ½ä½¿ç”¨äº† Bootstrapã€‚</p>\n<p>ä½œä¸º Shiny å¼€å‘äººå‘˜ï¼Œæ‚¨ä¸éœ€è¦è¿‡å¤šè€ƒè™‘ Bootstrapï¼Œå› ä¸º Shiny ä¼šè‡ªåŠ¨ä¸ºæ‚¨ç”Ÿæˆä¸ Bootstrap å…¼å®¹çš„ HTMLã€‚ä½†æ˜¯çŸ¥é“ Bootstrap å­˜åœ¨æ˜¯ä»¶å¥½äº‹ï¼Œå› ä¸ºè¿™æ ·ï¼š</p>\n<ul>\n<li><p>ä½ å¯ä»¥ä½¿ç”¨<a href=\"https://rstudio.github.io/bslib/reference/bs_theme.html\">bslib::bs_theme()</a>æ¥å®šåˆ¶ä»£ç çš„è§†è§‰å¤–è§‚ï¼Œç¬¬6.5èŠ‚ã€‚</p>\n</li>\n<li><p>ä½ å¯ä»¥ä½¿ç”¨<code>class</code>å‚æ•°æ¥ä½¿ç”¨Bootstrap classåå®šåˆ¶ä¸€äº›å¸ƒå±€ã€è¾“å…¥å’Œè¾“å‡ºï¼Œæ­£å¦‚ä½ åœ¨ç¬¬2.2.7èŠ‚ä¸­æ‰€çœ‹åˆ°çš„ã€‚</p>\n</li>\n<li><p>ä½ å¯ä»¥è‡ªå·±ç¼–å†™å‡½æ•°æ¥ç”Ÿæˆ Shiny ä¸æä¾›çš„ Bootstrap ç»„ä»¶ï¼Œå¦‚<a href=\"https://rstudio.github.io/bslib/articles/theming.html#utility-classes\">Utility classes</a>ä¸­æ‰€è¿°ã€‚</p>\n</li>\n</ul>\n<p>ä¹Ÿå¯ä»¥ä½¿ç”¨å®Œå…¨ä¸åŒçš„CSSæ¡†æ¶ã€‚è®¸å¤šç°æœ‰çš„RåŒ…é€šè¿‡åŒ…è£…æµè¡Œçš„Bootstrapæ›¿ä»£å“æ¥ç®€åŒ–è¿™ä¸€è¿‡ç¨‹ï¼š</p>\n<ul>\n<li><p><a href=\"https://appsilon.com/\">Appsilon</a> æ„å»ºåœ¨ <a href=\"https://fomantic-ui.com/\">formantic UI</a> ä¹‹ä¸Šçš„<a href=\"https://appsilon.github.io/shiny.semantic/\">shiny.semantic</a>ã€‚</p>\n</li>\n<li><p><a href=\"https://rinterface.com/\">RInterface</a> åŸºäº <a href=\"https://framework7.io/\">framework 7</a>  æ„å»ºçš„  <a href=\"https://github.com/RinteRface/shinyMobile\">shinyMobile</a> ï¼Œä¸“ä¸ºç§»åŠ¨åº”ç”¨ç¨‹åºè€Œè®¾è®¡ã€‚</p>\n</li>\n<li><p>ç”± <a href=\"https://github.com/ericrayanderson\">Eric Anderson</a> å¼€å‘çš„ <a href=\"https://ericrayanderson.github.io/shinymaterial/\">shinymaterial</a>ï¼Œå»ºç«‹åœ¨è°·æ­Œçš„ <a href=\"https://material.io/design\">Material</a> è®¾è®¡æ¡†æ¶ä¹‹ä¸Šã€‚</p>\n</li>\n<li><p><a href=\"https://rstudio.github.io/shinydashboard/\">shinydashboard</a> ä¹Ÿæ˜¯ç”±RStudioå¼€å‘çš„ï¼Œå®ƒæä¾›äº†ä¸€ä¸ªç”¨äºåˆ›å»ºä»ªè¡¨æ¿çš„å¸ƒå±€ç³»ç»Ÿã€‚</p>\n</li>\n</ul>\n<p>ä½ å¯ä»¥åœ¨ <a href=\"https://github.com/nanxstats/awesome-shiny-extensions\">https://github.com/nanxstats/awesome-shiny-extensions</a> ä¸Šæ‰¾åˆ°ä¸€ä¸ªæ›´å®Œæ•´ã€ç»´æŠ¤æ›´æ´»è·ƒçš„åˆ—è¡¨ã€‚</p>\n<h2 id=\"6-5-ä¸»é¢˜\"><a href=\"#6-5-ä¸»é¢˜\" class=\"headerlink\" title=\"6.5 ä¸»é¢˜\"></a>6.5 ä¸»é¢˜</h2><p>Bootstrapåœ¨Rç¤¾åŒºä¸­æ— å¤„ä¸åœ¨ï¼Œå¾ˆå®¹æ˜“è®©äººäº§ç”Ÿå®¡ç¾ç–²åŠ³ï¼šè¿‡äº†ä¸€æ®µæ—¶é—´ï¼Œæ¯ä¸ªShinyåº”ç”¨ç¨‹åºå’ŒRmdçœ‹èµ·æ¥éƒ½å·®ä¸å¤šã€‚è§£å†³æ–¹æ¡ˆæ˜¯ä½¿ç”¨<a href=\"https://rstudio.github.io/bslib\">bslib</a>åŒ…è¿›è¡Œä¸»é¢˜åŒ–ã€‚bslibæ˜¯ä¸€ä¸ªç›¸å¯¹è¾ƒæ–°çš„åŒ…ï¼Œå…è®¸æ‚¨è¦†ç›–è®¸å¤šBootstrapé»˜è®¤å€¼ï¼Œä»¥åˆ›å»ºç‹¬ç‰¹çš„å¤–è§‚ã€‚åœ¨æˆ‘å†™è¿™ç¯‡æ–‡ç« çš„æ—¶å€™ï¼Œbslibä¸»è¦é€‚ç”¨äºShinyï¼Œä½†æ­£åœ¨åŠªåŠ›å°†å…¶å¢å¼ºçš„ä¸»é¢˜åŒ–åŠŸèƒ½å¼•å…¥RMarkdownã€pkgdownç­‰ã€‚</p>\n<p>å¦‚æœä½ æ­£åœ¨ä¸ºå…¬å¸å¼€å‘åº”ç”¨ç¨‹åºï¼Œæˆ‘å¼ºçƒˆå»ºè®®ä½ èŠ±ç‚¹æ—¶é—´åœ¨ä¸»é¢˜åŒ–ä¸Šâ€”â€”å°†ä½ çš„åº”ç”¨ç¨‹åºä¸»é¢˜åŒ–ï¼Œä»¥åŒ¹é…ä½ çš„ä¼ä¸šé£æ ¼æŒ‡å—ï¼Œè¿™æ˜¯ä¸€ç§è®©ä½ çœ‹èµ·æ¥å¾ˆå¥½çš„ç®€å•æ–¹æ³•ã€‚</p>\n<h3 id=\"6-5-1-å¼€å§‹\"><a href=\"#6-5-1-å¼€å§‹\" class=\"headerlink\" title=\"6.5.1 å¼€å§‹\"></a>6.5.1 å¼€å§‹</h3><p>ä½¿ç”¨ <a href=\"https://rstudio.github.io/bslib/reference/bs_theme.html\">bslib::bs_theme()</a> åˆ›å»ºä¸€ä¸ªä¸»é¢˜ï¼Œç„¶åä½¿ç”¨é¡µé¢å¸ƒå±€å‡½æ•°çš„<code>theme</code>å‚æ•°å°†å…¶åº”ç”¨äºåº”ç”¨ç¨‹åºï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  theme <span class=\"operator\">=</span> bslib<span class=\"operator\">::</span>bs_theme<span class=\"punctuation\">(</span>...<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœä¸ç‰¹åˆ«æŒ‡å®šï¼ŒShinyå°†ä½¿ç”¨å…¶è‡ªåˆ›å»ºä»¥æ¥åŸºæœ¬ä¸Šä½¿ç”¨çš„ç»å…¸Bootstrap v3ä¸»é¢˜ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<code>bslib::bs_theme()</code>å°†ä½¿ç”¨ Bootstrap v4ã€‚å¦‚æœæ‚¨åªä½¿ç”¨å†…ç½®ç»„ä»¶ï¼Œä½¿ç”¨Bootstrap v4æ›¿ä»£v3ä¸ä¼šé€ æˆé—®é¢˜ã€‚å¦‚æœæ‚¨ä½¿ç”¨äº†è‡ªå®šä¹‰HTMLï¼Œå®ƒå¯èƒ½ä¼šé€ æˆé—®é¢˜ï¼Œå› æ­¤æ‚¨å¯ä»¥é€šè¿‡è®¾ç½®<code>version = 3</code>æ¥å¼ºåˆ¶å®ƒä¿æŒv3ã€‚</p>\n<h3 id=\"6-5-2-Shinyä¸»é¢˜\"><a href=\"#6-5-2-Shinyä¸»é¢˜\" class=\"headerlink\" title=\"6.5.2 Shinyä¸»é¢˜\"></a>6.5.2 Shinyä¸»é¢˜</h3><p>æ›´æ”¹åº”ç”¨ç¨‹åºæ•´ä½“å¤–è§‚çš„æœ€ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨<code>bootswatch</code>å‚æ•°å¯¹<code>bslib::bs_theme()</code>é€‰æ‹©ä¸€ä¸ªé¢„å…ˆåˆ¶ä½œçš„<code>bootswatch</code>ä¸»é¢˜ã€‚å›¾6.9æ˜¾ç¤ºäº†ä»¥ä¸‹ä»£ç çš„ç»“æœï¼Œåˆ‡æ¢å…¶ä»–ä¸»é¢˜ä¸ºâ€œdarklyâ€ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  theme <span class=\"operator\">=</span> bslib<span class=\"operator\">::</span>bs_theme<span class=\"punctuation\">(</span>bootswatch <span class=\"operator\">=</span> <span class=\"string\">&quot;darkly&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  sidebarLayout<span class=\"punctuation\">(</span></span><br><span class=\"line\">    sidebarPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      textInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;txt&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Text input:&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;text here&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      sliderInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;slider&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;Slider input:&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">1</span><span class=\"punctuation\">,</span> <span class=\"number\">100</span><span class=\"punctuation\">,</span> <span class=\"number\">30</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">    mainPanel<span class=\"punctuation\">(</span></span><br><span class=\"line\">      h1<span class=\"punctuation\">(</span>paste0<span class=\"punctuation\">(</span><span class=\"string\">&quot;Theme: darkly&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      h2<span class=\"punctuation\">(</span><span class=\"string\">&quot;Header 2&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">      p<span class=\"punctuation\">(</span><span class=\"string\">&quot;Some text&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">    <span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/6850c18bfcfd5671f12f1f638c2c76b4ccb5b11d/07f6a/demos/action-layout/theme-flatly.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/6850c18bfcfd5671f12f1f638c2c76b4ccb5b11d/07f6a/demos/action-layout/theme-flatly.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾6.9 ç›¸åŒçš„appé‡‡ç”¨äº†ç”¨å››ä¸ªbootswatchä¸»é¢˜é£æ ¼ï¼šdarklyã€flatlyã€sandstoneå’Œunited\"></p>\n<p>æ­¤å¤–ï¼Œä½ å¯ä»¥åˆ©ç”¨<code>bs_theme()</code>çš„å…¶ä»–å‚æ•°åˆ›å»ºè‡ªå·±çš„ä¸»é¢˜ï¼Œå¦‚ <code>bg</code> ï¼ˆèƒŒæ™¯é¢œè‰²ï¼‰ï¼Œ<code>fg</code>ï¼ˆå‰æ™¯è‰²ï¼‰å’Œ <code>base_font</code>ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">theme <span class=\"operator\">&lt;-</span> bslib<span class=\"operator\">::</span>bs_theme<span class=\"punctuation\">(</span></span><br><span class=\"line\">  bg <span class=\"operator\">=</span> <span class=\"string\">&quot;#0b3d91&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">  fg <span class=\"operator\">=</span> <span class=\"string\">&quot;white&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">  base_font <span class=\"operator\">=</span> <span class=\"string\">&quot;Source Sans Pro&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸€ç§é¢„è§ˆå’Œè‡ªå®šä¹‰ä¸»é¢˜çš„ç®€å•æ–¹æ³•æ˜¯ä½¿ç”¨<code>bslib::bs_theme_preview(theme)</code>ã€‚è¿™å°†æ‰“å¼€ä¸€ä¸ªShinyåº”ç”¨ç¨‹åºï¼Œå±•ç¤ºè¯¥ä¸»é¢˜åœ¨åº”ç”¨äºè®¸å¤šæ ‡å‡†æ§ä»¶æ—¶çš„å¤–è§‚ï¼ŒåŒæ—¶è¿˜ä¸ºä½ æä¾›äº¤äº’å¼æ§ä»¶ï¼Œç”¨äºè‡ªå®šä¹‰æœ€é‡è¦çš„å‚æ•°ã€‚</p>\n<h3 id=\"6-5-3-å›¾è¡¨ä¸»é¢˜\"><a href=\"#6-5-3-å›¾è¡¨ä¸»é¢˜\" class=\"headerlink\" title=\"6.5.3 å›¾è¡¨ä¸»é¢˜\"></a>6.5.3 å›¾è¡¨ä¸»é¢˜</h3><p>å¦‚æœä½ å·²ç»å¯¹ä½ çš„åº”ç”¨ç¨‹åºæ ·å¼è¿›è¡Œäº†å¤§é‡è‡ªå®šä¹‰ï¼Œä½ å¯èƒ½è¿˜æƒ³è‡ªå®šä¹‰å›¾è¡¨ä»¥åŒ¹é…æ•´ä½“é£æ ¼ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™éå¸¸ç®€å•ï¼Œå¤šäºäº†<a href=\"https://rstudio.github.io/thematic/\">thematic</a>åŒ…ï¼Œå®ƒå¯ä»¥è‡ªåŠ¨å¯¹ggplot2ã€latticeå’ŒåŸºç¡€å›¾è¡¨è¿›è¡Œä¸»é¢˜åŒ–ã€‚åªéœ€åœ¨serverå‡½æ•°ä¸­è°ƒç”¨<code>thematic_shiny()</code>ã€‚è¿™å°†è‡ªåŠ¨ç¡®å®šä½ çš„åº”ç”¨ç¨‹åºä¸»é¢˜çš„æ‰€æœ‰è®¾ç½®ï¼Œå¦‚å›¾6.10æ‰€ç¤ºã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>ggplot2<span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  theme <span class=\"operator\">=</span> bslib<span class=\"operator\">::</span>bs_theme<span class=\"punctuation\">(</span>bootswatch <span class=\"operator\">=</span> <span class=\"string\">&quot;darkly&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  titlePanel<span class=\"punctuation\">(</span><span class=\"string\">&quot;A themed plot&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  plotOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;plot&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">server <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>input<span class=\"punctuation\">,</span> output<span class=\"punctuation\">,</span> session<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  thematic<span class=\"operator\">::</span>thematic_shiny<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  </span><br><span class=\"line\">  output<span class=\"operator\">$</span>plot <span class=\"operator\">&lt;-</span> renderPlot<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">    ggplot<span class=\"punctuation\">(</span>mtcars<span class=\"punctuation\">,</span> aes<span class=\"punctuation\">(</span>wt<span class=\"punctuation\">,</span> mpg<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span></span><br><span class=\"line\">      geom_point<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span></span><br><span class=\"line\">      geom_smooth<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">,</span> res <span class=\"operator\">=</span> <span class=\"number\">96</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/0e7243ec6ca6821445c04bff6488fcf612c3fe88/e378c/demos/action-layout/thematic.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/0e7243ec6ca6821445c04bff6488fcf612c3fe88/e378c/demos/action-layout/thematic.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾6.10 ä½¿ç”¨thematic::thematic_shiny()ç¡®ä¿ggplot2è‡ªåŠ¨åŒ¹é…åº”ç”¨ç¨‹åºä¸»é¢˜\"></p>\n<h3 id=\"6-5-4-ç»ƒä¹ \"><a href=\"#6-5-4-ç»ƒä¹ \" class=\"headerlink\" title=\"6.5.4 ç»ƒä¹ \"></a>6.5.4 ç»ƒä¹ </h3><p><strong>6.4.5.1</strong> ä½¿ç”¨<code>bslib::bs_theme_preview()</code>åˆ¶ä½œä½ èƒ½æƒ³åˆ°çš„æœ€ä¸‘çš„ä¸»é¢˜ã€‚</p>\n<h2 id=\"6-6-é¢ç½©ä¹‹ä¸‹\"><a href=\"#6-6-é¢ç½©ä¹‹ä¸‹\" class=\"headerlink\" title=\"6.6 é¢ç½©ä¹‹ä¸‹\"></a>6.6 é¢ç½©ä¹‹ä¸‹</h2><p>Shinyçš„è®¾è®¡æ˜¯ä¸ºäº†è®©Rç”¨æˆ·ä¸éœ€è¦äº†è§£HTMLçš„ç»†èŠ‚ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ çŸ¥é“ä¸€äº›HTMLå’ŒCSSï¼Œä½ ä»ç„¶å¯ä»¥è¿›ä¸€æ­¥å®šåˆ¶Shinyã€‚ä¸å¹¸çš„æ˜¯ï¼Œæ•™æˆHTMLå’ŒCSSä¸åœ¨æœ¬ä¹¦çš„èŒƒå›´å†…ï¼Œä½†MDNçš„<a href=\"https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/HTML_basics\">HTML</a>å’Œ<a href=\"https://developer.mozilla.org/en-US/docs/Learn/Getting_started_with_the_web/CSS_basics\">CSS</a>åŸºç¡€æ•™ç¨‹æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„èµ·ç‚¹ã€‚</p>\n<p>æœ€é‡è¦çš„æ˜¯è¦çŸ¥é“ï¼Œæ‰€æœ‰è¾“å…¥ã€è¾“å‡ºå’Œå¸ƒå±€å‡½æ•°èƒŒåéƒ½æ²¡æœ‰é­”æ³•ï¼šå®ƒä»¬åªæ˜¯ç”ŸæˆHTMLã€‚æ‚¨å¯ä»¥é€šè¿‡åœ¨æ§åˆ¶å°ä¸­ç›´æ¥æ‰§è¡ŒUIå‡½æ•°æ¥æŸ¥çœ‹HTMLï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  textInput<span class=\"punctuation\">(</span><span class=\"string\">&quot;name&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;What&#x27;s your name?&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;container-fluid&quot;</span>&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;<span class=\"name\">div</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;form-group shiny-input-container&quot;</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">label</span> <span class=\"attr\">for</span>=<span class=\"string\">&quot;name&quot;</span>&gt;</span>What&#x27;s your name?<span class=\"tag\">&lt;/<span class=\"name\">label</span>&gt;</span></span><br><span class=\"line\">    <span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">id</span>=<span class=\"string\">&quot;name&quot;</span> <span class=\"attr\">type</span>=<span class=\"string\">&quot;text&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;form-control&quot;</span> <span class=\"attr\">value</span>=<span class=\"string\">&quot;&quot;</span>/&gt;</span></span><br><span class=\"line\">  <span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">div</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¯·æ³¨æ„ï¼Œè¿™æ˜¯ <code>&lt;body&gt;</code> æ ‡ç­¾çš„å†…å®¹ï¼›Shiny çš„å…¶ä»–éƒ¨åˆ†è´Ÿè´£ç”Ÿæˆ <code>&lt;head&gt;</code>ã€‚å¦‚æœä½ æƒ³åŒ…å«é¢å¤–çš„ CSS æˆ– JS ä¾èµ–é¡¹ï¼Œä½ éœ€è¦å­¦ä¹  <a href=\"https://rdrr.io/pkg/htmltools/man/htmlDependency.html\">htmltools::htmlDependency()</a>ã€‚ä¸¤ä¸ªå¥½çš„èµ·ç‚¹æ˜¯ <a href=\"https://blog.r-hub.io/2020/08/25/js-r/#web-dependency-management\">https://blog.r-hub.io/2020/08/25/js-r/#web-dependency-management</a> å’Œ <a href=\"https://unleash-shiny.rinterface.com/htmltools-dependencies.html\">https://unleash-shiny.rinterface.com/htmltools-dependencies.html</a>ã€‚</p>\n<p>å¯ä»¥å°†è‡ªå·±çš„ HTML æ·»åŠ åˆ° <code>ui</code>ã€‚ä¸€ç§æ–¹æ³•æ˜¯é€šè¿‡ <a href=\"https://rdrr.io/pkg/htmltools/man/HTML.html\">HTML()</a> å‡½æ•°åŒ…å«æ–‡æœ¬ HTMLã€‚åœ¨ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæˆ‘ä½¿ç”¨â€œåŸå§‹å­—ç¬¦å¸¸é‡â€ï¼Œ<code>r&quot;()&quot;</code>ï¼Œä»¥ä¾¿æ›´å®¹æ˜“åœ¨å­—ç¬¦ä¸²ä¸­åŒ…å«å¼•å·ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  HTML<span class=\"punctuation\">(</span><span class=\"string\">r&quot;(</span></span><br><span class=\"line\"><span class=\"string\">    &lt;h1&gt;This is a heading&lt;/h1&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;p class=&quot;my-class&quot;&gt;This is some text!&lt;/p&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;ul&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;li&gt;First bullet&lt;/li&gt;</span></span><br><span class=\"line\"><span class=\"string\">      &lt;li&gt;Second bullet&lt;/li&gt;</span></span><br><span class=\"line\"><span class=\"string\">    &lt;/ul&gt;</span></span><br><span class=\"line\"><span class=\"string\">  )&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœæ‚¨æ˜¯ HTML&#x2F;CSS ä¸“å®¶ï¼Œæ‚¨å¯èƒ½æƒ³çŸ¥é“æ˜¯å¦å¯ä»¥å®Œå…¨è·³è¿‡ <code>fluidPage()</code> å¹¶æä¾›åŸå§‹ HTMLã€‚æœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…â€œ<a href=\"https://shiny.rstudio.com/articles/html-ui.html\">ä½¿ç”¨ HTML æ„å»ºæ•´ä¸ª UI</a>â€ã€‚</p>\n<p>æˆ–è€…ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨Shinyæä¾›çš„HTMLè¾…åŠ©å‡½æ•°ã€‚å¯¹äºæœ€é‡è¦çš„å…ƒç´ ï¼Œå¦‚<code>h1()</code>å’Œ<code>p()</code>ï¼Œæœ‰å¸¸è§„å‡½æ•°ï¼Œæ‰€æœ‰å…¶ä»–å…ƒç´ éƒ½å¯ä»¥é€šè¿‡å…¶ä»–æ ‡ç­¾è¾…åŠ©å‡½æ•°è®¿é—®ã€‚å‘½åå‚æ•°æˆä¸ºå±æ€§ï¼Œæœªå‘½åå‚æ•°æˆä¸ºå­å…ƒç´ ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥å°†ä¸Šé¢çš„HTMLé‡æ–°åˆ›å»ºä¸ºï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui <span class=\"operator\">&lt;-</span> fluidPage<span class=\"punctuation\">(</span></span><br><span class=\"line\">  h1<span class=\"punctuation\">(</span><span class=\"string\">&quot;This is a heading&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  p<span class=\"punctuation\">(</span><span class=\"string\">&quot;This is some text&quot;</span><span class=\"punctuation\">,</span> <span class=\"built_in\">class</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;my-class&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  tags<span class=\"operator\">$</span>ul<span class=\"punctuation\">(</span></span><br><span class=\"line\">    tags<span class=\"operator\">$</span>li<span class=\"punctuation\">(</span><span class=\"string\">&quot;First bullet&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">    tags<span class=\"operator\">$</span>li<span class=\"punctuation\">(</span><span class=\"string\">&quot;Second bullet&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">  <span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½¿ç”¨ä»£ç ç”Ÿæˆ HTML çš„ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼Œä½ å¯ä»¥å°†ç°æœ‰çš„ Shiny ç»„ä»¶äº¤ç»‡åˆ°è‡ªå®šä¹‰ç»“æ„ä¸­ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç ç”Ÿæˆäº†ä¸€æ®µåŒ…å«ä¸¤ä¸ªè¾“å‡ºçš„æ–‡æœ¬æ®µè½ï¼Œå…¶ä¸­ä¸€ä¸ªä¸ºç²—ä½“ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">tags<span class=\"operator\">$</span>p<span class=\"punctuation\">(</span></span><br><span class=\"line\">  <span class=\"string\">&quot;You made &quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">  tags<span class=\"operator\">$</span>b<span class=\"punctuation\">(</span><span class=\"string\">&quot;$&quot;</span><span class=\"punctuation\">,</span> textOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;amount&quot;</span><span class=\"punctuation\">,</span> inline <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"string\">&quot; in the last &quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\">  textOutput<span class=\"punctuation\">(</span><span class=\"string\">&quot;days&quot;</span><span class=\"punctuation\">,</span> inline <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"string\">&quot; days &quot;</span> </span><br><span class=\"line\"><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>è¯·æ³¨æ„ä½¿ç”¨<code>inline = TRUE</code>ï¼›<code>textOutput()</code>é»˜è®¤æ˜¯ç”Ÿæˆä¸€ä¸ªå®Œæ•´çš„æ®µè½ã€‚</p>\n<p>è¦äº†è§£æ›´å¤šå…³äºä½¿ç”¨HTMLã€CSSå’ŒJavaScriptåˆ¶ä½œå¼•äººæ³¨ç›®çš„ç”¨æˆ·ç•Œé¢çš„çŸ¥è¯†ï¼Œæˆ‘å¼ºçƒˆæ¨èDavid Granjonçš„<a href=\"https://unleash-shiny.rinterface.com/index.html\">ã€ŠShinyçš„æ°å‡ºç”¨æˆ·ç•Œé¢ã€‹</a>ã€‚</p>\n<h2 id=\"6-7-æ€»ç»“\"><a href=\"#6-7-æ€»ç»“\" class=\"headerlink\" title=\"6.7 æ€»ç»“\"></a>6.7 æ€»ç»“</h2><p>æœ¬ç« ä¸ºä½ æä¾›äº†åˆ¶ä½œå¤æ‚è€Œå¸å¼•äººçš„Shinyåº”ç”¨ç¨‹åºæ‰€éœ€çš„å·¥å…·ã€‚ä½ å·²ç»å­¦ä¹ äº†Shinyå‡½æ•°ï¼Œè¿™äº›å‡½æ•°å…è®¸ä½ å¸ƒå±€å•é¡µå’Œå¤šé¡µåº”ç”¨ç¨‹åºï¼ˆå¦‚<code>fluidPage()</code>å’Œ<code>tabsetPanel()</code>ï¼‰ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ä¸»é¢˜å®šåˆ¶æ•´ä½“è§†è§‰å¤–è§‚ã€‚ä½ è¿˜å­¦åˆ°äº†ä¸€äº›å…³äºåº•å±‚çš„ä¸œè¥¿ï¼šä½ çŸ¥é“Shinyä½¿ç”¨Bootstrapï¼Œå¹¶ä¸”è¾“å…¥å’Œè¾“å‡ºå‡½æ•°åªè¿”å›HTMLï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå·±åˆ›å»ºè‡ªå·±çš„HTMLã€‚</p>\n<p>åœ¨ä¸‹ä¸€ç« ä¸­ï¼Œæ‚¨å°†äº†è§£æœ‰å…³åº”ç”¨ç¨‹åºä¸­å¦ä¸€ä¸ªé‡è¦è§†è§‰ç»„ä»¶çš„æ›´å¤šä¿¡æ¯ï¼šå›¾å½¢ã€‚</p>\n<h1 id=\"åŠ å…³æ³¨\"><a href=\"#åŠ å…³æ³¨\" class=\"headerlink\" title=\"åŠ å…³æ³¨\"></a>åŠ å…³æ³¨</h1><p>å…³æ³¨å…¬ä¼—å·â€œç”Ÿä¿¡ä¹‹å·…â€ã€‚</p>\n<table align=\"center\"><tr>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å¾®ä¿¡å…¬ä¼—å·\" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-right: 0px;margin-bottom: 5px;align: center;\"></td>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å°ç¨‹åºç \" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-left: 0px;margin-bottom: 5px;align: center\"></td>\n</tr></table>\n\n\n<p><font color=\"#FF0000\"><ruby><b>æ•¬å‘Š</b>ï¼šä½¿ç”¨æ–‡ä¸­è„šæœ¬è¯·å¼•ç”¨æœ¬æ–‡ç½‘å€ï¼Œè¯·å°Šé‡æœ¬äººçš„åŠ³åŠ¨æˆæœï¼Œè°¢è°¢ï¼<rt><b>Notice</b>: When you use the scripts in this article, please cite the link of this webpage. Thank you!</rt></ruby></font></p>\n","raw":null,"categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"ç¼–ç¨‹","path":"api/tags/ç¼–ç¨‹.json"},{"name":"Shinyå…¥é—¨ç³»åˆ—","path":"api/tags/Shinyå…¥é—¨ç³»åˆ—.json"}]},{"title":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”5-å·¥ä½œæµ","slug":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”5-å·¥ä½œæµ","date":"2024-01-24T14:24:55.000Z","updated":"2024-03-11T13:07:17.000Z","comments":true,"path":"api/articles/Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”5-å·¥ä½œæµ.json","excerpt":null,"keywords":null,"cover":"https://d33wubrfki0l68.cloudfront.net/6f3bccc61698dce386b5650c4204d59ebcd66836/571c3/images/action-workflow/new-project.png","content":"<h1 id=\"ç¬¬äºŒéƒ¨åˆ†æ¦‚è§ˆ\"><a href=\"#ç¬¬äºŒéƒ¨åˆ†æ¦‚è§ˆ\" class=\"headerlink\" title=\"ç¬¬äºŒéƒ¨åˆ†æ¦‚è§ˆ\"></a>ç¬¬äºŒéƒ¨åˆ†æ¦‚è§ˆ</h1><p>ä»¥ä¸‹ç« èŠ‚ä¸ºæ‚¨æä¾›äº†ä¸€ç¯®å­æœ‰ç”¨çš„æŠ€å·§ã€‚æˆ‘è®¤ä¸ºæ¯ä¸ªäººéƒ½åº”è¯¥ä»ç¬¬20.2.1ç« å¼€å§‹ï¼Œå› ä¸ºå®ƒä¸ºæ‚¨å¼€å‘å’Œè°ƒè¯•åº”ç”¨ç¨‹åºæä¾›äº†é‡è¦çš„å·¥å…·ï¼Œå¹¶åœ¨æ‚¨é‡åˆ°å›°éš¾æ—¶ä¸ºæ‚¨æä¾›å¸®åŠ©ã€‚</p>\n<p>ä¹‹åï¼Œç« èŠ‚ä¹‹é—´çš„è”ç³»ä¸å¤§ï¼Œå› è€Œæ²¡æœ‰è§„å®šçš„å­¦ä¹ é¡ºåºï¼šæˆ‘å»ºè®®å¿«é€Ÿæµè§ˆä»¥äº†è§£æƒ…å†µï¼ˆè¿™æ ·å¦‚æœå°†æ¥å‡ºç°ç›¸å…³é—®é¢˜ï¼Œä½ å¯èƒ½ä¼šè®°ä½è¿™äº›å·¥å…·ï¼‰ï¼Œå¦åˆ™åªæ·±å…¥é˜…è¯»ä½ ç›®å‰éœ€è¦çš„å†…å®¹ã€‚ä»¥ä¸‹æ˜¯ä¸»è¦ä¸»é¢˜çš„å¿«é€Ÿæ€»ç»“ï¼š</p>\n<ul>\n<li><p>ç¬¬6ç« è¯¦ç»†ä»‹ç»äº†åœ¨é¡µé¢ä¸Šå¸ƒå±€è¾“å…¥å’Œè¾“å‡ºç»„ä»¶çš„å„ç§æ–¹æ³•ï¼Œä»¥åŠå¦‚ä½•ä½¿ç”¨ä¸»é¢˜å®šåˆ¶å®ƒä»¬çš„å¤–è§‚ã€‚</p>\n</li>\n<li><p>ç¬¬7ç« å‘æ‚¨å±•ç¤ºäº†å¦‚ä½•å‘ç»˜å›¾æ·»åŠ ç›´æ¥äº¤äº’ä»¥åŠå¦‚ä½•æ˜¾ç¤ºä»¥å…¶ä»–æ–¹å¼ç”Ÿæˆçš„å›¾åƒã€‚</p>\n</li>\n<li><p>ç¬¬8ç« ä»‹ç»äº†ä¸€ç³»åˆ—æŠ€æœ¯ï¼ˆåŒ…æ‹¬å†…è”é”™è¯¯ã€é€šçŸ¥ã€è¿›åº¦æ¡å’Œå¯¹è¯æ¡†ï¼‰ï¼Œç”¨äºåœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶å‘ç”¨æˆ·æä¾›åé¦ˆã€‚</p>\n</li>\n<li><p>ç¬¬9ç« è®¨è®ºäº†å¦‚ä½•å°†æ–‡ä»¶ä¼ è¾“åˆ°æ‚¨çš„åº”ç”¨ç¨‹åºä»¥åŠå¦‚ä½•ä»åº”ç”¨ç¨‹åºä¼ è¾“æ–‡ä»¶ã€‚</p>\n</li>\n<li><p>ç¬¬10ç« å‘æ‚¨å±•ç¤ºäº†å¦‚ä½•åœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶åŠ¨æ€ä¿®æ”¹å…¶ç”¨æˆ·ç•Œé¢ã€‚</p>\n</li>\n<li><p>ç¬¬11ç« å±•ç¤ºäº†å¦‚ä½•ä»¥ä¸€ç§ç”¨æˆ·å¯ä»¥æ ‡è®°çš„æ–¹å¼è®°å½•åº”ç”¨ç¨‹åºçŠ¶æ€ã€‚</p>\n</li>\n<li><p>ç¬¬12ç« å‘æ‚¨å±•ç¤ºäº†å¦‚ä½•åœ¨ä½¿ç”¨tidyverseåŒ…æ—¶å…è®¸ç”¨æˆ·é€‰æ‹©å˜é‡ã€‚</p>\n</li>\n</ul>\n<h1 id=\"5-å·¥ä½œæµ\"><a href=\"#5-å·¥ä½œæµ\" class=\"headerlink\" title=\"5. å·¥ä½œæµ\"></a>5. å·¥ä½œæµ</h1><p>å¦‚æœä½ æ‰“ç®—ç¼–å†™å¤§é‡çš„Shinyåº”ç”¨ç¨‹åºï¼Œé‚£ä¹ˆåœ¨ä½ çš„åŸºæœ¬å·¥ä½œæµä¸ŠæŠ•å…¥ä¸€äº›æ—¶é—´æ˜¯å€¼å¾—çš„ã€‚æ”¹è¿›å·¥ä½œæµæ˜¯æŠ•å…¥æ—¶é—´çš„å¥½åœ°æ–¹ï¼Œå› ä¸ºå®ƒå¾€å¾€ä¼šåœ¨é•¿æœŸå†…å¸¦æ¥å·¨å¤§çš„å›æŠ¥ã€‚è¿™ä¸ä»…ä¼šå¢åŠ ä½ èŠ±åœ¨ç¼–å†™Rä»£ç ä¸Šçš„æ—¶é—´æ¯”ä¾‹ï¼Œè€Œä¸”å› ä¸ºä½ èƒ½æ›´å¿«åœ°çœ‹åˆ°ç»“æœï¼Œæ‰€ä»¥ç¼–å†™Shinyåº”ç”¨ç¨‹åºçš„è¿‡ç¨‹ä¼šæ›´åŠ æ„‰å¿«ï¼Œä½ çš„æŠ€èƒ½ä¹Ÿä¼šæ›´å¿«åœ°æé«˜ã€‚</p>\n<p>æœ¬ç« çš„ç›®æ ‡æ˜¯å¸®åŠ©ä½ æ”¹è¿›ä¸‰ä¸ªé‡è¦çš„Shinyå·¥ä½œæµï¼š</p>\n<ul>\n<li><p>åˆ›å»ºåº”ç”¨ç¨‹åºã€åšå‡ºæ›´æ”¹å’Œå®éªŒç»“æœçš„åŸºæœ¬å¼€å‘å‘¨æœŸã€‚</p>\n</li>\n<li><p>è°ƒè¯•ï¼Œæ‰¾å‡ºä»£ç ä¸­å‡ºç°çš„é”™è¯¯å¹¶é›†æ€å¹¿ç›Šå¯»æ‰¾è§£å†³æ–¹æ¡ˆçš„å·¥ä½œæµã€‚</p>\n</li>\n<li><p>ç¼–å†™reprexesï¼Œè¯´æ˜ä¸€ä¸ªé—®é¢˜çš„è‡ªæˆ‘åŒ…å«çš„ä»£ç å—ã€‚Reprexæ˜¯ä¸€ç§å¼ºå¤§çš„è°ƒè¯•æŠ€æœ¯ï¼Œå¦‚æœä½ æƒ³ä»åˆ«äººé‚£é‡Œå¾—åˆ°å¸®åŠ©ï¼Œå®ƒä»¬æ˜¯å¿…ä¸å¯å°‘çš„ã€‚</p>\n</li>\n</ul>\n<h2 id=\"5-1-å¼€å‘å·¥ä½œæµ\"><a href=\"#5-1-å¼€å‘å·¥ä½œæµ\" class=\"headerlink\" title=\"5.1 å¼€å‘å·¥ä½œæµ\"></a>5.1 å¼€å‘å·¥ä½œæµ</h2><p>ä¼˜åŒ–ä½ çš„å¼€å‘å·¥ä½œæµçš„ç›®çš„æ˜¯å‡å°‘åšå‡ºæ›´æ”¹å’Œçœ‹åˆ°ç»“æœä¹‹é—´çš„æ—¶é—´ã€‚ä½ è¶Šå¿«è¿›è¡Œè¿­ä»£ï¼Œå°±è¶Šå¿«è¿›è¡Œå®éªŒï¼Œä½ å°±è¶Šå¿«æˆä¸ºä¸€ä¸ªæ›´å¥½çš„Shinyå¼€å‘äººå‘˜ã€‚è¿™é‡Œæœ‰ä¸¤ä¸ªä¸»è¦çš„å·¥ä½œæµéœ€è¦ä¼˜åŒ–ï¼šé¦–æ¬¡åˆ›å»ºåº”ç”¨ç¨‹åºï¼Œä»¥åŠåŠ å¿«è°ƒæ•´ä»£ç å’Œå°è¯•è¾“å‡ºç»“æœçš„è¿­ä»£å‘¨æœŸã€‚</p>\n<h3 id=\"5-1-1-åˆ›å»ºåº”ç”¨ç¨‹åº\"><a href=\"#5-1-1-åˆ›å»ºåº”ç”¨ç¨‹åº\" class=\"headerlink\" title=\"5.1.1 åˆ›å»ºåº”ç”¨ç¨‹åº\"></a>5.1.1 åˆ›å»ºåº”ç”¨ç¨‹åº</h3><p>æ¯ä¸ªåº”ç”¨ç¨‹åºéƒ½å°†ä»¥ç›¸åŒçš„å…­è¡ŒRä»£ç å¼€å§‹ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library(shiny)</span><br><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">)</span><br><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">shinyApp(ui, server)</span><br></pre></td></tr></table></figure>\n\n<p>ä½ å¯èƒ½å¾ˆå¿«å°±ä¼šåŒå€¦è¾“å…¥è¿™äº›ä»£ç ï¼Œæ‰€ä»¥RStudioæä¾›äº†ä¸€äº›å¿«æ·é”®ï¼š</p>\n<ul>\n<li><p>å¦‚æœä½ å·²ç»æ‰“å¼€äº†ä½ çš„æœªæ¥<code>app.R</code>ï¼Œè¾“å…¥<code>shinyapp</code>ç„¶åæŒ‰<code>Shift + Tab</code>æ’å…¥Shinyåº”ç”¨ç¨‹åºç‰‡æ®µã€‚<sup>15</sup></p>\n</li>\n<li><p>å¦‚æœä½ æƒ³å¼€å§‹ä¸€ä¸ªæ–°é¡¹ç›®<sup>16</sup>ï¼Œè¯·è½¬åˆ°æ–‡ä»¶èœå•ï¼Œé€‰æ‹©â€œNew Projectâ€ï¼Œç„¶åé€‰æ‹©â€œShiny Web Applicationâ€ï¼Œå¦‚å›¾5.1æ‰€ç¤ºã€‚</p>\n</li>\n</ul>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/6f3bccc61698dce386b5650c4204d59ebcd66836/571c3/images/action-workflow/new-project.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/6f3bccc61698dce386b5650c4204d59ebcd66836/571c3/images/action-workflow/new-project.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾5.1 åœ¨RStudioä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„Shinyåº”ç”¨ç¨‹åºï¼Œé€‰æ‹©â€œShiny Web Applicationâ€ä½œä¸ºé¡¹ç›®ç±»å‹\"></p>\n<p>ä½ å¯èƒ½è®¤ä¸ºå­¦ä¹ è¿™äº›å¿«æ·é”®ä¸å€¼å¾—ï¼Œå› ä¸ºä½ ä¸€å¤©åªåˆ›å»ºä¸€ä¸¤ä¸ªåº”ç”¨ç¨‹åºï¼Œä½†åˆ›å»ºç®€å•çš„åº”ç”¨ç¨‹åºæ˜¯æ£€æŸ¥ä½ åœ¨å¼€å§‹ä¸€ä¸ªæ›´å¤§çš„é¡¹ç›®ä¹‹å‰æ˜¯å¦æŒæ¡äº†åŸºæœ¬æ¦‚å¿µçš„å¥½æ–¹æ³•ï¼Œå¹¶ä¸”å®ƒä»¬æ˜¯è°ƒè¯•çš„å¼ºå¤§å·¥å…·ã€‚</p>\n<h3 id=\"5-1-2-æŸ¥çœ‹æ›´æ”¹\"><a href=\"#5-1-2-æŸ¥çœ‹æ›´æ”¹\" class=\"headerlink\" title=\"5.1.2 æŸ¥çœ‹æ›´æ”¹\"></a>5.1.2 æŸ¥çœ‹æ›´æ”¹</h3><p>ä½ æœ€å¤šä¸€å¤©ä¼šåˆ›å»ºå‡ ä¸ªåº”ç”¨ç¨‹åºï¼Œä½†ä½ ä¼šè¿è¡Œåº”ç”¨ç¨‹åºæ•°ç™¾æ¬¡ï¼Œå› æ­¤æŒæ¡å¼€å‘å·¥ä½œæµå°¤ä¸ºé‡è¦ã€‚å‡å°‘è¿­ä»£æ—¶é—´çš„ç¬¬ä¸€ä¸ªæ–¹æ³•æ˜¯é¿å…å•å‡»â€œRun Appâ€æŒ‰é’®ï¼Œè€Œæ˜¯å­¦ä¹ é”®ç›˜å¿«æ·é”®<code>Cmd / Ctrl + Shift + Enter</code>ã€‚è¿™ä½¿ä½ è·å¾—äº†ä»¥ä¸‹å¼€å‘å·¥ä½œæµï¼š</p>\n<ul>\n<li>å†™ä¸€äº›ä»£ç ã€‚</li>\n<li>ä½¿ç”¨Cmd &#x2F; Ctrl + Shift + Enterå¯åŠ¨åº”ç”¨ç¨‹åºã€‚</li>\n<li>ä¸åº”ç”¨ç¨‹åºäº¤äº’å¼å®éªŒã€‚</li>\n<li>å…³é—­åº”ç”¨ç¨‹åºã€‚</li>\n<li>å†™ä¸€äº›ä»£ç ã€‚</li>\n</ul>\n<p>å¦ä¸€ç§è¿›ä¸€æ­¥æé«˜è¿­ä»£é€Ÿåº¦çš„æ–¹æ³•æ˜¯æ‰“å¼€è‡ªåŠ¨é‡æ–°åŠ è½½ï¼Œå¹¶åœ¨åå°ä½œä¸šä¸­è¿è¡Œåº”ç”¨ç¨‹åºï¼Œå¦‚<a href=\"https://github.com/sol-eng/background-jobs/tree/master/shiny-job\">https://github.com/sol-eng/background-jobs/tree/master/shiny-job</a>æ‰€è¿°ã€‚ä½¿ç”¨æ­¤å·¥ä½œæµï¼Œä¸€æ—¦ä¿å­˜æ–‡ä»¶ï¼Œæ‚¨çš„åº”ç”¨ç¨‹åºå°†é‡æ–°å¯åŠ¨ï¼šæ— éœ€å…³é—­å’Œé‡æ–°å¯åŠ¨ã€‚è¿™å¯¼è‡´äº†æ›´å¿«é€Ÿçš„å·¥ä½œæµç¨‹ï¼š</p>\n<ul>\n<li>ç¼–å†™ä»£ç å¹¶æŒ‰Cmd &#x2F; Ctrl + Sä¿å­˜æ–‡ä»¶ã€‚</li>\n<li>äº¤äº’å¼å®éªŒã€‚</li>\n<li>ç¼–å†™ä»£ç å¹¶æŒ‰Cmd &#x2F; Ctrl + Sä¿å­˜æ–‡ä»¶ã€‚</li>\n</ul>\n<p>è¿™ç§æŠ€æœ¯çš„æœ€å¤§ç¼ºç‚¹æ˜¯è°ƒè¯•èµ·æ¥è¦å›°éš¾å¾—å¤šï¼Œå› ä¸ºåº”ç”¨ç¨‹åºåœ¨å•ç‹¬çš„è¿›ç¨‹ä¸­è¿è¡Œã€‚</p>\n<p>éšç€åº”ç”¨ç¨‹åºå˜å¾—è¶Šæ¥è¶Šåºå¤§ï¼Œä½ å¯èƒ½ä¼šå‘ç°â€œäº¤äº’å¼å®éªŒâ€æ­¥éª¤å˜å¾—ç›¸å½“ç¹çã€‚ä½ å¾ˆéš¾è®°ä½é‡æ–°æ£€æŸ¥ä½ å¯èƒ½å—æ›´æ”¹å½±å“çš„æ¯ä¸ªç»„ä»¶ã€‚ç¨åï¼Œåœ¨ç¬¬21ç« ä¸­ï¼Œä½ å°†å­¦ä¹ è‡ªåŠ¨åŒ–æµ‹è¯•çš„å·¥å…·ï¼Œè¿™å…è®¸ä½ å°†ä½ æ­£åœ¨è¿è¡Œçš„äº¤äº’å¼å®éªŒè½¬åŒ–ä¸ºè‡ªåŠ¨åŒ–çš„ä»£ç ã€‚è¿™ä½¿æ‚¨å¯ä»¥æ›´å¿«åœ°è¿è¡Œæµ‹è¯•ï¼ˆå› ä¸ºå®ƒä»¬æ˜¯è‡ªåŠ¨åŒ–çš„ï¼‰ï¼Œå¹¶ä¸”æ„å‘³ç€æ‚¨ä¸ä¼šå¿˜è®°è¿è¡Œé‡è¦çš„æµ‹è¯•ã€‚å¼€å‘æµ‹è¯•éœ€è¦ä¸€äº›åˆå§‹æŠ•èµ„ï¼Œä½†å¯¹äºå¤§å‹åº”ç”¨ç¨‹åºæ¥è¯´ï¼ŒæŠ•èµ„ä¼šå¾—åˆ°ä¸°åšçš„å›æŠ¥ã€‚</p>\n<h3 id=\"5-1-3-æ§åˆ¶è§†å›¾\"><a href=\"#5-1-3-æ§åˆ¶è§†å›¾\" class=\"headerlink\" title=\"5.1.3 æ§åˆ¶è§†å›¾\"></a>5.1.3 æ§åˆ¶è§†å›¾</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œå½“æ‚¨è¿è¡Œåº”ç”¨ç¨‹åºæ—¶ï¼Œå®ƒå°†åœ¨å¼¹å‡ºçª—å£ä¸­æ˜¾ç¤ºã€‚æ‚¨å¯ä»¥ä»â€œRun Appâ€ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©å¦å¤–ä¸¤ä¸ªé€‰é¡¹ï¼Œå¦‚å›¾1.1æ‰€ç¤ºï¼š</p>\n<ul>\n<li><p>åœ¨æŸ¥çœ‹å™¨çª—æ ¼ä¸­è¿è¡Œï¼šæ‰“å¼€åº”ç”¨ç¨‹åºçš„æŸ¥çœ‹å™¨çª—æ ¼ï¼ˆé€šå¸¸ä½äºIDEçš„å³ä¾§ï¼‰ã€‚è¿™å¯¹äºå°å‹åº”ç”¨ç¨‹åºå¾ˆæœ‰ç”¨ï¼Œå› ä¸ºæ‚¨å¯ä»¥åŒæ—¶æŸ¥çœ‹æ‚¨çš„åº”ç”¨ç¨‹åºä»£ç ã€‚</p>\n</li>\n<li><p>åœ¨å¤–éƒ¨è¿è¡Œï¼šåœ¨æ‚¨å¸¸ç”¨çš„ç½‘é¡µæµè§ˆå™¨ä¸­æ‰“å¼€åº”ç”¨ç¨‹åºã€‚è¿™å¯¹äºè¾ƒå¤§çš„åº”ç”¨ç¨‹åºä»¥åŠå½“æ‚¨æƒ³æŸ¥çœ‹åº”ç”¨ç¨‹åºåœ¨å¤§å¤šæ•°ç”¨æˆ·å°†ä½“éªŒçš„ä¸Šä¸‹æ–‡ä¸­çœ‹èµ·æ¥å¦‚ä½•æ—¶éå¸¸æœ‰ç”¨ã€‚</p>\n</li>\n</ul>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/2b4ca2b946e0302c87d2c16c096a55e2ef1ec64f/5f450/images/action-workflow/run-app.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/2b4ca2b946e0302c87d2c16c096a55e2ef1ec64f/5f450/images/action-workflow/run-app.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾1.1 è¿è¡Œåº”ç”¨ç¨‹åºæŒ‰é’®å…è®¸æ‚¨é€‰æ‹©å¦‚ä½•æ˜¾ç¤ºæ­£åœ¨è¿è¡Œçš„åº”ç”¨ç¨‹åºã€‚\"></p>\n<h2 id=\"5-2-è°ƒè¯•\"><a href=\"#5-2-è°ƒè¯•\" class=\"headerlink\" title=\"5.2 è°ƒè¯•\"></a>5.2 è°ƒè¯•</h2><p>å½“ä½ å¼€å§‹ç¼–å†™åº”ç”¨ç¨‹åºæ—¶ï¼Œå‡ ä¹å¯ä»¥è‚¯å®šä¼šå‡ºç°é—®é¢˜ã€‚å¤§å¤šæ•°é”™è¯¯çš„èµ·å› æ˜¯æ‚¨çš„Shinyå¿ƒç†æ¨¡å‹ä¸Shinyå®é™…æ‰§è¡Œçš„æ“ä½œä¸åŒ¹é…ã€‚éšç€æ‚¨é˜…è¯»æœ¬ä¹¦ï¼Œæ‚¨çš„å¿ƒç†æ¨¡å‹å°†å¾—åˆ°æ”¹å–„ï¼Œä»¥ä¾¿æ‚¨çŠ¯æ›´å°‘çš„é”™è¯¯ï¼Œå½“æ‚¨çŠ¯é”™è¯¯æ—¶ï¼Œæ›´å®¹æ˜“å‘ç°é—®é¢˜ã€‚ä½†æ˜¯ï¼Œåœ¨æ‚¨èƒ½å¤Ÿå¯é åœ°é¦–æ¬¡ç¼–å†™æœ‰æ•ˆä»£ç ä¹‹å‰ï¼Œéœ€è¦å¤šå¹´çš„ç»éªŒï¼Œè¿™æ„å‘³ç€æ‚¨éœ€è¦å¼€å‘ä¸€ä¸ªå¯é çš„å·¥ä½œæµç¨‹æ¥è¯†åˆ«å’Œä¿®å¤é”™è¯¯ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬å°†é‡ç‚¹å…³æ³¨Shinyåº”ç”¨ç¨‹åºç‰¹æœ‰çš„æŒ‘æˆ˜ï¼›å¦‚æœæ‚¨æ˜¯Rä¸­è°ƒè¯•çš„æ–°æ‰‹ï¼Œè¯·ä»Jenny Bryançš„rstudio::conf(2020)ä¸»é¢˜æ¼”è®²â€œ<a href=\"https://resources.rstudio.com/rstudio-conf-2020/object-of-type-closure-is-not-subsettable-jenny-bryan\">Object of type â€˜closureâ€™ is not subsettable</a>â€å¼€å§‹ã€‚</p>\n<p>ä¸‹é¢æˆ‘ä»¬å°†è®¨è®ºä¸‰ç§ä¸»è¦é—®é¢˜ï¼š</p>\n<ul>\n<li><p>å‡ºç°æ„å¤–çš„é”™è¯¯ã€‚è¿™æ˜¯æœ€ç®€å•çš„æƒ…å†µï¼Œå› ä¸ºæ‚¨ä¼šæ”¶åˆ°ä¸€ä¸ªè·Ÿè¸ªå›æº¯ï¼Œå®ƒå…è®¸æ‚¨æ‰¾å‡ºé”™è¯¯å‘ç”Ÿçš„å…·ä½“ä½ç½®ã€‚ä¸€æ—¦ç¡®å®šäº†é—®é¢˜ï¼Œæ‚¨éœ€è¦ç³»ç»Ÿåœ°æµ‹è¯•æ‚¨çš„å‡è®¾ï¼Œç›´åˆ°æ‰¾åˆ°æœŸæœ›ä¸ç°å®ä¹‹é—´çš„å·®å¼‚ã€‚äº¤äº’å¼è°ƒè¯•å™¨æ˜¯æ­¤è¿‡ç¨‹çš„å¼ºå¤§åŠ©æ‰‹ã€‚</p>\n</li>\n<li><p>æ²¡æœ‰é”™è¯¯ï¼Œä½†æŸäº›å€¼ä¸æ­£ç¡®ã€‚åœ¨è¿™é‡Œï¼Œæ‚¨éœ€è¦ä½¿ç”¨äº¤äº’å¼è°ƒè¯•å™¨ä»¥åŠæ‚¨çš„è°ƒæŸ¥æŠ€èƒ½æ¥è¿½è¸ªé—®é¢˜çš„æ ¹æºã€‚</p>\n</li>\n<li><p>æ‰€æœ‰å€¼éƒ½æ­£ç¡®ï¼Œä½†å®ƒä»¬æ²¡æœ‰æŒ‰é¢„æœŸæ›´æ–°ã€‚è¿™æ˜¯æœ€å…·æœ‰æŒ‘æˆ˜æ€§çš„é—®é¢˜ï¼Œå› ä¸ºå®ƒæ˜¯Shinyç‰¹æœ‰çš„ï¼Œå› æ­¤æ‚¨æ— æ³•åˆ©ç”¨ç°æœ‰çš„Rè°ƒè¯•æŠ€èƒ½ã€‚</p>\n</li>\n</ul>\n<p>å½“å‡ºç°è¿™ç§æƒ…å†µæ—¶ï¼Œä¼šä»¤äººæ„Ÿåˆ°æ²®ä¸§ï¼Œä½†æ‚¨å¯ä»¥å°†å…¶è½¬åŒ–ä¸ºç»ƒä¹ è°ƒè¯•æŠ€èƒ½çš„æœºä¼šã€‚</p>\n<p>æˆ‘ä»¬å°†å›åˆ°å¦ä¸€ç§é‡è¦çš„æŠ€æœ¯ï¼Œåˆ¶ä½œå¯é‡å¤çš„æœ€å°ç¤ºä¾‹ï¼Œä¸‹ä¸€éƒ¨åˆ†ä¸­ã€‚å¦‚æœä½ å¡ä½ï¼Œéœ€è¦ä»åˆ«äººé‚£é‡Œå¾—åˆ°å¸®åŠ©ï¼Œåˆ›å»ºä¸€ä¸ªæœ€å°ç¤ºä¾‹æ˜¯è‡³å…³é‡è¦çš„ã€‚ä½†åˆ›å»ºæœ€å°ç¤ºä¾‹ä¹Ÿæ˜¯è°ƒè¯•è‡ªå·±ä»£ç æ—¶æå…¶é‡è¦çš„æŠ€èƒ½ã€‚é€šå¸¸ï¼Œä½ æœ‰å¾ˆå¤šå·¥ä½œæ­£å¸¸çš„ä»£ç ï¼Œå’Œä¸€å°éƒ¨åˆ†å¼•èµ·é—®é¢˜çš„ä»£ç ã€‚å¦‚æœä½ å¯ä»¥é€šè¿‡åˆ é™¤æœ‰æ•ˆä»£ç æ¥ç¼©å°æœ‰é—®é¢˜çš„ä»£ç ï¼Œä½ å°†èƒ½å¤Ÿæ›´å¿«åœ°è¿­ä»£è§£å†³æ–¹æ¡ˆã€‚è¿™æ˜¯æˆ‘æ¯å¤©ä½¿ç”¨çš„æŠ€æœ¯ã€‚</p>\n<h3 id=\"5-2-1-é˜…è¯»tracebacks\"><a href=\"#5-2-1-é˜…è¯»tracebacks\" class=\"headerlink\" title=\"5.2.1 é˜…è¯»tracebacks\"></a>5.2.1 é˜…è¯»tracebacks</h3><p>åœ¨Rä¸­ï¼Œæ¯ä¸ªé”™è¯¯éƒ½ä¼´éšç€ä¸€ä¸ªtracebackï¼Œæˆ–è°ƒç”¨å †æ ˆï¼Œå®ƒä¼šè·Ÿè¸ªå¯¼è‡´é”™è¯¯çš„è°ƒç”¨åºåˆ—ã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘ä»¥ä¸‹ç®€å•çš„è°ƒç”¨åºåˆ—ï¼š<code>f()</code>è°ƒç”¨<code>g()</code>è°ƒç”¨<code>h()</code>è°ƒç”¨ä¹˜æ³•è¿ç®—ç¬¦ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">f <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span> g<span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span></span><br><span class=\"line\">g <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span> h<span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span></span><br><span class=\"line\">h <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>x<span class=\"punctuation\">)</span> x <span class=\"operator\">*</span> <span class=\"number\">2</span></span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœä»¥ä¸Šç¨‹åºæŠ¥å¦‚ä¸‹é”™è¯¯ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">f<span class=\"punctuation\">(</span><span class=\"string\">&quot;a&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; Error in x * 2: non-numeric argument to binary operator</span></span><br></pre></td></tr></table></figure>\n\n<p>ä½ å¯ä»¥è°ƒç”¨traceback()æ‰¾åˆ°å¯¼è‡´é—®é¢˜çš„è°ƒç”¨åºåˆ—ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">traceback<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3: h(x)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2: g(x)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1: f(&quot;a&quot;)</span></span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘è®¤ä¸ºé€šè¿‡é¢ å€’tracebackå¯ä»¥æœ€å®¹æ˜“åœ°ç†è§£å®ƒï¼š</p>\n<figure class=\"highlight tex\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1: f(&quot;a&quot;)</span><br><span class=\"line\">2: g(x)</span><br><span class=\"line\">3: h(x)</span><br></pre></td></tr></table></figure>\n\n<p>ç°åœ¨å¯ä»¥å‘Šè¯‰ä½ å¯¼è‡´é”™è¯¯çš„è°ƒç”¨åºåˆ—â€”â€”f()è°ƒç”¨g()è°ƒç”¨h()ï¼ˆå‡ºç°é”™è¯¯ï¼‰ã€‚</p>\n<h3 id=\"5-2-2-Shinyä¸­çš„traceback\"><a href=\"#5-2-2-Shinyä¸­çš„traceback\" class=\"headerlink\" title=\"5.2.2 Shinyä¸­çš„traceback()\"></a>5.2.2 Shinyä¸­çš„traceback()</h3><p>é—æ†¾çš„æ˜¯ï¼Œåœ¨Shinyä¸­ä¸èƒ½ä½¿ç”¨traceback()ï¼Œå› ä¸ºåœ¨åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ä¸èƒ½è¿è¡Œä»£ç ã€‚ç›¸åï¼ŒShinyå°†è‡ªåŠ¨ä¸ºæ‚¨æ‰“å°tracebackã€‚ä¾‹å¦‚ï¼Œè€ƒè™‘ä½¿ç”¨ä¸Šé¢å®šä¹‰çš„é‚£ä¸ªf()å‡½æ•°ç¼–å†™çš„è¿™ä¸ªç®€å•åº”ç”¨ç¨‹åºï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library(shiny)</span><br><span class=\"line\"></span><br><span class=\"line\">f &lt;- function(x) g(x)</span><br><span class=\"line\">g &lt;- function(x) h(x)</span><br><span class=\"line\">h &lt;- function(x) x * 2</span><br><span class=\"line\"></span><br><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  selectInput(&quot;n&quot;, &quot;N&quot;, 1:10),</span><br><span class=\"line\">  plotOutput(&quot;plot&quot;)</span><br><span class=\"line\">)</span><br><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  output$plot &lt;- renderPlot(&#123;</span><br><span class=\"line\">    n &lt;- f(input$n)</span><br><span class=\"line\">    plot(head(cars, n))</span><br><span class=\"line\">  &#125;, res = 96)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">shinyApp(ui, server)</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœæ‚¨è¿è¡Œæ­¤åº”ç”¨ç¨‹åºï¼Œæ‚¨å°†åœ¨åº”ç”¨ç¨‹åºä¸­çœ‹åˆ°é”™è¯¯æ¶ˆæ¯ï¼Œå¹¶åœ¨æ§åˆ¶å°ä¸­çœ‹åˆ°tracebackï¼š</p>\n<figure class=\"highlight tex\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Error in *: non-numeric argument to binary operator</span><br><span class=\"line\">  169: g [app.R<span class=\"params\">#4</span>]</span><br><span class=\"line\">  168: f [app.R<span class=\"params\">#3</span>]</span><br><span class=\"line\">  167: renderPlot [app.R<span class=\"params\">#1</span>3]</span><br><span class=\"line\">  165: func</span><br><span class=\"line\">  125: drawPlot</span><br><span class=\"line\">  111: &lt;reactive:plotObj&gt;</span><br><span class=\"line\">   95: drawReactive</span><br><span class=\"line\">   82: renderFunc</span><br><span class=\"line\">   81: output<span class=\"built_in\">$</span>plot</span><br><span class=\"line\">    1: runApp</span><br></pre></td></tr></table></figure>\n\n<p>ä¸ºäº†ç†è§£å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæˆ‘ä»¬å†æ¬¡é¢ å€’è¿‡æ¥ä»¥ä¾¿æŒ‰ç…§å®ƒä»¬å‡ºç°çš„é¡ºåºçœ‹åˆ°è°ƒç”¨åºåˆ—ï¼š</p>\n<figure class=\"highlight tex\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Error in *: non-numeric argument to binary operator</span><br><span class=\"line\">   1: runApp</span><br><span class=\"line\">  81: output<span class=\"built_in\">$</span>plot</span><br><span class=\"line\">  82: renderFunc</span><br><span class=\"line\">  95: drawReactive</span><br><span class=\"line\"> 111: &lt;reactive:plotObj&gt;</span><br><span class=\"line\"> 125: drawPlot</span><br><span class=\"line\"> 165: func</span><br><span class=\"line\"> 167: renderPlot [app.R<span class=\"params\">#1</span>3]</span><br><span class=\"line\"> 168: f [app.R<span class=\"params\">#3</span>]</span><br><span class=\"line\"> 169: g [app.R<span class=\"params\">#4</span>]</span><br></pre></td></tr></table></figure>\n\n<p>è°ƒç”¨å †æ ˆæœ‰ä¸‰ä¸ªåŸºæœ¬éƒ¨åˆ†ï¼š</p>\n<ul>\n<li><p>æœ€åˆå‡ ä¸ªè°ƒç”¨å¯åŠ¨åº”ç”¨ç¨‹åºã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä½ åªçœ‹åˆ°runApp()ï¼Œä½†æ ¹æ®ä½ å¯åŠ¨åº”ç”¨ç¨‹åºçš„æ–¹å¼ï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°æ›´å¤æ‚çš„ä¸œè¥¿ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ è°ƒç”¨source()æ¥è¿è¡Œåº”ç”¨ç¨‹åºï¼Œä½ å¯èƒ½ä¼šçœ‹åˆ°è¿™ä¸ªï¼š</p>\n  <figure class=\"highlight tex\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">1: source</span><br><span class=\"line\">3: print.shiny.appobj</span><br><span class=\"line\">5: runApp</span><br></pre></td></tr></table></figure>\n\n<p>  ä¸€èˆ¬æ¥è¯´ï¼Œä½ å¯ä»¥å¿½ç•¥ç¬¬ä¸€è¡ŒrunApp()ä¹‹å‰çš„ä»»ä½•å†…å®¹ï¼›è¿™åªæ˜¯å¯åŠ¨åº”ç”¨ç¨‹åºçš„è®¾ç½®ä»£ç ã€‚</p>\n</li>\n<li><p>æ¥ä¸‹æ¥ï¼Œä½ ä¼šçœ‹åˆ°ä¸€äº›è´Ÿè´£è°ƒç”¨ååº”å¼è¡¨è¾¾å¼çš„Shinyå†…éƒ¨ä»£ç ï¼š</p>\n  <figure class=\"highlight tex\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"> 81: output<span class=\"built_in\">$</span>plot</span><br><span class=\"line\"> 82: renderFunc</span><br><span class=\"line\"> 95: drawReactive</span><br><span class=\"line\">111: &lt;reactive:plotObj&gt;</span><br><span class=\"line\">125: drawPlot</span><br><span class=\"line\">165: func</span><br></pre></td></tr></table></figure>\n\n<p>  åœ¨è¿™é‡Œï¼Œæ³¨æ„åˆ°output$plotéå¸¸é‡è¦-è¿™ä¼šå‘Šè¯‰ä½ çš„å“ªä¸ªååº”ä½“(plot)å¼•èµ·äº†é”™è¯¯ã€‚æ¥ä¸‹æ¥çš„å‡ ä¸ªå‡½æ•°æ˜¯å†…éƒ¨çš„ï¼Œä½ å¯ä»¥å¿½ç•¥å®ƒä»¬ã€‚</p>\n</li>\n<li><p>æœ€åï¼Œåœ¨åº•éƒ¨ï¼Œä½ ä¼šçœ‹åˆ°ä½ ç¼–å†™çš„ä»£ç ï¼š</p>\n<figure class=\"highlight tex\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">167: renderPlot [app.R<span class=\"params\">#1</span>3]</span><br><span class=\"line\">168: f [app.R<span class=\"params\">#3</span>]</span><br><span class=\"line\">169: g [app.R<span class=\"params\">#4</span>]</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ˜¯åœ¨renderPlot()ä¸­è°ƒç”¨çš„ä»£ç ã€‚è¿™é‡Œéœ€è¦ç‰¹åˆ«æ³¨æ„ï¼Œå› ä¸ºæ–‡ä»¶è·¯å¾„å’Œè¡Œå·ï¼›è¿™å‘Šè¯‰ä½ è¿™æ˜¯ä½ çš„ä»£ç ã€‚</p>\n</li>\n</ul>\n<p>å¦‚æœæ‚¨åœ¨åº”ç”¨ç¨‹åºä¸­é‡åˆ°é”™è¯¯ï¼Œä½†æ²¡æœ‰çœ‹åˆ°tracebackï¼Œè¯·ç¡®ä¿æ‚¨ä½¿ç”¨<code>Cmd/Ctrl + Shift + Enter</code>ï¼ˆå¦‚æœåœ¨RStudioä¸­æ²¡æœ‰ï¼Œè¯·è°ƒç”¨<code>runApp()</code>ï¼‰è¿è¡Œåº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”æ‚¨å·²ç»ä¿å­˜äº†è¿è¡Œå®ƒçš„æ–‡ä»¶ã€‚å…¶ä»–è¿è¡Œåº”ç”¨ç¨‹åºçš„æ–¹å¼å¹¶ä¸æ€»æ˜¯æ•è·ç”Ÿæˆtracebackæ‰€éœ€çš„ä¿¡æ¯ã€‚</p>\n<h3 id=\"5-2-3-äº¤äº’å¼è°ƒè¯•å™¨\"><a href=\"#5-2-3-äº¤äº’å¼è°ƒè¯•å™¨\" class=\"headerlink\" title=\"5.2.3 äº¤äº’å¼è°ƒè¯•å™¨\"></a>5.2.3 äº¤äº’å¼è°ƒè¯•å™¨</h3><p>ä¸€æ—¦æ‚¨å·²ç»æ‰¾åˆ°äº†é”™è¯¯çš„æ¥æºå¹¶æƒ³å¼„æ¸…æ¥šæ˜¯ä»€ä¹ˆå¯¼è‡´äº†é”™è¯¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨æœ€å¼ºå¤§çš„å·¥å…·æ˜¯äº¤äº’å¼è°ƒè¯•å™¨ã€‚è°ƒè¯•å™¨æš‚åœæ‰§è¡Œï¼Œå¹¶ä¸ºæ‚¨æä¾›ä¸€ä¸ªäº¤äº’å¼Ræ§åˆ¶å°ï¼Œæ‚¨å¯ä»¥åœ¨å…¶ä¸­è¿è¡Œä»»ä½•ä»£ç ä»¥æ‰¾å‡ºé—®é¢˜æ‰€åœ¨ã€‚æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å¯åŠ¨è°ƒè¯•å™¨ï¼š</p>\n<ul>\n<li><p>åœ¨æ‚¨çš„æºä»£ç ä¸­æ·»åŠ ä¸€ä¸ªå¯¹<code>browser()</code>çš„è°ƒç”¨ã€‚è¿™æ˜¯æ ‡å‡†Rå¯åŠ¨äº¤äº’å¼è°ƒè¯•å™¨çš„æ–¹æ³•ï¼Œå¹¶ä¸”æ— è®ºæ‚¨å¦‚ä½•è¿è¡ŒShinyéƒ½ä¼šæœ‰æ•ˆã€‚</p>\n<p>browser()çš„å¦ä¸€ä¸ªä¼˜ç‚¹æ˜¯ï¼Œç”±äºå®ƒæ˜¯Rä»£ç ï¼Œæ‚¨å¯ä»¥é€šè¿‡å°†å…¶ä¸ifè¯­å¥ç»“åˆä½¿ç”¨æ¥ä½¿å…¶å…·æœ‰æ¡ä»¶æ€§ã€‚è¿™å…è®¸æ‚¨ä»…å¯¹æœ‰é—®é¢˜çš„è¾“å…¥å¯åŠ¨è°ƒè¯•å™¨ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>input<span class=\"operator\">$</span>value <span class=\"operator\">==</span> <span class=\"string\">&quot;a&quot;</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"built_in\">browser</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\"><span class=\"comment\"># Or maybe</span></span><br><span class=\"line\"><span class=\"keyword\">if</span> <span class=\"punctuation\">(</span>my_reactive<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"operator\">&lt;</span> <span class=\"number\">0</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  <span class=\"built_in\">browser</span><span class=\"punctuation\">(</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n</li>\n<li><p>é€šè¿‡å•å‡»è¡Œå·å·¦ä¾§æ¥æ·»åŠ RStudioæ–­ç‚¹ã€‚æ‚¨å¯ä»¥å•å‡»çº¢è‰²åœ†åœˆæ¥ç§»é™¤æ–­ç‚¹ã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/4b822ac61e876f90880b9b93313df56f4528dbcf/33702/images/action-workflow/breakpoint.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/4b822ac61e876f90880b9b93313df56f4528dbcf/33702/images/action-workflow/breakpoint.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\"></p>\n<p>æ–­ç‚¹çš„ä¼˜ç‚¹æ˜¯å®ƒä»¬ä¸æ˜¯ä»£ç ï¼Œå› æ­¤æ‚¨æ°¸è¿œä¸å¿…æ‹…å¿ƒæ„å¤–åœ°å°†å®ƒä»¬æäº¤åˆ°ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿã€‚</p>\n</li>\n</ul>\n<p>å¦‚æœæ‚¨æ­£åœ¨ä½¿ç”¨RStudioï¼Œå½“æ‚¨å¤„äºè°ƒè¯•å™¨æ—¶ï¼Œæ§åˆ¶å°é¡¶éƒ¨ä¼šå‡ºç°å›¾5.2ä¸­çš„å·¥å…·æ ã€‚å·¥å…·æ æ˜¯ä¸€ç§æ–¹ä¾¿æ‚¨è®°ä½ç°åœ¨å¯ç”¨çš„è°ƒè¯•å‘½ä»¤çš„æ–¹æ³•ã€‚å®ƒä»¬ä¹Ÿå¯ä»¥åœ¨RStudioä¹‹å¤–ä½¿ç”¨ï¼›æ‚¨åªéœ€è®°ä½æ¿€æ´»å®ƒä»¬çš„å•ä¸ªå­—æ¯å‘½ä»¤ã€‚ä¸‰ä¸ªæœ€æœ‰ç”¨çš„å‘½ä»¤æ˜¯ï¼š</p>\n<ul>\n<li><p>Nextï¼ˆæŒ‰nï¼‰ï¼šæ‰§è¡Œå‡½æ•°çš„ä¸‹ä¸€æ­¥ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœæ‚¨æœ‰ä¸€ä¸ªåä¸ºnçš„å˜é‡ï¼Œæ‚¨éœ€è¦ä½¿ç”¨print(n)æ¥æ˜¾ç¤ºå…¶å€¼ã€‚</p>\n</li>\n<li><p>Continueï¼ˆæŒ‰cï¼‰ï¼šé€€å‡ºäº¤äº’å¼è°ƒè¯•å¹¶ç»§ç»­å‡½æ•°çš„å¸¸è§„æ‰§è¡Œã€‚å¦‚æœæ‚¨å·²ç»ä¿®å¤äº†ä¸è‰¯çŠ¶æ€å¹¶ä¸”æƒ³è¦æ£€æŸ¥å‡½æ•°æ˜¯å¦æ­£ç¡®è¿›è¡Œï¼Œè¿™æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p>\n</li>\n<li><p>Stopï¼ˆæŒ‰Qï¼‰ï¼šåœæ­¢è°ƒè¯•ï¼Œç»ˆæ­¢å‡½æ•°å¹¶è¿”å›åˆ°å…¨å±€å·¥ä½œåŒºã€‚ä¸€æ—¦æ‚¨å·²ç»æ‰¾å‡ºé—®é¢˜æ‰€åœ¨ï¼Œå¹¶ä¸”æ‚¨å·²ç»å‡†å¤‡å¥½ä¿®å¤å®ƒå¹¶é‡æ–°åŠ è½½ä»£ç ï¼Œå°±å¯ä»¥ä½¿ç”¨æ­¤åŠŸèƒ½ã€‚</p>\n</li>\n</ul>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/08e163d4340339f15a7f124f52269a5797180adc/11f05/images/action-workflow/debug-toolbar.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/08e163d4340339f15a7f124f52269a5797180adc/11f05/images/action-workflow/debug-toolbar.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾ 5.2 RStudioä¸­çš„è°ƒè¯•å·¥å…·æ \"></p>\n<p>é™¤äº†ä½¿ç”¨è¿™äº›å·¥å…·é€è¡Œè°ƒè¯•ä»£ç å¤–ï¼Œæ‚¨è¿˜å°†ç¼–å†™å¹¶è¿è¡Œä¸€äº›äº¤äº’å¼ä»£ç æ¥è¿½è¸ªå‡ºäº†ä»€ä¹ˆé—®é¢˜ã€‚è°ƒè¯•æ˜¯ä¸€ä¸ªç³»ç»Ÿåœ°å°†æ‚¨çš„æœŸæœ›ä¸ç°å®è¿›è¡Œæ¯”è¾ƒçš„è¿‡ç¨‹ï¼Œç›´åˆ°æ‰¾åˆ°ä¸åŒ¹é…çš„åœ°æ–¹ã€‚å¦‚æœæ‚¨æ˜¯Rä¸­çš„æ–°æ‰‹ï¼Œå¯èƒ½éœ€è¦é˜…è¯»â€œAdvanced Râ€çš„è°ƒè¯•ç« èŠ‚ä»¥å­¦ä¹ ä¸€äº›ä¸€èˆ¬çš„æŠ€æœ¯ã€‚</p>\n<h3 id=\"5-2-4-æ¡ˆä¾‹ç ”ç©¶\"><a href=\"#5-2-4-æ¡ˆä¾‹ç ”ç©¶\" class=\"headerlink\" title=\"5.2.4 æ¡ˆä¾‹ç ”ç©¶\"></a>5.2.4 æ¡ˆä¾‹ç ”ç©¶</h3><p>ä¸€æ—¦ä½ æ’é™¤äº†ä¸å¯èƒ½ï¼Œå‰©ä¸‹çš„ï¼Œæ— è®ºå¤šä¹ˆä¸å¯æ€è®®ï¼Œä¸€å®šæ˜¯çœŸç›¸â€”â€”å¤æ´›å…‹Â·ç¦å°”æ‘©æ–¯</p>\n<p>ä¸ºäº†æ¼”ç¤ºåŸºæœ¬çš„è°ƒè¯•æ–¹æ³•ï¼Œæˆ‘å°†å‘ä½ å±•ç¤ºæˆ‘åœ¨ç¼–å†™ç¬¬10.1.2èŠ‚æ—¶é‡åˆ°çš„ä¸€ä¸ªå°é—®é¢˜ã€‚æˆ‘å°†é¦–å…ˆå‘ä½ å±•ç¤ºåŸºæœ¬çš„ä¸Šä¸‹æ–‡ï¼Œç„¶åä½ ä¼šçœ‹åˆ°ä¸€ä¸ªæˆ‘æ²¡æœ‰ä½¿ç”¨äº¤äº’å¼è°ƒè¯•å·¥å…·è§£å†³çš„é—®é¢˜ï¼Œä¸€ä¸ªéœ€è¦äº¤äº’å¼è°ƒè¯•çš„é—®é¢˜ï¼Œå¹¶å‘ç°ä¸€ä¸ªæœ€åçš„æƒŠå–œã€‚</p>\n<p>æœ€åˆçš„ç›®æ ‡å¾ˆç®€å•ï¼šæˆ‘æœ‰ä¸€ä¸ªé”€å”®æ•°æ®é›†ï¼Œæˆ‘æƒ³æŒ‰åœ°åŒºå¯¹å…¶è¿›è¡Œç­›é€‰ã€‚æ•°æ®çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sales <span class=\"operator\">&lt;-</span> readr<span class=\"operator\">::</span>read_csv<span class=\"punctuation\">(</span><span class=\"string\">&quot;sales-dashboard/sales_data_sample.csv&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">sales <span class=\"operator\">&lt;-</span> sales<span class=\"punctuation\">[</span><span class=\"built_in\">c</span><span class=\"punctuation\">(</span></span><br><span class=\"line\">  <span class=\"string\">&quot;TERRITORY&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;ORDERDATE&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;ORDERNUMBER&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;PRODUCTCODE&quot;</span><span class=\"punctuation\">,</span></span><br><span class=\"line\">  <span class=\"string\">&quot;QUANTITYORDERED&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;PRICEEACH&quot;</span></span><br><span class=\"line\"><span class=\"punctuation\">)</span><span class=\"punctuation\">]</span></span><br><span class=\"line\">sales</span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 2,823 Ã— 6</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   TERRITORY ORDERDATE      ORDERNUMBER PRODUCTCODE QUANTITYORDERED PRICEEACH</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   &lt;chr&gt;     &lt;chr&gt;                &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;     &lt;dbl&gt;</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1 &lt;NA&gt;      2/24/2003 0:00       10107 S10_1678                 30      95.7</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2 EMEA      5/7/2003 0:00        10121 S10_1678                 34      81.4</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3 EMEA      7/1/2003 0:00        10134 S10_1678                 41      94.7</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 4 &lt;NA&gt;      8/25/2003 0:00       10145 S10_1678                 45      83.3</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 2,819 more rows</span></span><br></pre></td></tr></table></figure>\n\n<p>é¢†åœŸä¿¡æ¯å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">unique<span class=\"punctuation\">(</span>sales<span class=\"operator\">$</span>TERRITORY<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; [1] NA      &quot;EMEA&quot;  &quot;APAC&quot;  &quot;Japan&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“æˆ‘åˆšå¼€å§‹ç ”ç©¶è¿™ä¸ªé—®é¢˜æ—¶ï¼Œæˆ‘è®¤ä¸ºå®ƒå¾ˆç®€å•ï¼Œæˆ‘å¯ä»¥ç›´æ¥ç¼–å†™åº”ç”¨ç¨‹åºï¼Œè€Œä¸éœ€è¦åšä»»ä½•å…¶ä»–ç ”ç©¶ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  selectInput(&quot;territory&quot;, &quot;territory&quot;, choices = unique(sales$TERRITORY)),</span><br><span class=\"line\">  tableOutput(&quot;selected&quot;)</span><br><span class=\"line\">)</span><br><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  selected &lt;- reactive(sales[sales$TERRITORY == input$territory, ])</span><br><span class=\"line\">  output$selected &lt;- renderTable(head(selected(), 10))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘æƒ³ï¼Œè¿™æ˜¯ä¸€ä¸ªå…«è¡Œåº”ç”¨ç¨‹åºï¼Œæ€ä¹ˆå¯èƒ½ä¼šå‡ºä»€ä¹ˆé—®é¢˜ï¼Ÿå¥½å§ï¼Œå½“æˆ‘æ‰“å¼€åº”ç”¨ç¨‹åºæ—¶ï¼Œæ— è®ºæˆ‘é€‰æ‹©å“ªä¸ªåŒºåŸŸï¼Œæˆ‘éƒ½çœ‹åˆ°äº†å¾ˆå¤šç¼ºå¤±çš„å€¼ã€‚æœ€æœ‰å¯èƒ½å¯¼è‡´é—®é¢˜çš„ä»£ç æ˜¯é€‰æ‹©è¦æ˜¾ç¤ºçš„æ•°æ®çš„ reactiveï¼š<code>sales[sales$TERRITORY == input$territory, ]</code>ã€‚æ‰€ä»¥æˆ‘åœæ­¢äº†åº”ç”¨ç¨‹åºï¼Œå¹¶è¿…é€ŸéªŒè¯ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sales<span class=\"punctuation\">[</span>sales<span class=\"operator\">$</span>TERRITORY <span class=\"operator\">==</span> <span class=\"string\">&quot;EMEA&quot;</span><span class=\"punctuation\">,</span> <span class=\"punctuation\">]</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 2,481 Ã— 6</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   TERRITORY ORDERDATE     ORDERNUMBER PRODUCTCODE QUANTITYORDERED PRICEEACH</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   &lt;chr&gt;     &lt;chr&gt;               &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;     &lt;dbl&gt;</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1 &lt;NA&gt;      &lt;NA&gt;                   NA &lt;NA&gt;                     NA      NA  </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2 EMEA      5/7/2003 0:00       10121 S10_1678                 34      81.4</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3 EMEA      7/1/2003 0:00       10134 S10_1678                 41      94.7</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 4 &lt;NA&gt;      &lt;NA&gt;                   NA &lt;NA&gt;                     NA      NA  </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 2,477 more rows</span></span><br></pre></td></tr></table></figure>\n\n<p>å“å‘€ï¼æˆ‘å¿˜äº† <code>TERRITORY</code> åŒ…å«ä¸€å †ç¼ºå¤±å€¼ï¼Œè¿™æ„å‘³ç€ <code>sales$TERRITORY == &quot;EMEA&quot;</code> å°†åŒ…å«ä¸€å †ç¼ºå¤±å€¼ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">head<span class=\"punctuation\">(</span>sales<span class=\"operator\">$</span>TERRITORY <span class=\"operator\">==</span> <span class=\"string\">&quot;EMEA&quot;</span><span class=\"punctuation\">,</span> <span class=\"number\">25</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  [1]    NA  TRUE  TRUE    NA    NA    NA  TRUE  TRUE    NA  TRUE FALSE    NA</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; [13]    NA    NA  TRUE    NA  TRUE  TRUE    NA    NA  TRUE FALSE  TRUE    NA</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; [25]  TRUE</span></span><br></pre></td></tr></table></figure>\n\n<p>å½“æˆ‘é€šè¿‡<code>[</code>ä½¿ç”¨è¿™äº›ç¼ºå¤±å€¼å¯¹<code>sales</code>æ•°æ®æ¡†è¿›è¡Œå–å­é›†æ—¶ï¼Œè¿™äº›ç¼ºå¤±å€¼å°±å˜æˆäº†ç¼ºå¤±è¡Œã€‚è¾“å…¥ä¸­çš„ä»»ä½•ç¼ºå¤±å€¼éƒ½ä¼šä¿ç•™åœ¨è¾“å‡ºä¸­ã€‚æœ‰å¾ˆå¤šæ–¹æ³•å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½†æˆ‘å†³å®šä½¿ç”¨ <code>subset()</code>ï¼Œå› ä¸ºå®ƒå¯ä»¥è‡ªåŠ¨åˆ é™¤ç¼ºå¤±å€¼å¹¶å‡å°‘æˆ‘éœ€è¦é”®å…¥ <code>sales</code> çš„æ¬¡æ•°ã€‚ç„¶åæˆ‘å†æ¬¡æ£€æŸ¥äº†å®ƒæ˜¯å¦çœŸçš„æœ‰æ•ˆï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">subset<span class=\"punctuation\">(</span>sales<span class=\"punctuation\">,</span> TERRITORY <span class=\"operator\">==</span> <span class=\"string\">&quot;EMEA&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 1,407 Ã— 6</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   TERRITORY ORDERDATE       ORDERNUMBER PRODUCTCODE QUANTITYORDERED PRICEEACH</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   &lt;chr&gt;     &lt;chr&gt;                 &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;     &lt;dbl&gt;</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1 EMEA      5/7/2003 0:00         10121 S10_1678                 34      81.4</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2 EMEA      7/1/2003 0:00         10134 S10_1678                 41      94.7</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3 EMEA      11/11/2003 0:00       10180 S10_1678                 29      86.1</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 4 EMEA      11/18/2003 0:00       10188 S10_1678                 48     100  </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 1,403 more rows</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™è§£å†³äº†æˆ‘é‡åˆ°çš„å¤§éƒ¨åˆ†é—®é¢˜ï¼Œä½†å½“æˆ‘åœ¨é¢†åœŸä¸‹æ‹‰èœå•ä¸­é€‰æ‹© NA æ—¶ï¼Œä»ç„¶æ²¡æœ‰å‡ºç°ä»»ä½•è¡Œã€‚å› æ­¤ï¼Œæˆ‘å†æ¬¡æ£€æŸ¥äº†æ§åˆ¶å°ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">subset<span class=\"punctuation\">(</span>sales<span class=\"punctuation\">,</span> TERRITORY <span class=\"operator\">==</span> <span class=\"literal\">NA</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 0 Ã— 6</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 6 variables: TERRITORY &lt;chr&gt;, ORDERDATE &lt;chr&gt;, ORDERNUMBER &lt;dbl&gt;,</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; #   PRODUCTCODE &lt;chr&gt;, QUANTITYORDERED &lt;dbl&gt;, PRICEEACH &lt;dbl&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åæˆ‘æ„è¯†åˆ°ï¼Œå½“ç„¶è¿™è¡Œä¸é€šï¼Œå› ä¸ºç¼ºå¤±å€¼å…·æœ‰ä¼ æŸ“æ€§ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">head<span class=\"punctuation\">(</span>sales<span class=\"operator\">$</span>TERRITORY <span class=\"operator\">==</span> <span class=\"literal\">NA</span><span class=\"punctuation\">,</span> <span class=\"number\">25</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  [1] NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA NA</span></span><br></pre></td></tr></table></figure>\n\n<p>æ­¤å¤„æœ‰å¦ä¸€ç§æ–¹æ³•å¯ä»¥è§£å†³è¯¥é—®é¢˜ï¼šå°†<code>==</code>æ›¿æ¢ä¸º<code>%in%</code>ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">head<span class=\"punctuation\">(</span>sales<span class=\"operator\">$</span>TERRITORY <span class=\"operator\">%in%</span> <span class=\"literal\">NA</span><span class=\"punctuation\">,</span> <span class=\"number\">25</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  [1]  TRUE FALSE FALSE  TRUE  TRUE  TRUE FALSE FALSE  TRUE FALSE FALSE  TRUE</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; [13]  TRUE  TRUE FALSE  TRUE FALSE FALSE  TRUE  TRUE FALSE FALSE FALSE  TRUE</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; [25] FALSE</span></span><br><span class=\"line\">subset<span class=\"punctuation\">(</span>sales<span class=\"punctuation\">,</span> TERRITORY <span class=\"operator\">%in%</span> <span class=\"literal\">NA</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 1,074 Ã— 6</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   TERRITORY ORDERDATE       ORDERNUMBER PRODUCTCODE QUANTITYORDERED PRICEEACH</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   &lt;chr&gt;     &lt;chr&gt;                 &lt;dbl&gt; &lt;chr&gt;                 &lt;dbl&gt;     &lt;dbl&gt;</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1 &lt;NA&gt;      2/24/2003 0:00        10107 S10_1678                 30      95.7</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2 &lt;NA&gt;      8/25/2003 0:00        10145 S10_1678                 45      83.3</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3 &lt;NA&gt;      10/10/2003 0:00       10159 S10_1678                 49     100  </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 4 &lt;NA&gt;      10/28/2003 0:00       10168 S10_1678                 36      96.7</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 1,070 more rows</span></span><br></pre></td></tr></table></figure>\n\n<p>äºæ˜¯æˆ‘æ›´æ–°äº†åº”ç”¨ç¨‹åºå¹¶å†æ¬¡å°è¯•ã€‚ä½†å®ƒä»ç„¶æ²¡æœ‰èµ·ä½œç”¨ï¼å½“æˆ‘åœ¨ä¸‹æ‹‰èœå•ä¸­é€‰æ‹©â€œNAâ€æ—¶ï¼Œæˆ‘æ²¡æœ‰çœ‹åˆ°ä»»ä½•è¡Œã€‚</p>\n<p>æ­¤æ—¶ï¼Œæˆ‘æƒ³æˆ‘å·²ç»åœ¨æ§åˆ¶å°ä¸Šåšäº†æ‰€æœ‰å¯ä»¥åšçš„äº‹æƒ…ï¼Œæˆ‘éœ€è¦è¿›è¡Œå®éªŒï¼Œæ‰¾å‡ºShinyå†…éƒ¨ä»£ç æ²¡æœ‰æŒ‰æˆ‘é¢„æœŸçš„æ–¹å¼å·¥ä½œçš„åŸå› ã€‚æˆ‘çŒœæœ€å¯èƒ½çš„é—®é¢˜æ¥æºæ˜¯åœ¨<code>selected</code>ååº”å¼ä¸­ï¼Œæ‰€ä»¥æˆ‘æ·»åŠ äº†ä¸€ä¸ª <a href=\"https://rdrr.io/r/base/browser.html\">browser()</a> è¯­å¥ã€‚ï¼ˆè¿™ä½¿å®ƒæˆä¸ºäº†ä¸€ä¸ªä¸¤è¡Œçš„ååº”å¼ï¼Œæ‰€ä»¥æˆ‘éœ€è¦ç”¨ <code>&#123;&#125;</code> å°†å…¶åŒ…è£¹èµ·æ¥ã€‚ï¼‰</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  selected &lt;- reactive(&#123;</span><br><span class=\"line\">    browser()</span><br><span class=\"line\">    subset(sales, TERRITORY %in% input$territory)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  output$selected &lt;- renderTable(head(selected(), 10))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ç°åœ¨ï¼Œå½“æˆ‘çš„åº”ç”¨ç¨‹åºè¿è¡Œæ—¶ï¼Œæˆ‘ç«‹å³è¢«æŠ•å…¥äº†ä¸€ä¸ªäº¤äº’å¼æ§åˆ¶å°ã€‚æˆ‘çš„ç¬¬ä¸€æ­¥æ˜¯éªŒè¯æˆ‘æ˜¯å¦å¤„äºæœ‰é—®é¢˜çš„æƒ…å†µï¼Œæ‰€ä»¥æˆ‘è¿è¡Œäº† <code>subset(sales, TERRITORY %in% input$territory)</code>ã€‚å®ƒè¿”å›äº†ä¸€ä¸ªç©ºæ•°æ®æ¡†ã€‚å¦‚æœæˆ‘æ²¡æœ‰çœ‹åˆ°é—®é¢˜ï¼Œæˆ‘ä¼šé”®å…¥ <code>c</code> è®©åº”ç”¨ç¨‹åºç»§ç»­è¿è¡Œï¼Œç„¶åè¿›è¡Œä¸€äº›äº¤äº’ä»¥è¿›å…¥å¤±è´¥çŠ¶æ€ã€‚</p>\n<p>ç„¶åæˆ‘æ£€æŸ¥ <code>subset()</code>çš„è¾“å…¥æ˜¯å¦ç¬¦åˆæˆ‘çš„é¢„æœŸã€‚æˆ‘é¦–å…ˆä»”ç»†æ£€æŸ¥ <code>sales</code> æ•°æ®é›†ã€‚æˆ‘å¹¶æ²¡æœ‰çœŸæ­£é¢„æœŸå®ƒä¼šæŸåï¼Œå› ä¸ºåº”ç”¨ç¨‹åºä¸­æ²¡æœ‰ä»»ä½•ä¸œè¥¿å¯ä»¥è§¦åŠåˆ°å®ƒï¼Œä½†ä»”ç»†æ£€æŸ¥ä½ æ‰€åšçš„æ¯ä¸€ä¸ªå‡è®¾æ˜¯æœ€å®‰å…¨çš„ã€‚<code>sales</code> çœ‹èµ·æ¥è¿˜ä¸é”™ï¼Œæ‰€ä»¥é—®é¢˜ä¸€å®šåœ¨äº <code>TERRITORY %in% input$territory</code>ã€‚ç”±äº <code>TERRITORY</code> æ˜¯ <code>sales</code> çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»æ£€æŸ¥ <code>input$territory</code> å¼€å§‹ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">input<span class=\"operator\">$</span>territory</span><br><span class=\"line\"><span class=\"comment\">#&gt; [1] &quot;NA&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ç›¯ç€è¿™ä¸ªçœ‹äº†ä¸€ä¼šå„¿ï¼Œå› ä¸ºå®ƒçœ‹èµ·æ¥ä¹Ÿè¿˜å¯ä»¥ã€‚ç„¶åæˆ‘çªç„¶æƒ³åˆ°ï¼æˆ‘åŸä»¥ä¸ºå®ƒæ˜¯<code>NA</code>ï¼Œä½†å®é™…ä¸Šå®ƒæ˜¯<code>â€œNAâ€</code>ï¼ç°åœ¨æˆ‘å¯ä»¥åœ¨Shinyåº”ç”¨ç¨‹åºä¹‹å¤–é‡æ–°åˆ›å»ºè¿™ä¸ªé—®é¢˜ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">subset<span class=\"punctuation\">(</span>sales<span class=\"punctuation\">,</span> TERRITORY <span class=\"operator\">%in%</span> <span class=\"string\">&quot;NA&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 0 Ã— 6</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 6 variables: TERRITORY &lt;chr&gt;, ORDERDATE &lt;chr&gt;, ORDERNUMBER &lt;dbl&gt;,</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; #   PRODUCTCODE &lt;chr&gt;, QUANTITYORDERED &lt;dbl&gt;, PRICEEACH &lt;dbl&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åæˆ‘æƒ³åˆ°äº†ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹æ³•ï¼Œå°†å…¶åº”ç”¨åˆ°æœåŠ¡å™¨ä¸Šï¼Œç„¶åé‡æ–°è¿è¡Œåº”ç”¨ç¨‹åºï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  selected &lt;- reactive(&#123;</span><br><span class=\"line\">    if (input$territory == &quot;NA&quot;) &#123;</span><br><span class=\"line\">      subset(sales, is.na(TERRITORY))</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      subset(sales, TERRITORY == input$territory)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  output$selected &lt;- renderTable(head(selected(), 10))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¥½æäº†ï¼é—®é¢˜è§£å†³äº†ï¼ä½†è¿™å¯¹æˆ‘æ¥è¯´æ„Ÿåˆ°éå¸¸æƒŠè®¶-Shinyé»˜é»˜åœ°å°†<code>NA</code>è½¬æ¢ä¸º<code>â€œNAâ€</code>ï¼Œå› æ­¤æˆ‘ä¹Ÿæäº¤äº†ä¸€ä¸ªé”™è¯¯æŠ¥å‘Šï¼š<a href=\"https://github.com/rstudio/shiny/issues/2884\">https://github.com/rstudio/shiny/issues/2884</a>ã€‚</p>\n<p>å‡ å‘¨åï¼Œæˆ‘å†æ¬¡çœ‹äº†è¿™ä¸ªä¾‹å­ï¼Œå¹¶å¼€å§‹æ€è€ƒä¸åŒçš„åœ°åŒºã€‚æˆ‘ä»¬æœ‰æ¬§æ´²ã€ä¸­ä¸œå’Œéæ´²ï¼ˆEMEAï¼‰ä»¥åŠäºšæ´²å¤ªå¹³æ´‹åœ°åŒºï¼ˆAPACï¼‰ã€‚åŒ—ç¾åœ¨å“ªé‡Œï¼Ÿç„¶åæˆ‘çªç„¶æƒ³åˆ°ï¼šæºæ•°æ®å¯èƒ½ä½¿ç”¨äº†ç¼©å†™NAï¼Œè€ŒRå°†å…¶è¯»ä½œç¼ºå¤±å€¼ã€‚å› æ­¤ï¼ŒçœŸæ­£çš„ä¿®å¤åº”è¯¥åœ¨æ•°æ®åŠ è½½æœŸé—´å®Œæˆï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">sales <span class=\"operator\">&lt;-</span> readr<span class=\"operator\">::</span>read_csv<span class=\"punctuation\">(</span><span class=\"string\">&quot;sales-dashboard/sales_data_sample.csv&quot;</span><span class=\"punctuation\">,</span> na <span class=\"operator\">=</span> <span class=\"string\">&quot;&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">unique<span class=\"punctuation\">(</span>sales<span class=\"operator\">$</span>TERRITORY<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; [1] &quot;NA&quot;    &quot;EMEA&quot;  &quot;APAC&quot;  &quot;Japan&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>è¿™è®©ç”Ÿæ´»å˜å¾—ç®€å•å¤šäº†ï¼</p>\n<p>åœ¨è°ƒè¯•æ—¶ï¼Œè¿™æ˜¯ä¸€ç§å¸¸è§çš„æ¨¡å¼ï¼šåœ¨å®Œå…¨ç†è§£é—®é¢˜çš„æ ¹æºä¹‹å‰ï¼Œä½ é€šå¸¸éœ€è¦å‰¥æ‰æ´‹è‘±çš„å¤šä¸ªå±‚ã€‚</p>\n<h3 id=\"5-2-5-è°ƒè¯•ååº”æ€§\"><a href=\"#5-2-5-è°ƒè¯•ååº”æ€§\" class=\"headerlink\" title=\"5.2.5 è°ƒè¯•ååº”æ€§\"></a>5.2.5 è°ƒè¯•ååº”æ€§</h3><p>æœ€éš¾è°ƒè¯•çš„é—®é¢˜æ˜¯å½“ä½ çš„ååº”å™¨ä»¥æ„æƒ³ä¸åˆ°çš„é¡ºåºå¯åŠ¨æ—¶ã€‚åœ¨æœ¬ä¹¦çš„è¿™ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬æ¨èç›¸å¯¹è¾ƒå°‘çš„å·¥å…·æ¥å¸®åŠ©ä½ è°ƒè¯•è¿™ä¸ªé—®é¢˜ã€‚åœ¨ä¸‹ä¸€èŠ‚ä¸­ï¼Œä½ å°†å­¦ä¹ å¦‚ä½•åˆ›å»ºä¸€ä¸ªæœ€å°çš„reprexï¼Œè¿™å¯¹è¿™ç±»é—®é¢˜è‡³å…³é‡è¦ï¼Œåœ¨æœ¬ä¹¦çš„åé¢ï¼Œä½ å°†å­¦ä¹ æ›´å¤šå…³äºåŸºç¡€ç†è®ºçš„çŸ¥è¯†ï¼Œä»¥åŠå…³äºåƒååº”æ—¥å¿—è¿™æ ·çš„å·¥å…·çš„çŸ¥è¯†ï¼Œ <a href=\"https://github.com/rstudio/reactlog\">https://github.com/rstudio/reactlog</a>ã€‚ä½†æ˜¯ç°åœ¨ï¼Œæˆ‘ä»¬å°†é‡ç‚¹ä»‹ç»ä¸€ç§åœ¨è¿™é‡Œå¾ˆæœ‰ç”¨çš„ç»å…¸æŠ€æœ¯ï¼šâ€œæ‰“å°â€è°ƒè¯•ã€‚</p>\n<p>æ‰“å°è°ƒè¯•çš„åŸºæœ¬æ€æƒ³æ˜¯ï¼Œæ¯å½“éœ€è¦äº†è§£ä»£ç çš„ä¸€éƒ¨åˆ†ä½•æ—¶è¢«æ±‚å€¼æ—¶ï¼Œå°±è°ƒç”¨ <code>print()</code>ï¼Œå¹¶æ˜¾ç¤ºé‡è¦å˜é‡çš„å€¼ã€‚æˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œæ‰“å°â€è°ƒè¯•ï¼ˆå› ä¸ºåœ¨å¤§å¤šæ•°è¯­è¨€ä¸­ï¼Œä½ ä¼šä½¿ç”¨ print å‡½æ•°ï¼‰ï¼Œä½†åœ¨ R ä¸­ï¼Œä½¿ç”¨ <code>message()</code> æ›´åˆç†ï¼š</p>\n<ul>\n<li><code>print()</code>æ—¨åœ¨æ˜¾ç¤ºæ•°æ®å‘é‡ï¼Œå› æ­¤å®ƒåœ¨å­—ç¬¦ä¸²å‘¨å›´åŠ ä¸Šå¼•å·ï¼Œå¹¶ä»¥<code>[1]</code>å¼€å¤´ã€‚</li>\n<li><code>message()</code>å°†å…¶ç»“æœå‘é€åˆ°â€œæ ‡å‡†é”™è¯¯â€ï¼Œè€Œä¸æ˜¯â€œæ ‡å‡†è¾“å‡ºâ€ã€‚è¿™äº›æ˜¯æè¿°è¾“å‡ºæµçš„æŠ€æœ¯æœ¯è¯­ï¼Œæ‚¨é€šå¸¸ä¸ä¼šæ³¨æ„åˆ°å®ƒä»¬ï¼Œå› ä¸ºå®ƒä»¬åœ¨äº¤äº’å¼è¿è¡Œæ—¶ä»¥ç›¸åŒçš„æ–¹å¼æ˜¾ç¤ºã€‚ä½†æ˜¯ï¼Œå¦‚æœæ‚¨çš„åº”ç”¨ç¨‹åºæ‰˜ç®¡åœ¨å…¶ä»–åœ°æ–¹ï¼Œåˆ™å‘é€åˆ°â€œæ ‡å‡†é”™è¯¯â€çš„è¾“å‡ºå°†è¢«è®°å½•åœ¨æ—¥å¿—ä¸­ã€‚</li>\n</ul>\n<p>æˆ‘è¿˜å»ºè®®å°† <code>message()</code> ä¸ <code>glue::glue()</code>ç»“åˆä½¿ç”¨ï¼Œè¿™ä½¿å¾—åœ¨æ¶ˆæ¯ä¸­äº¤æ›¿æ–‡æœ¬å’Œå€¼å˜å¾—å®¹æ˜“ã€‚å¦‚æœä½ ä»¥å‰æ²¡æœ‰è§è¿‡ <a href=\"http://glue.tidyverse.org/\">glue</a>ï¼Œå®ƒçš„åŸºæœ¬æ€æƒ³æ˜¯ï¼Œä»»ä½•åŒ…å«åœ¨ <code>&#123;&#125;</code> ä¸­çš„å†…å®¹éƒ½å°†è¢«è®¡ç®—å¹¶æ’å…¥åˆ°è¾“å‡ºä¸­ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>glue<span class=\"punctuation\">)</span></span><br><span class=\"line\">name <span class=\"operator\">&lt;-</span> <span class=\"string\">&quot;Hadley&quot;</span></span><br><span class=\"line\">message<span class=\"punctuation\">(</span>glue<span class=\"punctuation\">(</span><span class=\"string\">&quot;Hello &#123;name&#125;&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; Hello Hadley</span></span><br></pre></td></tr></table></figure>\n\n<p>åœ¨å‡½æ•°ä¸­ä½¿ç”¨ <a href=\"https://rdrr.io/r/utils/str.html\">str()</a> å¯ä»¥æ‰“å°å‡ºä»»ä½•å¯¹è±¡çš„è¯¦ç»†ç»“æ„ï¼Œè¿™å¯¹äºæ£€æŸ¥æˆ‘ä»¬æœŸæœ›çš„å¯¹è±¡ç±»å‹æ˜¯å¦æ­£ç¡®éå¸¸æœ‰ç”¨ã€‚</p>\n<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„åº”ç”¨ç¨‹åºï¼Œæ¼”ç¤ºäº†ä¸€äº›åŸºæœ¬çš„ç†å¿µã€‚æ³¨æ„ï¼Œåœ¨ <code>reactive()</code> å‡½æ•°å†…éƒ¨ï¼Œæˆ‘ä½¿ç”¨äº† <code>message()</code> å‡½æ•°ã€‚æˆ‘å¿…é¡»å…ˆè¿›è¡Œè®¡ç®—ï¼Œç„¶åå‘é€æ¶ˆæ¯ï¼Œæœ€åè¿”å›ä¹‹å‰è®¡ç®—çš„å€¼ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  sliderInput(&quot;x&quot;, &quot;x&quot;, value = 1, min = 0, max = 10),</span><br><span class=\"line\">  sliderInput(&quot;y&quot;, &quot;y&quot;, value = 2, min = 0, max = 10),</span><br><span class=\"line\">  sliderInput(&quot;z&quot;, &quot;z&quot;, value = 3, min = 0, max = 10),</span><br><span class=\"line\">  textOutput(&quot;total&quot;)</span><br><span class=\"line\">)</span><br><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  observeEvent(input$x, &#123;</span><br><span class=\"line\">    message(glue(&quot;Updating y from &#123;input$y&#125; to &#123;input$x * 2&#125;&quot;))</span><br><span class=\"line\">    updateSliderInput(session, &quot;y&quot;, value = input$x * 2)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  </span><br><span class=\"line\">  total &lt;- reactive(&#123;</span><br><span class=\"line\">    total &lt;- input$x + input$y + input$z</span><br><span class=\"line\">    message(glue(&quot;New total is &#123;total&#125;&quot;))</span><br><span class=\"line\">    total</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  </span><br><span class=\"line\">  output$total &lt;- renderText(&#123;</span><br><span class=\"line\">    total()</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å½“æˆ‘å¯åŠ¨åº”ç”¨ç¨‹åºæ—¶ï¼Œæ§åˆ¶å°æ˜¾ç¤ºï¼š</p>\n<figure class=\"highlight tex\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Updating y from 2 to 2</span><br><span class=\"line\">New total is 6</span><br></pre></td></tr></table></figure>\n\n<p>å½“å°†xçš„å€¼æ»‘åŠ¨åˆ°3æ—¶çœ‹åˆ°çš„ç»“æœï¼š</p>\n<figure class=\"highlight tex\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Updating y from 2 to 6</span><br><span class=\"line\">New total is 8</span><br><span class=\"line\">New total is 12</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœä½ å‘ç°ç»“æœæœ‰ç‚¹ä»¤äººæƒŠè®¶ï¼Œä¸è¦æ‹…å¿ƒã€‚ä½ å°†åœ¨ç¬¬8ç« å’Œç¬¬3.3.3ç« ä¸­äº†è§£æ›´å¤šæœ‰å…³æƒ…å†µã€‚</p>\n<h2 id=\"5-3-è·å–å¸®åŠ©\"><a href=\"#5-3-è·å–å¸®åŠ©\" class=\"headerlink\" title=\"5.3 è·å–å¸®åŠ©\"></a>5.3 è·å–å¸®åŠ©</h2><p>å¦‚æœä½ å°è¯•äº†è¿™äº›æŠ€å·§ä¹‹åä»ç„¶æ„Ÿåˆ°å›°æƒ‘ï¼Œé‚£ä¹ˆç°åœ¨å¯èƒ½æ˜¯æ—¶å€™å‘ä»–äººå¯»æ±‚å¸®åŠ©äº†ã€‚<a href=\"https://community.rstudio.com/c/shiny\">Shinyç¤¾åŒºç½‘ç«™</a>æ˜¯ä¸€ä¸ªå¯»æ±‚å¸®åŠ©çš„å¥½åœ°æ–¹ã€‚è¿™ä¸ªç½‘ç«™ç”±è®¸å¤šShinyç”¨æˆ·ä»¥åŠShinyåŒ…çš„å¼€å‘è€…å…±åŒç»´æŠ¤ã€‚å¦‚æœä½ æƒ³é€šè¿‡å¸®åŠ©ä»–äººæ¥æé«˜ä½ çš„ShinyæŠ€èƒ½ï¼Œè¿™ä¹Ÿæ˜¯ä¸€ä¸ªä¸é”™çš„åœ°æ–¹ã€‚</p>\n<p>ä¸ºäº†å°½å¿«è·å¾—æœ€æœ‰ç›Šçš„å¸®åŠ©ï¼Œä½ éœ€è¦åˆ›å»ºä¸€ä¸ªreprexï¼Œä¹Ÿå°±æ˜¯å¯é‡å¤çš„ç¤ºä¾‹ã€‚Reprexçš„ç›®æ ‡æ˜¯æä¾›æœ€å°å¯èƒ½çš„Rä»£ç ç‰‡æ®µï¼Œä»¥è¯´æ˜é—®é¢˜ï¼Œå¹¶å¯ä»¥è½»æ¾åœ°åœ¨å¦ä¸€å°è®¡ç®—æœºä¸Šè¿è¡Œã€‚åˆ›å»ºreprexæ˜¯ä¸€ç§å¸¸è¯†ï¼ˆä¹Ÿæ˜¯ä¸ºäº†ä½ è‡ªå·±çš„åˆ©ç›Šï¼‰ï¼šå¦‚æœä½ æƒ³è®©åˆ«äººå¸®åŠ©ä½ ï¼Œä½ åº”è¯¥å°½å¯èƒ½åœ°ç®€åŒ–é—®é¢˜ï¼</p>\n<p>åˆ›å»ºreprexæ˜¯ä¸€ç§ç¤¼è²Œï¼Œå› ä¸ºå®ƒå°†é—®é¢˜çš„åŸºæœ¬è¦ç´ æ•æ‰åˆ°ä¸€ç§å½¢å¼ä¸­ï¼Œä»»ä½•äººéƒ½å¯ä»¥è¿è¡Œå®ƒï¼Œè¿™æ ·ä»»ä½•è¯•å›¾å¸®åŠ©ä½ çš„äººéƒ½å¯ä»¥å¿«é€Ÿåœ°çœ‹åˆ°é—®é¢˜çš„ç¡®åˆ‡æ€§è´¨ï¼Œå¹¶å¯ä»¥å®¹æ˜“åœ°å°è¯•å¯èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚</p>\n<h3 id=\"5-3-1-ReprexåŸºæœ¬è¦ç´ \"><a href=\"#5-3-1-ReprexåŸºæœ¬è¦ç´ \" class=\"headerlink\" title=\"5.3.1 ReprexåŸºæœ¬è¦ç´ \"></a>5.3.1 ReprexåŸºæœ¬è¦ç´ </h3><p>ä¸€ä¸ªreprexåªæ˜¯ä¸€æ®µRä»£ç ï¼Œå½“ä½ å°†å…¶å¤åˆ¶å¹¶ç²˜è´´åˆ°å¦ä¸€å°è®¡ç®—æœºä¸Šçš„Rä¼šè¯ä¸­æ—¶ï¼Œå®ƒèƒ½å¤Ÿæ­£å¸¸å·¥ä½œã€‚ä»¥ä¸‹æ˜¯ä¸€ä¸ªç®€å•çš„Shiny app reprexï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library(shiny)</span><br><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  selectInput(&quot;n&quot;, &quot;N&quot;, 1:10),</span><br><span class=\"line\">  plotOutput(&quot;plot&quot;)</span><br><span class=\"line\">)</span><br><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  output$plot &lt;- renderPlot(&#123;</span><br><span class=\"line\">    n &lt;- input$n * 2</span><br><span class=\"line\">    plot(head(cars, n))</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">shinyApp(ui, server)</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ®µä»£ç ä¸é’ˆå¯¹è¿è¡Œå®ƒçš„è®¡ç®—æœºåšä»»ä½•å‡è®¾ï¼ˆé™¤äº†å®‰è£…Shinyä¹‹å¤–ï¼ï¼‰ï¼Œå› æ­¤ä»»ä½•äººéƒ½å¯ä»¥è¿è¡Œæ­¤ä»£ç å¹¶çœ‹åˆ°é—®é¢˜ï¼šåº”ç”¨ç¨‹åºæŠ›å‡ºä¸€ä¸ªé”™è¯¯ï¼Œè¯´â€œnon-numeric argument to binary operatorâ€ã€‚</p>\n<p>æ¸…æ¥šåœ°è¯´æ˜é—®é¢˜æ˜¯è·å¾—å¸®åŠ©çš„ç¬¬ä¸€æ­¥ï¼Œå› ä¸ºä»»ä½•äººéƒ½å¯ä»¥é€šè¿‡å¤åˆ¶å’Œç²˜è´´ä»£ç æ¥é‡ç°é—®é¢˜ï¼Œä»–ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°æ¢ç´¢æ‚¨çš„ä»£ç å¹¶æµ‹è¯•å¯èƒ½çš„è§£å†³æ–¹æ¡ˆã€‚ï¼ˆåœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨éœ€è¦<code>as.numeric(input$n)</code>ï¼Œå› ä¸º<code>selectInput()</code>åœ¨<code>input$n</code>ä¸­åˆ›å»ºäº†ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚ï¼‰</p>\n<h3 id=\"5-3-2-åˆ›å»ºreprex\"><a href=\"#5-3-2-åˆ›å»ºreprex\" class=\"headerlink\" title=\"5.3.2 åˆ›å»ºreprex\"></a>5.3.2 åˆ›å»ºreprex</h3><p>åˆ›å»ºreprexçš„ç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºä¸€ä¸ªç‹¬ç«‹çš„æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«è¿è¡Œä»£ç æ‰€éœ€çš„ä¸€åˆ‡ã€‚æ‚¨åº”è¯¥é€šè¿‡åœ¨ä¸€ä¸ªæ–°çš„Rä¼šè¯ä¸­è¿è¡Œä»£ç æ¥æ£€æŸ¥å®ƒæ˜¯å¦å·¥ä½œã€‚ç¡®ä¿æ‚¨æ²¡æœ‰é—æ¼ä»»ä½•ä½¿åº”ç”¨ç¨‹åºå·¥ä½œæ­£å¸¸çš„åŒ…ã€‚</p>\n<p>é€šå¸¸ï¼Œè®©åº”ç”¨ç¨‹åºåœ¨åˆ«äººçš„è®¡ç®—æœºä¸Šè¿è¡Œæœ€å›°éš¾çš„éƒ¨åˆ†æ˜¯æ¶ˆé™¤åªå­˜å‚¨åœ¨æ‚¨è®¡ç®—æœºä¸Šçš„æ•°æ®çš„ä½¿ç”¨ã€‚ä»¥ä¸‹æ˜¯ä¸‰ç§æœ‰ç”¨çš„æ¨¡å¼ï¼š</p>\n<ul>\n<li><p>ä½ ç»å¸¸ä½¿ç”¨çš„æ•°æ®ä¸é—®é¢˜æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œä½ å¯ä»¥ä½¿ç”¨å†…ç½®çš„æ•°æ®é›†ï¼Œå¦‚mtcarsæˆ–irisã€‚</p>\n</li>\n<li><p>å…¶ä»–æ—¶å€™ï¼Œä½ å¯èƒ½èƒ½å¤Ÿç¼–å†™ä¸€æ®µRä»£ç æ¥åˆ›å»ºä¸€ä¸ªè¯´æ˜é—®é¢˜çš„æ•°æ®é›†ï¼š</p>\n</li>\n</ul>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mydata <span class=\"operator\">&lt;-</span> data.frame<span class=\"punctuation\">(</span>x <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"operator\">:</span><span class=\"number\">5</span><span class=\"punctuation\">,</span> y <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;a&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;b&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;c&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;d&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;e&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœè¿™ä¸¤ç§æ–¹æ³•éƒ½å¤±è´¥äº†ï¼Œä½ å¯ä»¥ç”¨<a href=\"https://rdrr.io/r/base/dput.html\">dput()</a>å°†ä½ çš„æ•°æ®å˜æˆä»£ç ã€‚ä¾‹å¦‚ï¼Œ<code>dput(mydata)</code>ä¼šç”Ÿæˆé‡æ–°åˆ›å»º<code>mydata</code>çš„ä»£ç ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dput<span class=\"punctuation\">(</span>mydata<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; structure(list(x = 1:5, y = c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;)), class = &quot;data.frame&quot;, row.names = c(NA, </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; -5L))</span></span><br></pre></td></tr></table></figure>\n\n<p>ä¸€æ—¦ä½ æœ‰äº†è¿™æ®µä»£ç ï¼Œä½ å¯ä»¥æŠŠå®ƒæ”¾åœ¨ä½ çš„reprexä¸­æ¥ç”Ÿæˆmydataï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">mydata <span class=\"operator\">&lt;-</span> structure<span class=\"punctuation\">(</span><span class=\"built_in\">list</span><span class=\"punctuation\">(</span>x <span class=\"operator\">=</span> <span class=\"number\">1</span><span class=\"operator\">:</span><span class=\"number\">5</span><span class=\"punctuation\">,</span> y <span class=\"operator\">=</span> structure<span class=\"punctuation\">(</span><span class=\"number\">1</span><span class=\"operator\">:</span><span class=\"number\">5</span><span class=\"punctuation\">,</span> .Label <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;a&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;b&quot;</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\"><span class=\"string\">&quot;c&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;d&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;e&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"built_in\">class</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;factor&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> <span class=\"built_in\">class</span> <span class=\"operator\">=</span> <span class=\"string\">&quot;data.frame&quot;</span><span class=\"punctuation\">,</span> row.names <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"literal\">NA</span><span class=\"punctuation\">,</span> </span><br><span class=\"line\"><span class=\"operator\">-</span><span class=\"number\">5L</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>ç»å¸¸åœ¨ä½ çš„åŸå§‹æ•°æ®ä¸Šè¿è¡Œ<code>dput()</code>ä¼šäº§ç”Ÿå¤§é‡çš„ä»£ç ï¼Œæ‰€ä»¥éœ€è¦æ‰¾åˆ°ä¸€ä¸ªè¯´æ˜é—®é¢˜çš„å­é›†æ•°æ®ã€‚ä½ æä¾›çš„æ•°æ®é›†è¶Šå°ï¼Œå…¶ä»–äººå°±è¶Šå®¹æ˜“å¸®åŠ©ä½ è§£å†³é—®é¢˜ã€‚</p>\n<p>å¦‚æœä»ç£ç›˜ä¸­è¯»å–æ•°æ®ä¼¼ä¹æ˜¯é—®é¢˜çš„ä¸å¯ç®€åŒ–çš„éƒ¨åˆ†ï¼Œæœ€åçš„ç­–ç•¥æ˜¯æä¾›ä¸€ä¸ªå®Œæ•´çš„é¡¹ç›®ï¼ŒåŒ…å«ä¸€ä¸ª<code>app.R</code>å’Œæ‰€éœ€çš„æ•°æ®æ–‡ä»¶ã€‚æœ€å¥½çš„æ–¹å¼æ˜¯ä½œä¸ºRStudioé¡¹ç›®æ‰˜ç®¡åœ¨GitHubä¸Šï¼Œä½†å¦‚æœæ²¡æœ‰ï¼Œä½ å¯ä»¥ä»”ç»†åœ°åˆ¶ä½œä¸€ä¸ªå¯ä»¥åœ¨æœ¬åœ°è¿è¡Œçš„zipæ–‡ä»¶ã€‚ç¡®ä¿ä½ ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼ˆå³<code>read.csv(&quot;my-data.csv&quot;)</code>è€Œä¸æ˜¯<code>read.csv(&quot;c:\\\\my-user-name\\\\files\\\\my-data.csv&quot;)</code>ï¼‰ï¼Œè¿™æ ·ä½ çš„ä»£ç åœ¨å¦ä¸€å°è®¡ç®—æœºä¸Šè¿è¡Œæ—¶ä»ç„¶æœ‰æ•ˆã€‚</p>\n<p>ä½ è¿˜åº”è¯¥è€ƒè™‘è¯»è€…ï¼ŒèŠ±äº›æ—¶é—´æ ¼å¼åŒ–ä½ çš„ä»£ç ï¼Œä»¥ä¾¿äºé˜…è¯»ã€‚å¦‚æœä½ é‡‡ç”¨<a href=\"http://style.tidyverse.org/\">tidyverseé£æ ¼æŒ‡å—</a>ï¼Œä½ å¯ä»¥ä½¿ç”¨<a href=\"http://styler.r-lib.org/\">styler</a>åŒ…è‡ªåŠ¨é‡æ–°æ ¼å¼åŒ–ä½ çš„ä»£ç ï¼›è¿™å¾ˆå¿«å°±èƒ½è®©ä½ çš„ä»£ç æ›´å®¹æ˜“é˜…è¯»ã€‚</p>\n<h3 id=\"5-3-3-åˆ›å»ºæœ€å°reprex\"><a href=\"#5-3-3-åˆ›å»ºæœ€å°reprex\" class=\"headerlink\" title=\"5.3.3 åˆ›å»ºæœ€å°reprex\"></a>5.3.3 åˆ›å»ºæœ€å°reprex</h3><p>åˆ›å»ºå¯é‡å¤çš„ç¤ºä¾‹æ˜¯å¾ˆå¥½çš„ç¬¬ä¸€æ­¥ï¼Œå› ä¸ºå®ƒå…è®¸å…¶ä»–äººç²¾ç¡®åœ°é‡ç°ä½ çš„é—®é¢˜ã€‚ç„¶è€Œï¼Œé€šå¸¸æœ‰é—®é¢˜çš„ä»£ç é€šå¸¸ä¼šè¢«åŸ‹åœ¨æ­£å¸¸å·¥ä½œçš„ä»£ç ä¸­ï¼Œæ‰€ä»¥ä½ å¯ä»¥ä¿®å‰ªæ‰æ²¡é—®é¢˜çš„ä»£ç æ¥å¸®åŠ©é‚£äº›æƒ³å¸®å¿™çš„äººæ›´å®¹æ˜“ä¸Šæ‰‹ã€‚</p>\n<p>åˆ›å»ºå°½å¯èƒ½å°çš„reprexå¯¹äºShinyåº”ç”¨ç¨‹åºå°¤å…¶é‡è¦ï¼Œå› ä¸ºå®ƒä»¬é€šå¸¸å¾ˆå¤æ‚ã€‚å¦‚æœä½ èƒ½æå–å‡ºä½ æ­£åœ¨æŒ£æ‰çš„åº”ç”¨ç¨‹åºçš„ç²¾ç¡®éƒ¨åˆ†ï¼Œè€Œä¸æ˜¯å¼ºè¿«æ½œåœ¨çš„åŠ©æ‰‹ç†è§£ä½ çš„æ•´ä¸ªåº”ç”¨ç¨‹åºï¼Œä½ å°†è·å¾—æ›´å¿«ã€æ›´é«˜è´¨é‡å¸®åŠ©ã€‚ä½œä¸ºä¸€ä¸ªé¢å¤–çš„å¥½å¤„ï¼Œè¿™ä¸ªè¿‡ç¨‹å¾€å¾€ä¼šå¼•å¯¼ä½ å‘ç°é—®é¢˜çš„æ‰€åœ¨ï¼Œæ‰€ä»¥ä½ ä¸å¿…ç­‰å¾…åˆ«äººçš„å¸®åŠ©ï¼</p>\n<p>å°†å¤§é‡ä»£ç ç®€åŒ–ä¸ºåŸºæœ¬é—®é¢˜æ˜¯ä¸€ç§æŠ€èƒ½ï¼Œä½ å¯èƒ½ä¸€å¼€å§‹å¹¶ä¸æ“…é•¿ã€‚æ²¡å…³ç³»ï¼å³ä½¿ä»£ç å¤æ‚åº¦çš„å°å°é™ä½ä¹Ÿä¼šå¯¹å¸®åŠ©ä½ çš„äººæœ‰æ‰€å¸®åŠ©ï¼Œéšç€æ—¶é—´çš„æ¨ç§»ï¼Œä½ çš„reprexæ”¶ç¼©æŠ€èƒ½å°†ä¼šæé«˜ã€‚</p>\n<p>å¦‚æœä½ ä¸çŸ¥é“ä½ çš„ä»£ç å“ªéƒ¨åˆ†è§¦å‘äº†é—®é¢˜ï¼Œä¸€ä¸ªå¥½çš„æ–¹æ³•æ˜¯é€æ­¥ä»ä½ çš„åº”ç”¨ç¨‹åºä¸­åˆ é™¤ä»£ç æ®µï¼Œç›´åˆ°é—®é¢˜æ¶ˆå¤±ã€‚å¦‚æœåˆ é™¤ä¸€æ®µç‰¹å®šçš„ä»£ç ä½¿é—®é¢˜åœæ­¢ï¼Œå¾ˆå¯èƒ½è¯¥ä»£ç ä¸é—®é¢˜æœ‰å…³ã€‚æˆ–è€…ï¼Œæœ‰æ—¶ä»ä¸€ä¸ªç©ºçš„åº”ç”¨ç¨‹åºå¼€å§‹ï¼Œå¹¶é€æ­¥æ„å»ºç›´åˆ°ä½ å†æ¬¡æ‰¾åˆ°é—®é¢˜ï¼Œè¿™å¯èƒ½æ›´ç®€å•ã€‚</p>\n<p>ä¸€æ—¦ä½ å·²ç»ç®€åŒ–äº†ä½ çš„åº”ç”¨ç¨‹åºæ¥æ¼”ç¤ºé—®é¢˜ï¼Œå€¼å¾—è¿›è¡Œæœ€åçš„æ£€æŸ¥ï¼š</p>\n<ul>\n<li><p><code>UI</code>ä¸­çš„æ¯ä¸ªè¾“å…¥å’Œè¾“å‡ºæ˜¯å¦éƒ½ä¸é—®é¢˜ç›¸å…³ï¼Ÿ</p>\n</li>\n<li><p>ä½ çš„åº”ç”¨ç¨‹åºæ˜¯å¦æœ‰å¤æ‚çš„å¸ƒå±€ï¼Œä½ å¯ä»¥ç®€åŒ–å®ƒæ¥å¸®åŠ©å…³æ³¨çœ¼å‰çš„é—®é¢˜å—ï¼Ÿä½ åˆ é™¤äº†æ‰€æœ‰ä½¿ä½ çš„åº”ç”¨ç¨‹åºçœ‹èµ·æ¥ä¸é”™ä½†ä¸é—®é¢˜æ— å…³çš„UIè‡ªå®šä¹‰å—ï¼Ÿ</p>\n</li>\n<li><p><code>server()</code>ä¸­å¯ä»¥åˆ é™¤çš„reactivesæœ‰å“ªäº›ï¼Ÿ</p>\n</li>\n<li><p>å¦‚æœä½ å·²ç»å°è¯•äº†å¤šç§æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œä½ åˆ é™¤äº†æ‰€æœ‰æ²¡æœ‰å¥æ•ˆçš„å°è¯•çš„ç—•è¿¹å—ï¼Ÿ</p>\n</li>\n<li><p>æ‚¨åŠ è½½çš„æ¯ä¸ªåŒ…å¯¹äºè¯´æ˜é—®é¢˜éƒ½æ˜¯å¿…è¦çš„å—ï¼Ÿæ‚¨å¯ä»¥é€šè¿‡ç”¨ä¼ªä»£ç æ›¿æ¢å‡½æ•°æ¥æ¶ˆé™¤åŒ…å—ï¼Ÿ</p>\n</li>\n</ul>\n<p>è¿™å¯èƒ½éœ€è¦å¤§é‡çš„å·¥ä½œï¼Œä½†æ˜¯å›æŠ¥æ˜¯å·¨å¤§çš„ï¼šåœ¨åˆ¶ä½œreprexçš„è¿‡ç¨‹ä¸­ï¼Œæ‚¨ç»å¸¸ä¼šå‘ç°é—®é¢˜çš„è§£å†³æ–¹æ¡ˆï¼Œå³ä½¿æ²¡æœ‰ï¼Œæ‚¨ä¹Ÿä¼šæ›´å®¹æ˜“åœ°è·å¾—å¸®åŠ©ã€‚</p>\n<h3 id=\"5-3-4æ¡ˆä¾‹ç ”ç©¶\"><a href=\"#5-3-4æ¡ˆä¾‹ç ”ç©¶\" class=\"headerlink\" title=\"5.3.4æ¡ˆä¾‹ç ”ç©¶\"></a>5.3.4æ¡ˆä¾‹ç ”ç©¶</h3><p>ä¸ºäº†è¯´æ˜åˆ¶ä½œé¡¶çº§reprexçš„è¿‡ç¨‹ï¼Œæˆ‘å°†ä½¿ç”¨<a href=\"https://community.rstudio.com/u/sanovogo\">Scott Novogoratz</a>åœ¨<a href=\"https://community.rstudio.com/t/37982\">RStudioç¤¾åŒº</a>ä¸Šå‘å¸ƒçš„ä¸€ä¸ªä¾‹å­ã€‚åˆå§‹ä»£ç éå¸¸æ¥è¿‘reprexï¼Œä½†å› ä¸ºå¿˜è®°åŠ è½½ä¸€å¯¹åŒ…è€Œæ— æ³•å®Œå…¨é‡ç°ã€‚ä½œä¸ºèµ·ç‚¹ï¼Œæˆ‘ï¼š</p>\n<ul>\n<li>æ·»åŠ äº†ç¼ºå¤±çš„<code>library(lubridate)</code>å’Œ<code>library(xts)</code>ã€‚</li>\n<li>å°†<code>ui</code>å’Œ<code>server</code>æ‹†åˆ†ä¸ºå•ç‹¬çš„å¯¹è±¡ã€‚</li>\n<li>ä½¿ç”¨<code>styler::style_selection()</code>é‡æ–°æ ¼å¼åŒ–ä»£ç ã€‚</li>\n</ul>\n<p>è¿™æ ·å¾—åˆ°äº†ä»¥ä¸‹reprexï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library(xts)</span><br><span class=\"line\">library(lubridate)</span><br><span class=\"line\">library(shiny)</span><br><span class=\"line\"></span><br><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  uiOutput(&quot;interaction_slider&quot;),</span><br><span class=\"line\">  verbatimTextOutput(&quot;breaks&quot;)</span><br><span class=\"line\">)</span><br><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  df &lt;- data.frame(</span><br><span class=\"line\">    dateTime = c(</span><br><span class=\"line\">      &quot;2019-08-20 16:00:00&quot;,</span><br><span class=\"line\">      &quot;2019-08-20 16:00:01&quot;,</span><br><span class=\"line\">      &quot;2019-08-20 16:00:02&quot;,</span><br><span class=\"line\">      &quot;2019-08-20 16:00:03&quot;,</span><br><span class=\"line\">      &quot;2019-08-20 16:00:04&quot;,</span><br><span class=\"line\">      &quot;2019-08-20 16:00:05&quot;</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    var1 = c(9, 8, 11, 14, 16, 1),</span><br><span class=\"line\">    var2 = c(3, 4, 15, 12, 11, 19),</span><br><span class=\"line\">    var3 = c(2, 11, 9, 7, 14, 1)</span><br><span class=\"line\">  )</span><br><span class=\"line\"></span><br><span class=\"line\">  timeSeries &lt;- as.xts(df[, 2:4], </span><br><span class=\"line\">    order.by = strptime(df[, 1], format = &quot;%Y-%m-%d %H:%M:%S&quot;)</span><br><span class=\"line\">  )</span><br><span class=\"line\">  print(paste(min(time(timeSeries)), is.POSIXt(min(time(timeSeries))), sep = &quot; &quot;))</span><br><span class=\"line\">  print(paste(max(time(timeSeries)), is.POSIXt(max(time(timeSeries))), sep = &quot; &quot;))</span><br><span class=\"line\"></span><br><span class=\"line\">  output$interaction_slider &lt;- renderUI(&#123;</span><br><span class=\"line\">    sliderInput(</span><br><span class=\"line\">      &quot;slider&quot;,</span><br><span class=\"line\">      &quot;Select Range:&quot;,</span><br><span class=\"line\">      min = min(time(timeSeries)),</span><br><span class=\"line\">      max = max(time(timeSeries)),</span><br><span class=\"line\">      value = c(min, max)</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">  brks &lt;- reactive(&#123;</span><br><span class=\"line\">    req(input$slider)</span><br><span class=\"line\">    seq(input$slider[1], input$slider[2], length.out = 10)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">  output$breaks &lt;- brks</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">shinyApp(ui, server)</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœä½ è¿è¡Œè¿™ä¸ª reprexï¼Œä½ ä¼šåœ¨æœ€åˆçš„å¸–å­ä¸­çœ‹åˆ°åŒæ ·çš„é—®é¢˜ï¼šä¸€ä¸ªé”™è¯¯å£°æ˜â€œType mismatch for min, max, and value. Each must be Date, POSIXt, or numberâ€ã€‚è¿™æ˜¯ä¸€ä¸ªå¯é çš„ reprexï¼šæˆ‘å¯ä»¥åœ¨æˆ‘çš„ç”µè„‘ä¸Šè½»æ¾è¿è¡Œå®ƒï¼Œå®ƒç«‹å³è¯´æ˜äº†é—®é¢˜ã€‚ç„¶è€Œï¼Œå®ƒæœ‰ç‚¹é•¿ï¼Œæ‰€ä»¥ä¸æ¸…æ¥šæ˜¯ä»€ä¹ˆå¯¼è‡´äº†é—®é¢˜ã€‚</p>\n<p>ä¸ºäº†ä½¿è¿™ä¸ªä»£ç æ›´ç®€å•ï¼Œæˆ‘ä»¬å¯ä»¥ä»”ç»†æ£€æŸ¥æ¯ä¸€è¡Œä»£ç ï¼Œçœ‹çœ‹å®ƒæ˜¯å¦é‡è¦ã€‚ åœ¨åšè¿™ä¸ªçš„æ—¶å€™ï¼Œæˆ‘å‘ç°ï¼š</p>\n<ul>\n<li><p>åˆ é™¤ä»¥ <code>print()</code> å¼€å¤´çš„ä¸¤è¡Œä»£ç å¹¶æ²¡æœ‰å½±å“é”™è¯¯ã€‚è¿™ä¸¤è¡Œä»£ç ä½¿ç”¨äº† <a href=\"https://lubridate.tidyverse.org/reference/posix_utils.html\">lubridate::is.POSIXt()</a>ï¼Œè¿™æ˜¯lubridateçš„å”¯ä¸€ç”¨é€”ï¼Œæ‰€ä»¥ä¸€æ—¦æˆ‘åˆ é™¤äº†å®ƒä»¬ï¼Œæˆ‘å°±ä¸å†éœ€è¦åŠ è½½lubridateã€‚</p>\n</li>\n<li><p><code>df</code>æ˜¯ä¸€ä¸ªæ•°æ®æ¡†ï¼Œè¢«è½¬æ¢ä¸ºxtsæ•°æ®æ¡†ï¼Œç§°ä¸º<code>timeSeries</code>ã€‚ä½†æ˜¯ä½¿ç”¨<code>timeSeries</code>çš„å”¯ä¸€æ–¹æ³•æ˜¯ä½¿ç”¨<code>time(timeSeries)</code>ï¼Œå®ƒè¿”å›ä¸€ä¸ªæ—¥æœŸæ—¶é—´ã€‚æ‰€ä»¥æˆ‘åˆ›å»ºäº†ä¸€ä¸ªæ–°çš„å˜é‡<code>datetime</code>ï¼Œå…¶ä¸­åŒ…å«ä¸€äº›è™šæ‹Ÿæ—¥æœŸæ—¶é—´æ•°æ®ã€‚è¿™ä»ç„¶äº§ç”Ÿäº†ç›¸åŒçš„é”™è¯¯ï¼Œæ‰€ä»¥æˆ‘åˆ é™¤äº†<code>timeSeries</code>å’Œ<code>df</code>ï¼Œå› ä¸ºè¿™æ˜¯å”¯ä¸€ä½¿ç”¨xtsçš„åœ°æ–¹ï¼Œæˆ‘è¿˜åˆ é™¤äº†<code>library(xts)</code>ã€‚</p>\n</li>\n</ul>\n<p>è¿™äº›æ›´æ”¹å…±åŒäº§ç”Ÿäº†ä¸€ä¸ªæ–°çš„ <code>server()</code>ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">datetime &lt;- Sys.time() + (86400 * 0:10)</span><br><span class=\"line\"></span><br><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  output$interaction_slider &lt;- renderUI(&#123;</span><br><span class=\"line\">    sliderInput(</span><br><span class=\"line\">      &quot;slider&quot;,</span><br><span class=\"line\">      &quot;Select Range:&quot;,</span><br><span class=\"line\">      min   = min(datetime),</span><br><span class=\"line\">      max   = max(datetime),</span><br><span class=\"line\">      value = c(min, max)</span><br><span class=\"line\">    )</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  </span><br><span class=\"line\">  brks &lt;- reactive(&#123;</span><br><span class=\"line\">    req(input$slider)</span><br><span class=\"line\">    seq(input$slider[1], input$slider[2], length.out = 10)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  </span><br><span class=\"line\">  output$breaks &lt;- brks</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘æ³¨æ„åˆ°è¿™ä¸ªä¾‹å­ä½¿ç”¨äº†ç›¸å¯¹å¤æ‚çš„ Shiny æŠ€æœ¯ï¼Œå…¶ä¸­ UI åœ¨serverå‡½æ•°ä¸­ç”Ÿæˆã€‚ä½†è¿™é‡Œçš„ <a href=\"https://rdrr.io/pkg/shiny/man/renderUI.html\">renderUI()</a> æ²¡æœ‰ä½¿ç”¨ä»»ä½•ååº”å¼è¾“å…¥ï¼Œå› æ­¤å¦‚æœå°†å…¶ä»serverå‡½æ•°ä¸­ç§»å‡ºå¹¶æ”¾å…¥ UI ä¸­ï¼Œå®ƒåº”è¯¥ä»¥ç›¸åŒçš„æ–¹å¼å·¥ä½œã€‚</p>\n<p>è¿™äº§ç”Ÿäº†ç‰¹åˆ«å¥½çš„ç»“æœï¼Œå› ä¸ºç°åœ¨é”™è¯¯å‘ç”Ÿå¾—æ›´æ—©ï¼Œç”šè‡³åœ¨æˆ‘ä»¬å¯åŠ¨åº”ç”¨ç¨‹åºä¹‹å‰ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  sliderInput(&quot;slider&quot;,</span><br><span class=\"line\">    &quot;Select Range:&quot;,</span><br><span class=\"line\">    min   = min(datetime),</span><br><span class=\"line\">    max   = max(datetime),</span><br><span class=\"line\">    value = c(min, max)</span><br><span class=\"line\">  ),</span><br><span class=\"line\">  verbatimTextOutput(&quot;breaks&quot;)</span><br><span class=\"line\">)</span><br><span class=\"line\">#&gt; Error: Type mismatch for `min`, `max`, and `value`.</span><br><span class=\"line\">#&gt; i All values must have same type: either numeric, Date, or POSIXt.</span><br></pre></td></tr></table></figure>\n\n<p>ç°åœ¨æˆ‘ä»¬å¯ä»¥ä»é”™è¯¯æ¶ˆæ¯ä¸­å¾—åˆ°æç¤ºï¼Œå¹¶æŸ¥çœ‹æˆ‘ä»¬ä¸º <code>min</code>ã€<code>max</code>å’Œ <code>value</code> æä¾›çš„æ¯ä¸ªè¾“å…¥ï¼Œä»¥æ‰¾å‡ºé—®é¢˜æ‰€åœ¨ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">min</span><span class=\"punctuation\">(</span>datetime<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; [1] &quot;2022-08-23 23:09:34 UTC&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">max</span><span class=\"punctuation\">(</span>datetime<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; [1] &quot;2022-09-02 23:09:34 UTC&quot;</span></span><br><span class=\"line\"><span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"built_in\">min</span><span class=\"punctuation\">,</span> <span class=\"built_in\">max</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; [[1]]</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; function (..., na.rm = FALSE)  .Primitive(&quot;min&quot;)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; [[2]]</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; function (..., na.rm = FALSE)  .Primitive(&quot;max&quot;)</span></span><br></pre></td></tr></table></figure>\n\n<p>ç°åœ¨é—®é¢˜å¾ˆæ˜æ˜¾ï¼šæˆ‘ä»¬æ²¡æœ‰æŒ‡å®š <code>min</code> å’Œ <code>max</code> å˜é‡ï¼Œæ‰€ä»¥æˆ‘ä»¬æ„å¤–åœ°å°† <code>min()</code> å’Œ <code>max()</code> å‡½æ•°ä¼ é€’ç»™äº† <code>sliderInput()</code>ã€‚è§£å†³è¿™ä¸ªé—®é¢˜çš„ä¸€ç§æ–¹æ³•æ˜¯ä½¿ç”¨ <code>range()</code> ä»£æ›¿ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  sliderInput(&quot;slider&quot;,</span><br><span class=\"line\">    &quot;Select Range:&quot;,</span><br><span class=\"line\">    min   = min(datetime),</span><br><span class=\"line\">    max   = max(datetime),</span><br><span class=\"line\">    value = range(datetime)</span><br><span class=\"line\">  ),</span><br><span class=\"line\">  verbatimTextOutput(&quot;breaks&quot;)</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n\n<p>è¿™æ˜¯åˆ›å»ºreprexçš„å…¸å‹ç»“æœï¼šä¸€æ—¦å°†é—®é¢˜ç®€åŒ–ä¸ºå…¶å…³é”®ç»„æˆéƒ¨åˆ†ï¼Œè§£å†³æ–¹æ¡ˆå°±ä¼šå˜å¾—æ˜¾è€Œæ˜“è§ã€‚åˆ›å»ºå¥½çš„reprexæ˜¯ä¸€ç§éå¸¸å¼ºå¤§çš„è°ƒè¯•æŠ€æœ¯ã€‚</p>\n<p>ä¸ºäº†ç®€åŒ–è¿™ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä¸å¾—ä¸åšå¤§é‡çš„å®éªŒï¼Œå¹¶é˜…è¯»ä¸€äº›æˆ‘ä¸ç†Ÿæ‚‰çš„å‡½æ•°ã€‚å¦‚æœè¿™æ˜¯ä½ çš„ä»£ç ï¼Œé€šå¸¸ä¼šå®¹æ˜“å¾—å¤šï¼Œå› ä¸ºä½ å·²ç»ç†è§£äº†ä»£ç çš„æ„å›¾ã€‚ä¸è¿‡ï¼Œä½ é€šå¸¸éœ€è¦åšä¸€äº›å®éªŒï¼Œä»¥æ‰¾å‡ºé—®é¢˜åˆ°åº•æ¥è‡ªå“ªé‡Œã€‚è¿™å¯èƒ½ä¼šä»¤äººæ²®ä¸§ï¼Œè€Œä¸”æ„Ÿè§‰å¾ˆè€—æ—¶ï¼Œä½†å®ƒæœ‰å¾ˆå¤šå¥½å¤„ï¼š</p>\n<ul>\n<li><p>å®ƒä½¿æ‚¨èƒ½å¤Ÿåˆ›å»ºé—®é¢˜çš„æè¿°ï¼Œä»»ä½•çŸ¥é“Shinyçš„äººéƒ½å¯ä»¥è®¿é—®è¯¥æè¿°ï¼Œè€Œä¸æ˜¯ä»»ä½•çŸ¥é“Shinyå’Œæ‚¨æ­£åœ¨ä½¿ç”¨çš„ç‰¹å®šé¢†åŸŸçš„äººã€‚</p>\n</li>\n<li><p>ä½ å°†å»ºç«‹ä¸€ä¸ªæ›´å¥½çš„å…³äºä½ çš„ä»£ç å¦‚ä½•å·¥ä½œçš„å¿ƒç†æ¨¡å‹ï¼Œè¿™æ„å‘³ç€ä½ å°†æ¥ä¸å¤ªå¯èƒ½çŠ¯åŒæ ·æˆ–ç±»ä¼¼çš„é”™è¯¯ã€‚</p>\n</li>\n<li><p>éšç€æ—¶é—´çš„æ¨ç§»ï¼Œä½ ä¼šè¶Šæ¥è¶Šå¿«åœ°åˆ›å»ºreprexï¼Œè¿™å°†æˆä¸ºä½ åœ¨è°ƒè¯•æ—¶å¸¸ç”¨çš„æŠ€æœ¯ä¹‹ä¸€ã€‚</p>\n</li>\n<li><p>å³ä½¿ä½ æ²¡æœ‰åˆ›å»ºä¸€ä¸ªå®Œç¾çš„ reprexï¼Œä½ ä¹Ÿå¯ä»¥åšä»»ä½•å·¥ä½œæ¥æ”¹è¿›ä½ çš„ reprexï¼Œè¿™æ ·åˆ«äººè¦åšçš„å·¥ä½œå°±ä¼šå‡å°‘ã€‚å¦‚æœä½ æƒ³ä»è½¯ä»¶åŒ…å¼€å‘äººå‘˜é‚£é‡Œå¾—åˆ°å¸®åŠ©ï¼Œè¿™ä¸€ç‚¹å°¤å…¶é‡è¦ï¼Œå› ä¸ºä»–ä»¬é€šå¸¸å¯¹æ—¶é—´æœ‰å¾ˆå¤šè¦æ±‚ã€‚</p>\n</li>\n</ul>\n<p>å½“æˆ‘åœ¨ RStudio ç¤¾åŒºä¸Šå°è¯•å¸®åŠ©åˆ«äººä½¿ç”¨ä»–ä»¬çš„åº”ç”¨ç¨‹åºæ—¶ï¼Œåˆ›å»º reprex æ€»æ˜¯æˆ‘åšçš„ç¬¬ä¸€ä»¶äº‹ã€‚è¿™ä¸æ˜¯æˆ‘ç”¨æ¥æ‰“å‘ä¸æƒ³å¸®åŠ©çš„äººçš„ç®€å•å·¥ä½œç»ƒä¹ ï¼šè¿™æ­£æ˜¯æˆ‘å¼€å§‹çš„åœ°æ–¹ï¼</p>\n<h2 id=\"5-4-æ€»ç»“\"><a href=\"#5-4-æ€»ç»“\" class=\"headerlink\" title=\"5.4 æ€»ç»“\"></a>5.4 æ€»ç»“</h2><p>æœ¬ç« ä¸ºæ‚¨æä¾›äº†å¼€å‘åº”ç”¨ç¨‹åºã€è°ƒè¯•é—®é¢˜å’Œè·å–å¸®åŠ©çš„ä¸€äº›æœ‰ç”¨å·¥ä½œæµã€‚è¿™äº›å·¥ä½œæµç¨‹å¯èƒ½çœ‹èµ·æ¥æœ‰ç‚¹æŠ½è±¡ï¼Œå®¹æ˜“è¢«å¿½ç•¥ï¼Œå› ä¸ºå®ƒä»¬å¹¶æ²¡æœ‰å…·ä½“åœ°æ”¹å–„å•ä¸ªåº”ç”¨ç¨‹åºã€‚ä½†æˆ‘è®¤ä¸ºå·¥ä½œæµæ˜¯æˆ‘çš„â€œç§˜å¯†â€åŠ›é‡ä¹‹ä¸€ï¼šæˆ‘ä¹‹æ‰€ä»¥èƒ½å¤Ÿå–å¾—å¦‚æ­¤å¤§çš„æˆå°±ï¼ŒåŸå› ä¹‹ä¸€æ˜¯æˆ‘èŠ±æ—¶é—´åˆ†æå’Œæ”¹è¿›æˆ‘çš„å·¥ä½œæµç¨‹ã€‚æˆ‘å¼ºçƒˆå»ºè®®æ‚¨ä¹Ÿè¿™æ ·åšï¼</p>\n<p>ä¸‹ä¸€ç« æ˜¯å…³äºå¸ƒå±€å’Œä¸»é¢˜çš„æœ‰ç”¨æŠ€æœ¯ç²¾é€‰ï¼Œæ‚¨å¯ä»¥éšæ„è·³åˆ°å½“å‰åº”ç”¨ç¨‹åºæ‰€éœ€ç« èŠ‚ã€‚</p>\n<h1 id=\"åŠ å…³æ³¨\"><a href=\"#åŠ å…³æ³¨\" class=\"headerlink\" title=\"åŠ å…³æ³¨\"></a>åŠ å…³æ³¨</h1><p>å…³æ³¨å…¬ä¼—å·â€œç”Ÿä¿¡ä¹‹å·…â€ã€‚</p>\n<table align=\"center\"><tr>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å¾®ä¿¡å…¬ä¼—å·\" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-right: 0px;margin-bottom: 5px;align: center;\"></td>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å°ç¨‹åºç \" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-left: 0px;margin-bottom: 5px;align: center\"></td>\n</tr></table>\n\n\n<p><font color=\"#FF0000\"><ruby><b>æ•¬å‘Š</b>ï¼šä½¿ç”¨æ–‡ä¸­è„šæœ¬è¯·å¼•ç”¨æœ¬æ–‡ç½‘å€ï¼Œè¯·å°Šé‡æœ¬äººçš„åŠ³åŠ¨æˆæœï¼Œè°¢è°¢ï¼<rt><b>Notice</b>: When you use the scripts in this article, please cite the link of this webpage. Thank you!</rt></ruby></font></p>\n","raw":null,"categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"Shinyå…¥é—¨ç³»åˆ—,ç¼–ç¨‹ - Shinyå…¥é—¨ç³»åˆ— - ç¼–ç¨‹","path":"api/tags/Shinyå…¥é—¨ç³»åˆ—,ç¼–ç¨‹ - Shinyå…¥é—¨ç³»åˆ— - ç¼–ç¨‹.json"}]},{"title":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”4-æŒ–å‘å®Œæ¯•ä¹‹æ¡ˆä¾‹ç ”ç©¶","slug":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”4-æŒ–å‘å®Œæ¯•ä¹‹æ¡ˆä¾‹ç ”ç©¶","date":"2024-01-24T11:17:55.000Z","updated":"2024-03-11T13:07:17.000Z","comments":true,"path":"api/articles/Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”4-æŒ–å‘å®Œæ¯•ä¹‹æ¡ˆä¾‹ç ”ç©¶.json","excerpt":null,"keywords":null,"cover":"https://d33wubrfki0l68.cloudfront.net/ca164e63cd77225daf58fc6351cf6453e04e0af6/76632/basic-case-study_files/figure-html/toilets-raw-1.png","content":"<h1 id=\"4-æ¡ˆä¾‹ç ”ç©¶ï¼šERæŸä¼¤\"><a href=\"#4-æ¡ˆä¾‹ç ”ç©¶ï¼šERæŸä¼¤\" class=\"headerlink\" title=\"4 æ¡ˆä¾‹ç ”ç©¶ï¼šERæŸä¼¤\"></a>4 æ¡ˆä¾‹ç ”ç©¶ï¼šERæŸä¼¤</h1><h2 id=\"4-1-ç®€ä»‹\"><a href=\"#4-1-ç®€ä»‹\" class=\"headerlink\" title=\"4.1 ç®€ä»‹\"></a>4.1 ç®€ä»‹</h2><p>åœ¨è¿‡å»çš„ä¸‰ä¸ªç« èŠ‚ä¸­ï¼Œæˆ‘å‘æ‚¨ä»‹ç»äº†ä¸€ç³»åˆ—æ–°æ¦‚å¿µã€‚ä¸ºäº†å¸®åŠ©ç†è§£ä»–ä»¬ï¼Œæˆ‘ä»¬ç°åœ¨å°†æµè§ˆä¸€ä¸ªæ›´ä¸°å¯Œçš„Shinyåº”ç”¨ç¨‹åºï¼Œè¯¥åº”ç”¨ç¨‹åºæ¢ç´¢äº†ä¸€ä¸ªæœ‰è¶£çš„æ•°æ®é›†ï¼Œå¹¶å°†æ‚¨è¿„ä»Šä¸ºæ­¢çœ‹åˆ°çš„è®¸å¤šæƒ³æ³•æ•´åˆåœ¨ä¸€èµ·ã€‚æˆ‘ä»¬å°†ä»Shinyä¹‹å¤–è¿›è¡Œä¸€äº›æ•°æ®åˆ†æå¼€å§‹ï¼Œç„¶åå°†å…¶è½¬åŒ–ä¸ºåº”ç”¨ç¨‹åºï¼Œä»ç®€å•å¼€å§‹ï¼Œç„¶åé€æ­¥æ·»åŠ æ›´å¤šç»†èŠ‚ã€‚</p>\n<p>åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨vroomï¼ˆç”¨äºå¿«é€Ÿè¯»å–æ–‡ä»¶ï¼‰å’Œtidyverseï¼ˆç”¨äºä¸€èˆ¬æ•°æ®åˆ†æï¼‰æ¥è¡¥å……Shinyã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library<span class=\"punctuation\">(</span>shiny<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>vroom<span class=\"punctuation\">)</span></span><br><span class=\"line\">library<span class=\"punctuation\">(</span>tidyverse<span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"4-2-æ•°æ®\"><a href=\"#4-2-æ•°æ®\" class=\"headerlink\" title=\"4.2 æ•°æ®\"></a>4.2 æ•°æ®</h2><p>æˆ‘ä»¬å°†æ¢ç´¢æ¶ˆè´¹è€…äº§å“å®‰å…¨å§”å‘˜ä¼šæ”¶é›†çš„ç¾å›½å›½å®¶ç”µå­ä¼¤å®³ç›‘æµ‹ç³»ç»Ÿ (NEISS) çš„æ•°æ®ã€‚è¿™æ˜¯ä¸€é¡¹é•¿æœŸç ”ç©¶ï¼Œè®°å½•äº†ç¾å›½ä»£è¡¨æ€§åŒ»é™¢ä¸­å‘ç”Ÿçš„æ‰€æœ‰äº‹æ•…ã€‚è¿™æ˜¯ä¸€ä¸ªæœ‰è¶£çš„æ•°æ®é›†ï¼Œå› ä¸ºæ¯ä¸ªäººéƒ½ç†Ÿæ‚‰è¿™ä¸ªé¢†åŸŸï¼Œæ¯ä¸ªè§‚å¯Ÿéƒ½é™„æœ‰ç®€çŸ­çš„å™è¿°ï¼Œè§£é‡Šäº‹æ•…æ˜¯å¦‚ä½•å‘ç”Ÿçš„ã€‚æ‚¨å¯ä»¥åœ¨ <a href=\"https://github.com/hadley/neiss\">https://github.com/hadley/neiss</a> äº†è§£æœ‰å…³æ­¤æ•°æ®é›†çš„æ›´å¤šä¿¡æ¯ã€‚</p>\n<p>åœ¨æœ¬ç« ä¸­ï¼Œæˆ‘å°†åªå…³æ³¨2017å¹´çš„æ•°æ®ã€‚è¿™ä½¿å¾—æ•°æ®è¶³å¤Ÿå°ï¼ˆçº¦10 MBï¼‰ï¼Œæ˜“äºå­˜å‚¨åœ¨gitä¸­ï¼ˆä»¥åŠæœ¬ä¹¦çš„å…¶ä½™éƒ¨åˆ†ï¼‰ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬ä¸éœ€è¦è€ƒè™‘å¿«é€Ÿå¯¼å…¥æ•°æ®çš„å¤æ‚ç­–ç•¥ï¼ˆæˆ‘ä»¬å°†åœ¨æœ¬ä¹¦ç¨åå›åˆ°è¿™äº›ç­–ç•¥ï¼‰ã€‚æ‚¨å¯ä»¥åœ¨<a href=\"https://github.com/hadley/mastering-shiny/blob/master/neiss/data.R\">https://github.com/hadley/mastering-shiny/blob/master/neiss/data.R</a>ä¸Šçœ‹åˆ°æˆ‘ç”¨äºåˆ›å»ºæœ¬ç« æå–çš„ä»£ç ã€‚</p>\n<p>å¦‚æœä½ æƒ³æŠŠæ•°æ®ä¼ åˆ°è‡ªå·±çš„ç”µè„‘ä¸Šï¼Œè¿è¡Œè¿™æ®µä»£ç ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">dir.create<span class=\"punctuation\">(</span><span class=\"string\">&quot;neiss&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; Warning in dir.create(&quot;neiss&quot;): &#x27;neiss&#x27; already exists</span></span><br><span class=\"line\">download <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>name<span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  url <span class=\"operator\">&lt;-</span> <span class=\"string\">&quot;https://github.com/hadley/mastering-shiny/raw/master/neiss/&quot;</span></span><br><span class=\"line\">  download.file<span class=\"punctuation\">(</span>paste0<span class=\"punctuation\">(</span>url<span class=\"punctuation\">,</span> name<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> paste0<span class=\"punctuation\">(</span><span class=\"string\">&quot;neiss/&quot;</span><span class=\"punctuation\">,</span> name<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> quiet <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br><span class=\"line\">download<span class=\"punctuation\">(</span><span class=\"string\">&quot;injuries.tsv.gz&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">download<span class=\"punctuation\">(</span><span class=\"string\">&quot;population.tsv&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">download<span class=\"punctuation\">(</span><span class=\"string\">&quot;products.tsv&quot;</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬å°†ä½¿ç”¨çš„ä¸»è¦æ•°æ®é›†æ˜¯ä¼¤å®³æ•°æ®é›†ï¼Œå…¶ä¸­åŒ…å«çº¦25ä¸‡æ¡è§‚å¯Ÿè®°å½•ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">injuries <span class=\"operator\">&lt;-</span> vroom<span class=\"operator\">::</span>vroom<span class=\"punctuation\">(</span><span class=\"string\">&quot;neiss/injuries.tsv.gz&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">injuries</span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 255,064 Ã— 10</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   trmt_date    age sex   race  body_part   diag    locatâ€¦Â¹ prod_â€¦Â² weight narraâ€¦Â³</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   &lt;date&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;chr&gt;  </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1 2017-01-01    71 male  white Upper Trunk Contusâ€¦ Other â€¦    1807   77.7 71YOM â€¦</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2 2017-01-01    16 male  white Lower Arm   Burns,â€¦ Home        676   77.7 16YOM â€¦</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3 2017-01-01    58 male  white Upper Trunk Contusâ€¦ Home        649   77.7 58 YOMâ€¦</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 4 2017-01-01    21 male  white Lower Trunk Strainâ€¦ Home       4076   77.7 21 YOMâ€¦</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 5 2017-01-01    54 male  white Head        Inter â€¦ Other â€¦    1807   77.7 54 YOMâ€¦</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 6 2017-01-01    21 male  white Hand        Fractuâ€¦ Home       1884   77.7 21 YOMâ€¦</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 255,058 more rows, and abbreviated variable names Â¹â€‹location,</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; #   Â²â€‹prod_code, Â³â€‹narrative</span></span><br></pre></td></tr></table></figure>\n\n<p>æ¯è¡Œä»£è¡¨ä¸€èµ·å•æ¬¡äº‹æ•…ï¼Œæœ‰10ä¸ªå˜é‡ï¼š</p>\n<ul>\n<li><p><code>trmt_date</code>æ˜¯è¯¥äººè¢«é€å¾€åŒ»é™¢çš„æ—¥æœŸï¼ˆä¸æ˜¯äº‹æ•…å‘ç”Ÿçš„æ—¥æœŸï¼‰ã€‚</p>\n</li>\n<li><p><code>age</code>ã€<code>sex</code>å’Œ<code>race</code>ç»™å‡ºäº†å‘ç”Ÿäº‹æ•…çš„äººçš„äººå£ç»Ÿè®¡ä¿¡æ¯ã€‚</p>\n</li>\n<li><p><code>body_part</code>æ˜¯èº«ä½“å—ä¼¤éƒ¨ä½çš„ä½ç½®ï¼ˆå¦‚è„šè¸æˆ–è€³æœµï¼‰ï¼›<code>location</code>æ˜¯äº‹æ•…å‘ç”Ÿçš„åœ°æ–¹ï¼ˆå¦‚å®¶åº­æˆ–å­¦æ ¡ï¼‰ã€‚</p>\n</li>\n<li><p><code>diag</code>ç»™å‡ºäº†ä¼¤å®³çš„åŸºæœ¬è¯Šæ–­ï¼ˆå¦‚éª¨æŠ˜æˆ–æ’•è£‚ï¼‰ã€‚</p>\n</li>\n<li><p><code>prod_code</code>æ˜¯ä¸ä¼¤å®³ç›¸å…³çš„ä¸»è¦äº§å“ã€‚</p>\n</li>\n<li><p><code>weight</code>æ˜¯ç»Ÿè®¡æƒé‡ï¼Œç»™å‡ºäº†å¦‚æœå°†æ­¤æ•°æ®é›†æŒ‰æ¯”ä¾‹ç¼©æ”¾åˆ°æ•´ä¸ªç¾å›½äººå£ï¼Œé­å—è¿™ç§ä¼¤å®³çš„äººæ•°ä¼°è®¡ã€‚</p>\n</li>\n<li><p><code>narrative</code>æ˜¯å…³äºäº‹æ•…å¦‚ä½•å‘ç”Ÿçš„ç®€çŸ­æ•…äº‹ã€‚</p>\n</li>\n</ul>\n<p>æˆ‘ä»¬å°†å°†å…¶ä¸å…¶ä»–ä¸¤ä¸ªæ•°æ®å¸§é…å¯¹ä»¥è·å–æ›´å¤šä¸Šä¸‹æ–‡ï¼š<code>products</code>è®©æˆ‘ä»¬å¯ä»¥ä»äº§å“ä»£ç ä¸­æŸ¥æ‰¾äº§å“åç§°ï¼Œ<code>population</code>è®©æˆ‘ä»¬çŸ¥é“2017å¹´ç¾å›½æ¯ä¸€ç§å¹´é¾„å’Œæ€§åˆ«ç»„åˆçš„æ€»äººå£æ•°ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">products <span class=\"operator\">&lt;-</span> vroom<span class=\"operator\">::</span>vroom<span class=\"punctuation\">(</span><span class=\"string\">&quot;neiss/products.tsv&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">products</span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 38 Ã— 2</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   prod_code title                            </span></span><br><span class=\"line\"><span class=\"comment\">#&gt;       &lt;dbl&gt; &lt;chr&gt;                            </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1       464 knives, not elsewhere classified </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2       474 tableware and accessories        </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3       604 desks, chests, bureaus or buffets</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 4       611 bathtubs or showers              </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 5       649 toilets                          </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 6       676 rugs or carpets, not specified   </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 32 more rows</span></span><br><span class=\"line\"></span><br><span class=\"line\">population <span class=\"operator\">&lt;-</span> vroom<span class=\"operator\">::</span>vroom<span class=\"punctuation\">(</span><span class=\"string\">&quot;neiss/population.tsv&quot;</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">population</span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 170 Ã— 3</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;     age sex    population</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   &lt;dbl&gt; &lt;chr&gt;       &lt;dbl&gt;</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1     0 female    1924145</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2     0 male      2015150</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3     1 female    1943534</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 4     1 male      2031718</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 5     2 female    1965150</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 6     2 male      2056625</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 164 more rows</span></span><br></pre></td></tr></table></figure>\n\n<h2 id=\"4-3-æ¢ç´¢\"><a href=\"#4-3-æ¢ç´¢\" class=\"headerlink\" title=\"4.3 æ¢ç´¢\"></a>4.3 æ¢ç´¢</h2><p>åœ¨æˆ‘ä»¬åˆ›å»ºåº”ç”¨ç¨‹åºä¹‹å‰ï¼Œè®©æˆ‘ä»¬å…ˆæ¥æ¢ç´¢ä¸€ä¸‹æ•°æ®ã€‚æˆ‘ä»¬å°†ä»ä¸€æ¬¾å…·æœ‰æœ‰è¶£æ•…äº‹çš„äº§å“å¼€å§‹ï¼š649ï¼Œâ€œå•æ‰€â€ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å°†æå–ä¸æ­¤äº§å“ç›¸å…³çš„ä¼¤å®³ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">selected <span class=\"operator\">&lt;-</span> injuries <span class=\"operator\">%&gt;%</span> filter<span class=\"punctuation\">(</span>prod_code <span class=\"operator\">==</span> <span class=\"number\">649</span><span class=\"punctuation\">)</span></span><br><span class=\"line\">nrow<span class=\"punctuation\">(</span>selected<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; [1] 2993</span></span><br></pre></td></tr></table></figure>\n\n<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†è¿›è¡Œä¸€äº›åŸºæœ¬çš„æ±‡æ€»ï¼ŒæŸ¥çœ‹ä¸å•æ‰€ç›¸å…³çš„ä¼¤å®³çš„ä½ç½®ã€èº«ä½“éƒ¨ä½å’Œè¯Šæ–­ã€‚è¯·æ³¨æ„ï¼Œæˆ‘ç”¨<code>weight</code>å˜é‡åŠ æƒï¼Œè¿™æ ·è®¡æ•°å¯ä»¥è§£é‡Šä¸ºæ•´ä¸ªç¾å›½ä¼°è®¡çš„æ€»ä¼¤å®³æ•°ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">selected <span class=\"operator\">%&gt;%</span> count<span class=\"punctuation\">(</span>location<span class=\"punctuation\">,</span> wt <span class=\"operator\">=</span> weight<span class=\"punctuation\">,</span> sort <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 6 Ã— 2</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   location                         n</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   &lt;chr&gt;                        &lt;dbl&gt;</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1 Home                       99603. </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2 Other Public Property      18663. </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3 Unknown                    16267. </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 4 School                       659. </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 5 Street Or Highway             16.2</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 6 Sports Or Recreation Place    14.8</span></span><br><span class=\"line\"></span><br><span class=\"line\">selected <span class=\"operator\">%&gt;%</span> count<span class=\"punctuation\">(</span>body_part<span class=\"punctuation\">,</span> wt <span class=\"operator\">=</span> weight<span class=\"punctuation\">,</span> sort <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 24 Ã— 2</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   body_part        n</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   &lt;chr&gt;        &lt;dbl&gt;</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1 Head        31370.</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2 Lower Trunk 26855.</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3 Face        13016.</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 4 Upper Trunk 12508.</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 5 Knee         6968.</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 6 N.S./Unk     6741.</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 18 more rows</span></span><br><span class=\"line\"></span><br><span class=\"line\">selected <span class=\"operator\">%&gt;%</span> count<span class=\"punctuation\">(</span>diag<span class=\"punctuation\">,</span> wt <span class=\"operator\">=</span> weight<span class=\"punctuation\">,</span> sort <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 20 Ã— 2</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   diag                       n</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   &lt;chr&gt;                  &lt;dbl&gt;</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1 Other Or Not Stated   32897.</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2 Contusion Or Abrasion 22493.</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3 Inter Organ Injury    21525.</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 4 Fracture              21497.</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 5 Laceration            18734.</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 6 Strain, Sprain         7609.</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 14 more rows</span></span><br></pre></td></tr></table></figure>\n\n<p>æ­£å¦‚ä½ å¯èƒ½é¢„æœŸçš„é‚£æ ·ï¼Œæ¶‰åŠå•æ‰€çš„ä¼¤å®³æœ€å¸¸å‘ç”Ÿåœ¨å®¶é‡Œã€‚æœ€å¸¸æ¶‰åŠçš„èº«ä½“éƒ¨ä½å¯èƒ½è¡¨æ˜è¿™äº›ä¼¤å®³æ˜¯è·Œå€’é€ æˆçš„ï¼ˆå› ä¸ºå¤´éƒ¨å’Œè„¸éƒ¨é€šå¸¸ä¸æ¶‰åŠæ—¥å¸¸å•æ‰€ä½¿ç”¨ï¼‰ï¼Œè€Œä¸”è¯Šæ–­ä¼¼ä¹ç›¸å½“å¤šæ ·åŒ–ã€‚</p>\n<p>æˆ‘ä»¬è¿˜å¯ä»¥æ¢ç´¢å¹´é¾„å’Œæ€§åˆ«ä¹‹é—´çš„æ¨¡å¼ã€‚è¿™é‡Œæˆ‘ä»¬æœ‰è¶³å¤Ÿçš„æ•°æ®ï¼Œè¡¨æ ¼ä¸æ˜¯å¾ˆæœ‰ç”¨ï¼Œæ‰€ä»¥æˆ‘åšäº†ä¸€ä¸ªå›¾ï¼Œå›¾4.1ï¼Œè¿™ä½¿å¾—å›¾æ¡ˆæ›´åŠ æ˜æ˜¾ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">summary <span class=\"operator\">&lt;-</span> selected <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">  count<span class=\"punctuation\">(</span>age<span class=\"punctuation\">,</span> sex<span class=\"punctuation\">,</span> wt <span class=\"operator\">=</span> weight<span class=\"punctuation\">)</span></span><br><span class=\"line\">summary</span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 208 Ã— 3</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;     age sex         n</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1     0 female   4.76</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2     0 male    14.3 </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3     1 female 253.  </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 4     1 male   231.  </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 5     2 female 438.  </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 6     2 male   632.  </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 202 more rows</span></span><br><span class=\"line\"></span><br><span class=\"line\">summary <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">  ggplot<span class=\"punctuation\">(</span>aes<span class=\"punctuation\">(</span>age<span class=\"punctuation\">,</span> n<span class=\"punctuation\">,</span> colour <span class=\"operator\">=</span> sex<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span> </span><br><span class=\"line\">  geom_line<span class=\"punctuation\">(</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span> </span><br><span class=\"line\">  labs<span class=\"punctuation\">(</span>y <span class=\"operator\">=</span> <span class=\"string\">&quot;Estimated number of injuries&quot;</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n<p>  <img src=\"https://d33wubrfki0l68.cloudfront.net/ca164e63cd77225daf58fc6351cf6453e04e0af6/76632/basic-case-study_files/figure-html/toilets-raw-1.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/ca164e63cd77225daf58fc6351cf6453e04e0af6/76632/basic-case-study_files/figure-html/toilets-raw-1.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾4.1 æŒ‰å¹´é¾„å’Œæ€§åˆ«åˆ†åˆ—çš„å•æ‰€é€ æˆçš„ä¼¤å®³ä¼°è®¡æ•°\"></p>\n<p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå°ç”·å­©åœ¨3å²æ—¶è¾¾åˆ°å³°å€¼ï¼Œç„¶åä»ä¸­å¹´å¼€å§‹æœ‰æ‰€å¢åŠ ï¼ˆç‰¹åˆ«æ˜¯å¯¹å¥³æ€§è€Œè¨€ï¼‰ï¼Œåœ¨80å²ä»¥åé€æ¸ä¸‹é™ã€‚æˆ‘è®¤ä¸ºå³°å€¼æ˜¯å› ä¸ºç”·å­©é€šå¸¸ç«™ç€ä¸Šå•æ‰€ï¼Œè€Œå¥³æ€§çš„å¢åŠ æ˜¯å› ä¸ºéª¨è´¨ç–æ¾ç—‡ï¼ˆå³ï¼Œæˆ‘æ€€ç–‘ç”·æ€§å’Œå¥³æ€§çš„å—ä¼¤ç‡ç›¸åŒï¼Œä½†æ›´å¤šçš„å¥³æ€§æœ€ç»ˆè¿›å…¥æ€¥è¯Šå®¤æ˜¯å› ä¸ºå¥¹ä»¬éª¨æŠ˜çš„é£é™©æ›´é«˜ï¼‰ã€‚</p>\n<p>è§£é‡Šè¿™ç§æ¨¡å¼çš„éš¾ç‚¹åœ¨äºï¼Œæˆ‘ä»¬çŸ¥é“è€å¹´äººæ¯”å¹´è½»äººå°‘ï¼Œå› æ­¤å—ä¼¤çš„äººå£æ›´å°‘ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å°†å—ä¼¤äººæ•°ä¸æ€»äººå£è¿›è¡Œæ¯”è¾ƒå¹¶è®¡ç®—ä¼¤å®³ç‡æ¥æ§åˆ¶è¿™ä¸€ç‚¹ã€‚è¿™é‡Œæˆ‘ä½¿ç”¨çš„æ˜¯æ¯10,000äººçš„æ¯”ç‡ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">summary <span class=\"operator\">&lt;-</span> selected <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">  count<span class=\"punctuation\">(</span>age<span class=\"punctuation\">,</span> sex<span class=\"punctuation\">,</span> wt <span class=\"operator\">=</span> weight<span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">  left_join<span class=\"punctuation\">(</span>population<span class=\"punctuation\">,</span> by <span class=\"operator\">=</span> <span class=\"built_in\">c</span><span class=\"punctuation\">(</span><span class=\"string\">&quot;age&quot;</span><span class=\"punctuation\">,</span> <span class=\"string\">&quot;sex&quot;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">  mutate<span class=\"punctuation\">(</span>rate <span class=\"operator\">=</span> n <span class=\"operator\">/</span> population <span class=\"operator\">*</span> <span class=\"number\">1e4</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"></span><br><span class=\"line\">summary</span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 208 Ã— 5</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;     age sex         n population   rate</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   &lt;dbl&gt; &lt;chr&gt;   &lt;dbl&gt;      &lt;dbl&gt;  &lt;dbl&gt;</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1     0 female   4.76    1924145 0.0247</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2     0 male    14.3     2015150 0.0708</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3     1 female 253.      1943534 1.30  </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 4     1 male   231.      2031718 1.14  </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 5     2 female 438.      1965150 2.23  </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 6     2 male   632.      2056625 3.07  </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # â€¦ with 202 more rows</span></span><br></pre></td></tr></table></figure>\n\n<p>ç»˜åˆ¶æ¯”ç‡å›¾ï¼ˆå›¾4.2ï¼‰ï¼Œ50å²ä»¥åçš„è¶‹åŠ¿æ˜æ˜¾ä¸åŒï¼šç”·å¥³ä¹‹é—´çš„å·®å¼‚è¦å°å¾—å¤šï¼Œæˆ‘ä»¬ä¸å†çœ‹åˆ°ä¸‹é™ã€‚è¿™æ˜¯å› ä¸ºå¥³æ€§å¾€å¾€æ¯”ç”·æ€§å¯¿å‘½æ›´é•¿ï¼Œæ‰€ä»¥åœ¨è€å¹´æ—¶ï¼Œæ›´å¤šçš„å¥³æ€§ä»ç„¶æ´»ç€å¹¶å¯èƒ½å› å•æ‰€å—ä¼¤ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">summary <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">  ggplot<span class=\"punctuation\">(</span>aes<span class=\"punctuation\">(</span>age<span class=\"punctuation\">,</span> rate<span class=\"punctuation\">,</span> colour <span class=\"operator\">=</span> sex<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span> </span><br><span class=\"line\">  geom_line<span class=\"punctuation\">(</span>na.rm <span class=\"operator\">=</span> <span class=\"literal\">TRUE</span><span class=\"punctuation\">)</span> <span class=\"operator\">+</span> </span><br><span class=\"line\">  labs<span class=\"punctuation\">(</span>y <span class=\"operator\">=</span> <span class=\"string\">&quot;Injuries per 10,000 people&quot;</span><span class=\"punctuation\">)</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/35c1766902243f1fc9fa1aa92c6a57bd9eb31ccd/382fd/basic-case-study_files/figure-html/toilets-rate-1.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/35c1766902243f1fc9fa1aa92c6a57bd9eb31ccd/382fd/basic-case-study_files/figure-html/toilets-rate-1.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾4.2 æŒ‰å¹´é¾„å’Œæ€§åˆ«åˆ†åˆ—çš„æ¯10,000äººå—ä¼¤ä¼°è®¡ç‡\"></p>\n<p>ï¼ˆæ³¨æ„ï¼Œæ¯”ç‡åªåˆ°80å²ï¼Œå› ä¸ºæˆ‘æ‰¾ä¸åˆ°80å²ä»¥ä¸Šå¹´é¾„çš„äººå£æ•°æ®ã€‚ï¼‰</p>\n<p>æœ€åï¼Œæˆ‘ä»¬å¯ä»¥æµè§ˆä¸€äº›å™è¿°ã€‚é€šè¿‡æµè§ˆè¿™äº›å™è¿°æ˜¯ä¸€ç§éæ­£å¼çš„æ–¹æ³•ï¼Œå¯ä»¥æ£€æŸ¥æˆ‘ä»¬çš„å‡è®¾ï¼Œå¹¶äº§ç”Ÿæ–°çš„æƒ³æ³•ä»¥è¿›ä¸€æ­¥æ¢ç´¢ã€‚è¿™é‡Œæˆ‘éšæœºæŠ½å–äº†10ä¸ªæ ·æœ¬ï¼š</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">selected <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">  sample_n<span class=\"punctuation\">(</span><span class=\"number\">10</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span> </span><br><span class=\"line\">  pull<span class=\"punctuation\">(</span>narrative<span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  [1] &quot;79 YOM LOW BACK PAIN AFTER SLIPPING OFF TOILET AT HOME 1 WEEK AGO.DX DEGENERATIVE DISC DISEASE, BLUMBAR, MECHANICAL FALL, SEPSIS&quot;</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  [2] &quot;88YOF PRESENTS AFTER FALLING OFF THE TOILET AT HOME AND HITTING CHEST WALL. DX: RIGHT CHEST WALL PAIN S/P FALL.*&quot;                </span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  [3] &quot;73YOF WAS SITTING ON A PUBLIC TOILET AND PASSED OUT FELL OF FONTO HEADCLOSED HEAD INJURY ADMITTED FOR SYNCOPE&quot;                   </span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  [4] &quot;97 YOM FELL HITTING HEAD ON TOILET SEAT.DX:  NECK PX, BACK PX, FREQUENT FALLS.&quot;                                                  </span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  [5] &quot;32YOM FROM RENEWAL CENTER WAS SNORTING *** AND FELL OFF THE TOILET STRIKING HIS HEAD DX MINOR CHI&quot;                               </span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  [6] &quot;71YOF LOST BALANCE SITTING ON TOILET AT HOME AND INJURIED SHOULDER.  DX:  LT SHOULDER INJURY.&quot;                                   </span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  [7] &quot;99YOF FALL OFF TOILET AND C/O SHOULDER PAIN/ CONTUSION R SHOULDER&quot;                                                               </span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  [8] &quot;26 YOM TRIPPED AND FELL STRIKING KAND ON TOILET SEAT.DX:  R HAND LAC 5 CM.&quot;                                                      </span></span><br><span class=\"line\"><span class=\"comment\">#&gt;  [9] &quot;86YOF TURNED HEAD &amp; BECAME DIZZY, FELL AGAINST TOILET INJURING SHOULDER/CT SHOULDER&quot;                                             </span></span><br><span class=\"line\"><span class=\"comment\">#&gt; [10] &quot;70 YOF - SYNCOPE - PT WAS SITTING ON TOILET AND FELL @ HOME.&quot;</span></span><br></pre></td></tr></table></figure>\n\n<p>å¯¹äºä¸€ä¸ªäº§å“è¿›è¡Œäº†è¿™ç§æ¢ç´¢ä¹‹åï¼Œå¦‚æœæˆ‘ä»¬èƒ½å¤Ÿè½»æ¾åœ°å¯¹å…¶ä»–äº§å“è¿›è¡Œè¿™ç§æ¢ç´¢ï¼Œè€Œæ— éœ€é‡æ–°è¾“å…¥ä»£ç ï¼Œé‚£å°†æ˜¯éå¸¸å¥½çš„ã€‚æ‰€ä»¥è®©æˆ‘ä»¬åˆ¶ä½œä¸€ä¸ªShinyåº”ç”¨ç¨‹åºï¼</p>\n<h2 id=\"4-4-åŸå‹\"><a href=\"#4-4-åŸå‹\" class=\"headerlink\" title=\"4.4 åŸå‹\"></a>4.4 åŸå‹</h2><p>åœ¨æ„å»ºä¸€ä¸ªå¤æ‚çš„åº”ç”¨ç¨‹åºæ—¶ï¼Œæˆ‘å¼ºçƒˆå»ºè®®æ‚¨å°½å¯èƒ½ä»ç®€å•å¼€å§‹ï¼Œè¿™æ ·æ‚¨å¯ä»¥åœ¨å¼€å§‹è¿›è¡Œæ›´å¤æ‚çš„æ“ä½œä¹‹å‰ç¡®è®¤åŸºæœ¬æœºåˆ¶å¯ä»¥è¿è¡Œã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°†ä»ä¸€ä¸ªè¾“å…¥ï¼ˆäº§å“ä»£ç ï¼‰ã€ä¸‰ä¸ªè¡¨å’Œä¸€ä¸ªå›¾å½¢å¼€å§‹ã€‚</p>\n<p>åœ¨è®¾è®¡ç¬¬ä¸€ä¸ªåŸå‹æ—¶ï¼ŒæŒ‘æˆ˜åœ¨äºä½¿å…¶â€œå°½å¯èƒ½ç®€å•â€ã€‚åœ¨å¿«é€Ÿå®ç°åŸºæœ¬åŠŸèƒ½å’Œä¸ºåº”ç”¨ç¨‹åºçš„æœªæ¥åšè®¡åˆ’ä¹‹é—´å­˜åœ¨ç´§å¼ å…³ç³»ã€‚ä»»ä½•æç«¯éƒ½å¯èƒ½å¾ˆç³Ÿç³•ï¼šå¦‚æœä½ è®¾è®¡å¾—å¤ªç‹­çª„ï¼Œä½ å°†åœ¨ç¨åèŠ±è´¹å¤§é‡æ—¶é—´é‡æ–°è®¾è®¡ä½ çš„åº”ç”¨ç¨‹åºï¼›å¦‚æœä½ è®¾è®¡å¾—å¤ªä¸¥æ ¼ï¼Œä½ å°†èŠ±è´¹å¤§é‡æ—¶é—´ç¼–å†™æœ€ç»ˆå°†è¢«åˆ é™¤çš„ä»£ç ã€‚ä¸ºäº†å¸®åŠ©æ‰¾åˆ°å¹³è¡¡ï¼Œæˆ‘ç»å¸¸åœ¨ä»£ç ä¹‹å‰ç”¨é“…ç¬”ç”»ä¸€äº›è‰å›¾æ¥å¿«é€Ÿæ¢ç´¢ç”¨æˆ·ç•Œé¢å’Œååº”å›¾ã€‚</p>\n<p>åœ¨è¿™é‡Œï¼Œæˆ‘å†³å®šå°†ä¸€è¡Œç”¨äºè¾“å…¥ï¼ˆè€ƒè™‘åˆ°åœ¨åº”ç”¨ç¨‹åºå®Œæˆä¹‹å‰æˆ‘å¯èƒ½ä¼šæ·»åŠ æ›´å¤šè¾“å…¥ï¼‰ï¼Œä¸€è¡Œç”¨äºæ‰€æœ‰ä¸‰ä¸ªè¡¨æ ¼ï¼ˆç»™æ¯ä¸ªè¡¨æ ¼4åˆ—ï¼Œå 12åˆ—å®½åº¦çš„1&#x2F;3ï¼‰ï¼Œç„¶åä¸€è¡Œç”¨äºå›¾å½¢ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">prod_codes &lt;- setNames(products$prod_code, products$title)</span><br><span class=\"line\"></span><br><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  fluidRow(</span><br><span class=\"line\">    column(6,</span><br><span class=\"line\">      selectInput(&quot;code&quot;, &quot;Product&quot;, choices = prod_codes)</span><br><span class=\"line\">    )</span><br><span class=\"line\">  ),</span><br><span class=\"line\">  fluidRow(</span><br><span class=\"line\">    column(4, tableOutput(&quot;diag&quot;)),</span><br><span class=\"line\">    column(4, tableOutput(&quot;body_part&quot;)),</span><br><span class=\"line\">    column(4, tableOutput(&quot;location&quot;))</span><br><span class=\"line\">  ),</span><br><span class=\"line\">  fluidRow(</span><br><span class=\"line\">    column(12, plotOutput(&quot;age_sex&quot;))</span><br><span class=\"line\">  )</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘ä»¬è¿˜æ²¡æœ‰è°ˆè®º<code>fluidRow()</code>å’Œ<code>column()</code>ï¼Œä½†ä½ åº”è¯¥èƒ½å¤Ÿä»ä¸Šä¸‹æ–‡ä¸­çŒœæµ‹å®ƒä»¬çš„ä½œç”¨ï¼Œæˆ‘ä»¬å°†åœ¨ç¬¬6.2.3èŠ‚å›æ¥è®¨è®ºå®ƒä»¬ã€‚å¦å¤–è¯·æ³¨æ„åœ¨<code>selectInput()</code> <code>choices</code>ä¸­ä½¿ç”¨<code>setNames()</code>ï¼šå®ƒåœ¨ç”¨æˆ·ç•Œé¢ä¸­æ˜¾ç¤ºäº§å“åç§°å¹¶è¿”å›äº§å“ä»£ç åˆ°serverã€‚</p>\n<p>serverå‡½æ•°ç›¸å¯¹ç®€å•ã€‚æˆ‘å…ˆå°†ä¸Šä¸€èŠ‚ä¸­åˆ›å»ºçš„<code>selected</code>å’Œ<code>summary</code>å˜é‡è½¬æ¢ä¸ºååº”å¼è¡¨è¾¾å¼ã€‚è¿™æ˜¯ä¸€ä¸ªåˆç†çš„é€šç”¨æ¨¡å¼ï¼šæ‚¨åœ¨æ•°æ®åˆ†æä¸­åˆ›å»ºå˜é‡ä»¥åˆ†è§£åˆ†ææ­¥éª¤ï¼Œå¹¶é¿å…å¤šæ¬¡é‡æ–°è®¡ç®—ï¼Œè€ŒShinyåº”ç”¨ç¨‹åºä¸­çš„ååº”å¼è¡¨è¾¾å¼èµ·åˆ°ç›¸åŒçš„ä½œç”¨ã€‚</p>\n<p>é€šå¸¸ï¼Œåœ¨å¼€å§‹Shinyåº”ç”¨ç¨‹åºä¹‹å‰ï¼ŒèŠ±ä¸€äº›æ—¶é—´æ¸…ç†ä½ çš„åˆ†æä»£ç æ˜¯ä¸€ä¸ªå¥½ä¸»æ„ï¼Œè¿™æ ·ä½ å°±å¯ä»¥åœ¨æ·»åŠ ååº”æ€§çš„é¢å¤–å¤æ‚æ€§ä¹‹å‰ç”¨å¸¸è§„Rä»£ç æ¥è€ƒè™‘è¿™äº›é—®é¢˜ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  selected &lt;- reactive(injuries %&gt;% filter(prod_code == input$code))</span><br><span class=\"line\"></span><br><span class=\"line\">  output$diag &lt;- renderTable(</span><br><span class=\"line\">    selected() %&gt;% count(diag, wt = weight, sort = TRUE)</span><br><span class=\"line\">  )</span><br><span class=\"line\">  output$body_part &lt;- renderTable(</span><br><span class=\"line\">    selected() %&gt;% count(body_part, wt = weight, sort = TRUE)</span><br><span class=\"line\">  )</span><br><span class=\"line\">  output$location &lt;- renderTable(</span><br><span class=\"line\">    selected() %&gt;% count(location, wt = weight, sort = TRUE)</span><br><span class=\"line\">  )</span><br><span class=\"line\"></span><br><span class=\"line\">  summary &lt;- reactive(&#123;</span><br><span class=\"line\">    selected() %&gt;%</span><br><span class=\"line\">      count(age, sex, wt = weight) %&gt;%</span><br><span class=\"line\">      left_join(population, by = c(&quot;age&quot;, &quot;sex&quot;)) %&gt;%</span><br><span class=\"line\">      mutate(rate = n / population * 1e4)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">  output$age_sex &lt;- renderPlot(&#123;</span><br><span class=\"line\">    summary() %&gt;%</span><br><span class=\"line\">      ggplot(aes(age, n, colour = sex)) +</span><br><span class=\"line\">      geom_line() +</span><br><span class=\"line\">      labs(y = &quot;Estimated number of injuries&quot;)</span><br><span class=\"line\">  &#125;, res = 96)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ³¨æ„ï¼Œåœ¨è¿™é‡Œåˆ›å»ºsummaryååº”å¼å¹¶ä¸æ˜¯ä¸¥æ ¼å¿…è¦çš„ï¼Œå› ä¸ºå®ƒä»…è¢«ä¸€ä¸ªååº”å¼æ¶ˆè´¹è€…ä½¿ç”¨ã€‚ä½†æ˜¯ï¼Œå°†è®¡ç®—å’Œç»˜å›¾åˆ†å¼€æ˜¯å¾ˆå¥½çš„åšæ³•ï¼Œå› ä¸ºè¿™æ ·å¯ä»¥ä½¿åº”ç”¨ç¨‹åºçš„æµç¨‹æ›´æ˜“äºç†è§£ï¼Œå¹¶ä¸”å°†æ¥æ›´æ˜“äºæ¨å¹¿ã€‚</p>\n<p>æœ€ç»ˆåº”ç”¨ç¨‹åºçš„å±å¹•æˆªå›¾å¦‚å›¾4.3æ‰€ç¤ºã€‚æ‚¨å¯ä»¥åœ¨æ­¤å¤„æ‰¾åˆ°æºä»£ç ï¼š<a href=\"https://github.com/hadley/mastering-shiny/tree/master/neiss/prototype.R\">https://github.com/hadley/mastering-shiny/tree/master/neiss/prototype.R</a>ï¼Œå¹¶å°è¯•è¿è¡Œè¯¥åº”ç”¨ç¨‹åºçš„å®æ—¶ç‰ˆæœ¬ï¼š<a href=\"https://hadley.shinyapps.io/ms-prototype/\">https://hadley.shinyapps.io/ms-prototype/</a>ã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/0671024307798129536ceb17723b862ec709f14f/cd879/demos/basic-case-study/prototype.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/0671024307798129536ceb17723b862ec709f14f/cd879/demos/basic-case-study/prototype.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾4.3 NEISSæ¢ç´¢åº”ç”¨ç¨‹åºçš„ç¬¬ä¸€ä¸ªåŸå‹\"></p>\n<h2 id=\"4-5-å®Œå–„è¡¨æ ¼\"><a href=\"#4-5-å®Œå–„è¡¨æ ¼\" class=\"headerlink\" title=\"4.5 å®Œå–„è¡¨æ ¼\"></a>4.5 å®Œå–„è¡¨æ ¼</h2><p>æ—¢ç„¶æˆ‘ä»¬å·²ç»å°†åŸºæœ¬ç»„ä»¶æ”¾ç½®å¹¶è¿è¡Œï¼Œæˆ‘ä»¬å¯ä»¥é€æ­¥æ”¹è¿›æˆ‘ä»¬çš„åº”ç”¨ç¨‹åºã€‚è¿™ä¸ªåº”ç”¨ç¨‹åºçš„ç¬¬ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œå®ƒåœ¨è¡¨æ ¼ä¸­æ˜¾ç¤ºäº†å¾ˆå¤šä¿¡æ¯ï¼Œæˆ‘ä»¬å¯èƒ½åªæƒ³çŸ¥é“é‡ç‚¹ã€‚ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦é¦–å…ˆæ‰¾å‡ºå¦‚ä½•æˆªæ–­è¡¨æ ¼ã€‚æˆ‘é€‰æ‹©é€šè¿‡ç»„åˆforcatså‡½æ•°æ¥å®ç°ï¼šæˆ‘å°†å˜é‡è½¬æ¢ä¸ºå› å­ï¼ŒæŒ‰çº§åˆ«çš„é¢‘ç‡æ’åºï¼Œç„¶åå°†å‰äº”ä¸ªçº§åˆ«ä¹‹åçš„æ‰€æœ‰çº§åˆ«éƒ½æ”¾åœ¨ä¸€èµ·ã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">injuries <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  mutate<span class=\"punctuation\">(</span>diag <span class=\"operator\">=</span> fct_lump<span class=\"punctuation\">(</span>fct_infreq<span class=\"punctuation\">(</span>diag<span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> n <span class=\"operator\">=</span> <span class=\"number\">5</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  group_by<span class=\"punctuation\">(</span>diag<span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">  summarise<span class=\"punctuation\">(</span>n <span class=\"operator\">=</span> <span class=\"built_in\">as.integer</span><span class=\"punctuation\">(</span><span class=\"built_in\">sum</span><span class=\"punctuation\">(</span>weight<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; # A tibble: 6 Ã— 2</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   diag                        n</span></span><br><span class=\"line\"><span class=\"comment\">#&gt;   &lt;fct&gt;                   &lt;int&gt;</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 1 Other Or Not Stated   1806436</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 2 Fracture              1558961</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 3 Laceration            1432407</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 4 Strain, Sprain        1432556</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 5 Contusion Or Abrasion 1451987</span></span><br><span class=\"line\"><span class=\"comment\">#&gt; 6 Other                 1929147</span></span><br></pre></td></tr></table></figure>\n\n<p>å› ä¸ºæˆ‘çŸ¥é“å¦‚ä½•åšåˆ°è¿™ä¸€ç‚¹ï¼Œæ‰€ä»¥æˆ‘ç¼–å†™äº†ä¸€ä¸ªå°å‡½æ•°æ¥è‡ªåŠ¨æ‰§è¡Œæ­¤æ“ä½œï¼Œå¯¹ä»»ä½•å˜é‡ã€‚è¿™é‡Œçš„ç»†èŠ‚å¹¶ä¸æ˜¯é‚£ä¹ˆé‡è¦ï¼Œä½†æˆ‘ä»¬å°†åœ¨ç¬¬12ç« ä¸­å›åˆ°å®ƒä»¬ã€‚æ‚¨ä¹Ÿå¯ä»¥é€šè¿‡å¤åˆ¶å’Œç²˜è´´è§£å†³é—®é¢˜ï¼Œå› æ­¤å¦‚æœä»£ç çœ‹èµ·æ¥å®Œå…¨é™Œç”Ÿï¼Œè¯·ä¸è¦æ‹…å¿ƒã€‚</p>\n<figure class=\"highlight r\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">count_top <span class=\"operator\">&lt;-</span> <span class=\"keyword\">function</span><span class=\"punctuation\">(</span>df<span class=\"punctuation\">,</span> var<span class=\"punctuation\">,</span> n <span class=\"operator\">=</span> <span class=\"number\">5</span><span class=\"punctuation\">)</span> <span class=\"punctuation\">&#123;</span></span><br><span class=\"line\">  df <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">    mutate<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span><span class=\"punctuation\">&#123;</span> var <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">&#125;</span> <span class=\"operator\">:=</span> fct_lump<span class=\"punctuation\">(</span>fct_infreq<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span><span class=\"punctuation\">&#123;</span> var <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span><span class=\"punctuation\">,</span> n <span class=\"operator\">=</span> n<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">    group_by<span class=\"punctuation\">(</span><span class=\"punctuation\">&#123;</span><span class=\"punctuation\">&#123;</span> var <span class=\"punctuation\">&#125;</span><span class=\"punctuation\">&#125;</span><span class=\"punctuation\">)</span> <span class=\"operator\">%&gt;%</span></span><br><span class=\"line\">    summarise<span class=\"punctuation\">(</span>n <span class=\"operator\">=</span> <span class=\"built_in\">as.integer</span><span class=\"punctuation\">(</span><span class=\"built_in\">sum</span><span class=\"punctuation\">(</span>weight<span class=\"punctuation\">)</span><span class=\"punctuation\">)</span><span class=\"punctuation\">)</span></span><br><span class=\"line\"><span class=\"punctuation\">&#125;</span></span><br></pre></td></tr></table></figure>\n\n<p>æ¥ä¸‹æ¥é‡‡ç”¨serverå‡½æ•°ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">output$diag &lt;- renderTable(count_top(selected(), diag), width = &quot;100%&quot;)</span><br><span class=\"line\">  output$body_part &lt;- renderTable(count_top(selected(), body_part), width = &quot;100%&quot;)</span><br><span class=\"line\">  output$location &lt;- renderTable(count_top(selected(), location), width = &quot;100%&quot;)</span><br></pre></td></tr></table></figure>\n\n<p>æˆ‘åšäº†å¦ä¸€ä¸ªæ›´æ”¹æ¥æ”¹å–„åº”ç”¨ç¨‹åºçš„ç¾è§‚æ€§ï¼šæˆ‘å¼ºåˆ¶æ‰€æœ‰è¡¨å æ®æœ€å¤§å®½åº¦ï¼ˆå³å¡«å……å®ƒä»¬å‡ºç°çš„åˆ—ï¼‰ã€‚è¿™ä½¿å¾—è¾“å‡ºåœ¨ç¾å­¦ä¸Šæ›´åŠ ç¾è§‚ï¼Œå› ä¸ºå®ƒå‡å°‘äº†å¶ç„¶å˜åŒ–çš„æ•°é‡ã€‚</p>\n<p>åº”ç”¨ç¨‹åºè¿è¡Œç»“æœçš„å±å¹•æˆªå›¾å¦‚å›¾4.4æ‰€ç¤ºã€‚æ‚¨å¯ä»¥åœ¨<a href=\"https://github.com/hadley/mastering-shiny/tree/master/neiss/polish-tables.R\">https://github.com/hadley/mastering-shiny/tree/master/neiss/polish-tables.R</a>ä¸­æ‰¾åˆ°æºä»£ç ï¼Œå¹¶åœ¨<a href=\"https://hadley.shinyapps.io/ms-polish-tables\">https://hadley.shinyapps.io/ms-polish-tables</a>ä¸Šè¯•ç”¨è¯¥åº”ç”¨ç¨‹åºçš„å®æ—¶ç‰ˆæœ¬ã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/9ab24257bb441350c7e2d57bd09fe9452cae592e/779c3/demos/basic-case-study/polish-tables.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/9ab24257bb441350c7e2d57bd09fe9452cae592e/779c3/demos/basic-case-study/polish-tables.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾4.4 åº”ç”¨ç¨‹åºçš„ç¬¬äºŒæ¬¡è¿­ä»£é€šè¿‡ä»…æ˜¾ç¤ºæ€»ç»“è¡¨ä¸­æœ€å¸¸è§è¡Œæ¥æ”¹è¿›æ˜¾ç¤ºæ•ˆæœ\"></p>\n<h2 id=\"4-6-å‘ç”Ÿç‡ä¸è®¡æ•°\"><a href=\"#4-6-å‘ç”Ÿç‡ä¸è®¡æ•°\" class=\"headerlink\" title=\"4.6 å‘ç”Ÿç‡ä¸è®¡æ•°\"></a>4.6 å‘ç”Ÿç‡ä¸è®¡æ•°</h2><p>ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬åªæ˜¾ç¤ºäº†ä¸€ä¸ªå›¾è¡¨ï¼Œä½†æˆ‘ä»¬å¸Œæœ›ç”¨æˆ·å¯ä»¥é€‰æ‹©æ˜¾ç¤ºå—ä¼¤äººæ•°æˆ–æ ‡å‡†åŒ–å‘ç”Ÿç‡ã€‚é¦–å…ˆï¼Œæˆ‘åœ¨ç”¨æˆ·ç•Œé¢ä¸­æ·»åŠ äº†ä¸€ä¸ªæ§ä»¶ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘é€‰æ‹©ä½¿ç”¨<code>selectInput()</code>ï¼Œå› ä¸ºå®ƒä½¿ä¸¤ç§çŠ¶æ€éƒ½å˜å¾—æ˜ç¡®ï¼Œå¹¶ä¸”å°†æ¥å¾ˆå®¹æ˜“æ·»åŠ æ–°çš„çŠ¶æ€ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fluidRow(</span><br><span class=\"line\">    column(8,</span><br><span class=\"line\">      selectInput(&quot;code&quot;, &quot;Product&quot;,</span><br><span class=\"line\">        choices = setNames(products$prod_code, products$title),</span><br><span class=\"line\">        width = &quot;100%&quot;</span><br><span class=\"line\">      )</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    column(2, selectInput(&quot;y&quot;, &quot;Y axis&quot;, c(&quot;rate&quot;, &quot;count&quot;)))</span><br><span class=\"line\">  ),</span><br></pre></td></tr></table></figure>\n\n<p>ï¼ˆæˆ‘é»˜è®¤é€‰æ‹©å‘ç”Ÿç‡ï¼Œå› ä¸ºæˆ‘è®¤ä¸ºè¿™æ ·æ›´å®‰å…¨ï¼›æ‚¨ä¸éœ€è¦äº†è§£äººå£åˆ†å¸ƒå°±å¯ä»¥æ­£ç¡®è§£é‡Šå›¾è¡¨ã€‚ï¼‰</p>\n<p>ç„¶åï¼Œæˆ‘åœ¨ç”Ÿæˆå›¾è¡¨æ—¶æ ¹æ®è¾“å…¥è¿›è¡Œæ¡ä»¶è®¾ç½®ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">output$age_sex &lt;- renderPlot(&#123;</span><br><span class=\"line\">    if (input$y == &quot;count&quot;) &#123;</span><br><span class=\"line\">      summary() %&gt;%</span><br><span class=\"line\">        ggplot(aes(age, n, colour = sex)) +</span><br><span class=\"line\">        geom_line() +</span><br><span class=\"line\">        labs(y = &quot;Estimated number of injuries&quot;)</span><br><span class=\"line\">    &#125; else &#123;</span><br><span class=\"line\">      summary() %&gt;%</span><br><span class=\"line\">        ggplot(aes(age, rate, colour = sex)) +</span><br><span class=\"line\">        geom_line(na.rm = TRUE) +</span><br><span class=\"line\">        labs(y = &quot;Injuries per 10,000 people&quot;)</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;, res = 96)</span><br></pre></td></tr></table></figure>\n\n<p>ç»“æœåº”ç”¨ç¨‹åºçš„å±å¹•æˆªå›¾å¦‚å›¾4.5æ‰€ç¤ºã€‚æ‚¨å¯ä»¥åœ¨<a href=\"https://github.com/hadley/mastering-shiny/tree/master/neiss/rate-vs-count.R\">https://github.com/hadley/mastering-shiny/tree/master/neiss/rate-vs-count.R</a>ä¸­æ‰¾åˆ°æºä»£ç ï¼Œå¹¶åœ¨<a href=\"https://hadley.shinyapps.io/ms-rate-vs-count\">https://hadley.shinyapps.io/ms-rate-vs-count</a>ä¸Šè¯•ç”¨è¯¥åº”ç”¨ç¨‹åºçš„å®æ—¶ç‰ˆæœ¬ã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/57dcd9e1cf0724f9c4af5d20972e410a5203b5e6/d119e/demos/basic-case-study/rate-vs-count.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/57dcd9e1cf0724f9c4af5d20972e410a5203b5e6/d119e/demos/basic-case-study/rate-vs-count.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾4.5 åœ¨æ­¤è¿­ä»£ä¸­ï¼Œæˆ‘ä»¬å…è®¸ç”¨æˆ·åœ¨æ˜¾ç¤ºyè½´ä¸Šçš„è®¡æ•°æˆ–äººå£æ ‡å‡†åŒ–ç‡ä¹‹é—´è¿›è¡Œåˆ‡æ¢ã€‚\"></p>\n<h2 id=\"4-7-å™è¿°\"><a href=\"#4-7-å™è¿°\" class=\"headerlink\" title=\"4.7 å™è¿°\"></a>4.7 å™è¿°</h2><p>æœ€åï¼Œæˆ‘æƒ³æä¾›ä¸€ç§æ–¹å¼æ¥è®¿é—®è¿™äº›å™è¿°ï¼Œå› ä¸ºå®ƒä»¬å¾ˆæœ‰è¶£ï¼Œè€Œä¸”å®ƒä»¬æä¾›äº†ä¸€ç§éæ­£å¼çš„æ–¹å¼ï¼Œå¯ä»¥åœ¨æŸ¥çœ‹å›¾è¡¨æ—¶æ£€æŸ¥ä½ æå‡ºçš„å‡è®¾ã€‚åœ¨Rä»£ç ä¸­ï¼Œæˆ‘åŒæ—¶é‡‡æ ·å¤šä¸ªå™è¿°ï¼Œä½†åœ¨ä½ å¯ä»¥äº¤äº’æ¢ç´¢çš„åº”ç”¨ç¨‹åºä¸­æ²¡æœ‰ç†ç”±è¿™æ ·åšã€‚</p>\n<p>è§£å†³æ–¹æ¡ˆåˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬åœ¨ç”¨æˆ·ç•Œé¢åº•éƒ¨æ·»åŠ ä¸€è¡Œã€‚æˆ‘ä½¿ç”¨ä¸€ä¸ªåŠ¨ä½œæŒ‰é’®æ¥è§¦å‘ä¸€ä¸ªæ–°çš„æ•…äº‹ï¼Œå¹¶å°†å™è¿°æ”¾åœ¨ä¸€ä¸ª<code>textOutput()</code>ä¸­ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">fluidRow(</span><br><span class=\"line\">    column(2, actionButton(&quot;story&quot;, &quot;Tell me a story&quot;)),</span><br><span class=\"line\">    column(10, textOutput(&quot;narrative&quot;))</span><br><span class=\"line\">  )</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åï¼Œæˆ‘ä½¿ç”¨<code>eventReactive()</code>åˆ›å»ºä¸€ä¸ªååº”ï¼Œåªæœ‰åœ¨æŒ‰é’®è¢«ç‚¹å‡»æˆ–åº•å±‚æ•°æ®æ”¹å˜æ—¶æ‰ä¼šæ›´æ–°ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">narrative_sample &lt;- eventReactive(</span><br><span class=\"line\">    list(input$story, selected()),</span><br><span class=\"line\">    selected() %&gt;% pull(narrative) %&gt;% sample(1)</span><br><span class=\"line\">  )</span><br><span class=\"line\">  output$narrative &lt;- renderText(narrative_sample())</span><br></pre></td></tr></table></figure>\n\n<p>ç»“æœåº”ç”¨ç¨‹åºçš„å±å¹•æˆªå›¾å¦‚å›¾4.6æ‰€ç¤ºã€‚æ‚¨å¯ä»¥åœ¨<a href=\"https://github.com/hadley/mastering-shiny/tree/master/neiss/narrative.R\">https://github.com/hadley/mastering-shiny/tree/master/neiss/narrative.R</a>ä¸­æ‰¾åˆ°æºä»£ç ï¼Œå¹¶åœ¨<a href=\"https://hadley.shinyapps.io/ms-narrative\">https://hadley.shinyapps.io/ms-narrative</a>ä¸Šè¯•ç”¨è¯¥åº”ç”¨ç¨‹åºçš„å®æ—¶ç‰ˆæœ¬ã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/d62551b4bee05d3bd17b852b30b2fd55066e58dc/0d9bf/demos/basic-case-study/narrative.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/d62551b4bee05d3bd17b852b30b2fd55066e58dc/0d9bf/demos/basic-case-study/narrative.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾4.6 æœ€ç»ˆè¿­ä»£å¢åŠ äº†ä»é€‰å®šè¡Œä¸­éšæœºæŠ½å–å™è¿°çš„åŠŸèƒ½\"></p>\n<h2 id=\"4-8-ç»ƒä¹ \"><a href=\"#4-8-ç»ƒä¹ \" class=\"headerlink\" title=\"4.8 ç»ƒä¹ \"></a>4.8 ç»ƒä¹ </h2><ul>\n<li><p>ä¸ºæ¯ä¸ªåº”ç”¨ç¨‹åºç»˜åˆ¶ååº”å›¾ã€‚</p>\n</li>\n<li><p>åœ¨å‡å°‘æ‘˜è¦è¡¨çš„ä»£ç ä¸­ï¼Œå¦‚æœå°†<code>fct_infreq()</code>å’Œ<code>fct_lump()</code>ç¿»è½¬ï¼Œä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>\n</li>\n<li><p>æ·»åŠ ä¸€ä¸ªè¾“å…¥æ§ä»¶ï¼Œè®©ç”¨æˆ·å†³å®šåœ¨æ‘˜è¦è¡¨ä¸­æ˜¾ç¤ºçš„è¡Œæ•°ã€‚</p>\n</li>\n<li><p>æä¾›ä¸€ç§ç³»ç»Ÿåœ°ä½¿ç”¨å‰åæŒ‰é’®é€æ­¥æµè§ˆæ¯ä¸ªå™è¿°çš„æ–¹æ³•ã€‚</p>\n</li>\n</ul>\n<p><strong>é«˜çº§</strong>ï¼šä½¿å™è¿°åˆ—è¡¨â€œå¾ªç¯â€ï¼Œä»¥ä¾¿ä»æœ€åä¸€ä¸ªå™è¿°å‰è¿›åˆ°ç¬¬ä¸€ä¸ªå™è¿°ã€‚</p>\n<h2 id=\"4-9-æ€»ç»“\"><a href=\"#4-9-æ€»ç»“\" class=\"headerlink\" title=\"4.9 æ€»ç»“\"></a>4.9 æ€»ç»“</h2><p>ç°åœ¨ï¼Œæ‚¨å·²ç»æŒæ¡äº†Shinyåº”ç”¨ç¨‹åºçš„åŸºæœ¬çŸ¥è¯†ï¼Œæ¥ä¸‹æ¥çš„ä¸ƒç« å°†ä¸ºæ‚¨æä¾›ä¸€ç³»åˆ—é‡è¦çš„æŠ€æœ¯ã€‚ä¸€æ—¦æ‚¨é˜…è¯»äº†ä¸‹ä¸€ç« å…³äºå·¥ä½œæµçš„ç« èŠ‚ï¼Œæˆ‘å»ºè®®æ‚¨æµè§ˆå…¶ä½™ç« èŠ‚ä»¥äº†è§£å®ƒä»¬çš„æ¶µç›–å†…å®¹ï¼Œç„¶ååœ¨éœ€è¦åº”ç”¨ç¨‹åºæŠ€æœ¯æ—¶å†å›æ¥é˜…è¯»ã€‚</p>\n<h1 id=\"åŠ å…³æ³¨\"><a href=\"#åŠ å…³æ³¨\" class=\"headerlink\" title=\"åŠ å…³æ³¨\"></a>åŠ å…³æ³¨</h1><p>å…³æ³¨å…¬ä¼—å·â€œç”Ÿä¿¡ä¹‹å·…â€ã€‚</p>\n<table align=\"center\"><tr>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å¾®ä¿¡å…¬ä¼—å·\" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-right: 0px;margin-bottom: 5px;align: center;\"></td>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å°ç¨‹åºç \" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-left: 0px;margin-bottom: 5px;align: center\"></td>\n</tr></table>\n\n\n<p><font color=\"#FF0000\"><ruby><b>æ•¬å‘Š</b>ï¼šä½¿ç”¨æ–‡ä¸­è„šæœ¬è¯·å¼•ç”¨æœ¬æ–‡ç½‘å€ï¼Œè¯·å°Šé‡æœ¬äººçš„åŠ³åŠ¨æˆæœï¼Œè°¢è°¢ï¼<rt><b>Notice</b>: When you use the scripts in this article, please cite the link of this webpage. Thank you!</rt></ruby></font></p>\n","raw":null,"categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"Shinyå…¥é—¨ç³»åˆ—,ç¼–ç¨‹ - Shinyå…¥é—¨ç³»åˆ— - ç¼–ç¨‹","path":"api/tags/Shinyå…¥é—¨ç³»åˆ—,ç¼–ç¨‹ - Shinyå…¥é—¨ç³»åˆ— - ç¼–ç¨‹.json"}]},{"title":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”3-åœ¨ç‰¹åˆ«å¤§çš„èŠ±å›­é‡Œé¢æŒ–å‘€æŒ–å‘€æŒ–","slug":"Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”3-åœ¨ç‰¹åˆ«å¤§çš„èŠ±å›­é‡Œé¢æŒ–å‘€æŒ–å‘€æŒ–","date":"2024-01-20T08:53:43.000Z","updated":"2024-03-11T13:07:17.000Z","comments":true,"path":"api/articles/Shinyä»å…¥é—¨åˆ°å…¥å®šâ€”â€”3-åœ¨ç‰¹åˆ«å¤§çš„èŠ±å›­é‡Œé¢æŒ–å‘€æŒ–å‘€æŒ–.json","excerpt":null,"keywords":null,"cover":"https://d33wubrfki0l68.cloudfront.net/25d7fea6d0b5dc9d5eabb7805b9fa9ffeb44f924/c426a/demos/basic-reactivity/connection-1.png","content":"<h1 id=\"3-åŸºç¡€ååº”æ€§\"><a href=\"#3-åŸºç¡€ååº”æ€§\" class=\"headerlink\" title=\"3 åŸºç¡€ååº”æ€§\"></a>3 åŸºç¡€ååº”æ€§</h1><h2 id=\"3-1-ä»‹ç»\"><a href=\"#3-1-ä»‹ç»\" class=\"headerlink\" title=\"3.1 ä»‹ç»\"></a>3.1 ä»‹ç»</h2><p>åœ¨Shinyä¸­ï¼Œæ‚¨ä½¿ç”¨ååº”å¼ç¼–ç¨‹æ¥è¡¨è¾¾æœåŠ¡å™¨é€»è¾‘ã€‚ååº”å¼ç¼–ç¨‹æ˜¯ä¸€ç§ä¼˜é›…è€Œå¼ºå¤§çš„ç¼–ç¨‹èŒƒå¼ï¼Œä½†èµ·åˆå¯èƒ½ä¼šè®©äººæ„Ÿåˆ°è¿·å¤±ï¼Œå› ä¸ºå®ƒä¸ç¼–å†™è„šæœ¬çš„èŒƒå¼éå¸¸ä¸åŒã€‚ååº”å¼ç¼–ç¨‹çš„å…³é”®æ€æƒ³æ˜¯å®šä¹‰ä¸€ä¸ªä¾èµ–å›¾ï¼Œè¿™æ ·å½“è¾“å…¥å˜åŒ–æ—¶ï¼Œæ‰€æœ‰ç›¸å…³çš„è¾“å‡ºéƒ½ä¼šè‡ªåŠ¨æ›´æ–°ã€‚è¿™ä½¿å¾—åº”ç”¨ç¨‹åºçš„æµç¨‹å¤§å¤§ç®€åŒ–ï¼Œä½†éœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½ç†è§£å¦‚ä½•å°†æ‰€æœ‰å†…å®¹æ•´åˆåœ¨ä¸€èµ·ã€‚</p>\n<p>æœ¬ç« å°†ä¸ºæ‚¨æä¾›å¯¹ååº”å¼ç¼–ç¨‹çš„ç®€å•ä»‹ç»ï¼Œæ•™æˆæ‚¨Shinyåº”ç”¨ä¸­æœ€å¸¸è§çš„ååº”å¼ç»“æ„çš„åŸºæœ¬çŸ¥è¯†ã€‚æˆ‘ä»¬å°†ä»æœåŠ¡å™¨å‡½æ•°æ¦‚è§ˆå¼€å§‹ï¼Œæ›´è¯¦ç»†åœ°è®¨è®ºè¾“å…¥å’Œè¾“å‡ºå‚æ•°çš„å·¥ä½œæ–¹å¼ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°†å›é¡¾æœ€ç®€å•çš„ååº”å½¢å¼ï¼ˆå°†è¾“å…¥ç›´æ¥è¿æ¥åˆ°è¾“å‡ºï¼‰ï¼Œç„¶åè®¨è®ºååº”å¼è¡¨è¾¾å¼å¦‚ä½•å¸®åŠ©æ‚¨æ¶ˆé™¤é‡å¤çš„å·¥ä½œã€‚æœ€åï¼Œæˆ‘ä»¬å°†å›é¡¾ä¸€äº›æ–°ç”¨æˆ·å¸¸è§çš„éšœç¢ã€‚</p>\n<h2 id=\"3-2-serverå‡½æ•°\"><a href=\"#3-2-serverå‡½æ•°\" class=\"headerlink\" title=\"3.2 serverå‡½æ•°\"></a>3.2 serverå‡½æ•°</h2><p>æ­£å¦‚æ‚¨æ‰€è§ï¼Œæ¯ä¸ªShinyåº”ç”¨ç¨‹åºçš„å†…éƒ¨å¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library(shiny)</span><br><span class=\"line\"></span><br><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  # front end interface</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  # back end logic</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">shinyApp(ui, server)</span><br></pre></td></tr></table></figure>\n\n<p>ä¸Šä¸€ç« ä»‹ç»äº†å‰ç«¯çš„åŸºç¡€çŸ¥è¯†ï¼Œuiå¯¹è±¡åŒ…å«å‘åº”ç”¨ç¨‹åºçš„æ¯ä¸ªç”¨æˆ·å‘ˆç°çš„HTMLã€‚uiå¾ˆç®€å•ï¼Œå› ä¸ºæ¯ä¸ªç”¨æˆ·éƒ½è·å¾—ç›¸åŒçš„HTMLã€‚serveræ›´å¤æ‚ï¼Œå› ä¸ºæ¯ä¸ªç”¨æˆ·éƒ½éœ€è¦è·å¾—åº”ç”¨ç¨‹åºçš„ç‹¬ç«‹ç‰ˆæœ¬ï¼›å½“ç”¨æˆ·Aç§»åŠ¨æ»‘å—æ—¶ï¼Œç”¨æˆ·Bä¸åº”è¯¥çœ‹åˆ°ä»–ä»¬çš„è¾“å‡ºå˜åŒ–ã€‚</p>\n<p>ä¸ºäº†å®ç°è¿™ç§ç‹¬ç«‹æ€§ï¼ŒShiny åœ¨æ¯æ¬¡å¯åŠ¨æ–°ä¼šè¯æ—¶éƒ½ä¼šè°ƒç”¨ä½ çš„ server() å‡½æ•°ã€‚å°±åƒå…¶ä»–ä»»ä½• R å‡½æ•°ä¸€æ ·ï¼Œå½“serverå‡½æ•°è¢«è°ƒç”¨æ—¶ï¼Œå®ƒä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„æœ¬åœ°ç¯å¢ƒï¼Œè¯¥ç¯å¢ƒç‹¬ç«‹äºè¯¥å‡½æ•°çš„æ¯æ¬¡å…¶ä»–è°ƒç”¨ã€‚è¿™ä½¿å¾—æ¯ä¸ªä¼šè¯éƒ½æœ‰ä¸€ä¸ªå”¯ä¸€çš„çŠ¶æ€ï¼Œå¹¶éš”ç¦»å‡½æ•°å†…åˆ›å»ºçš„å˜é‡ã€‚è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ åœ¨ Shiny ä¸­è¿›è¡Œçš„å‡ ä¹æ‰€æœ‰ååº”å¼ç¼–ç¨‹éƒ½å°†åœ¨serverå‡½æ•°å†…è¿›è¡Œçš„åŸå› ã€‚</p>\n<p>serverå‡½æ•°æœ‰ä¸‰ä¸ªå‚æ•°ï¼š<code>input</code>ã€<code>output</code>å’Œ<code>session</code>ã€‚å› ä¸ºä½ æ°¸è¿œä¸ä¼šè‡ªå·±è°ƒç”¨æœåŠ¡å™¨å‡½æ•°ï¼Œæ‰€ä»¥ä½ æ°¸è¿œä¸ä¼šè‡ªå·±åˆ›å»ºè¿™äº›å¯¹è±¡ã€‚ç›¸åï¼Œå®ƒä»¬æ˜¯ç”±Shinyåœ¨ä¼šè¯å¼€å§‹æ—¶åˆ›å»ºçš„ï¼Œä¼šè¯ä¼šè¿”å›åˆ°ç‰¹å®šçš„ä¼šè¯ã€‚ç›®å‰ï¼Œæˆ‘ä»¬å°†é‡ç‚¹æ”¾åœ¨inputå’Œoutputå‚æ•°ä¸Šï¼Œè€Œå°†sessionç•™åˆ°åé¢çš„ç« èŠ‚ã€‚</p>\n<h3 id=\"3-2-1-è¾“å…¥\"><a href=\"#3-2-1-è¾“å…¥\" class=\"headerlink\" title=\"3.2.1 è¾“å…¥\"></a>3.2.1 è¾“å…¥</h3><p>è¾“å…¥å‚æ•°æ˜¯ä¸€ä¸ªç±»ä¼¼åˆ—è¡¨çš„å¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«ä»æµè§ˆå™¨å‘é€çš„æ‰€æœ‰è¾“å…¥æ•°æ®ï¼Œå¹¶æ ¹æ®è¾“å…¥IDå‘½åã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨çš„UIåŒ…å«ä¸€ä¸ªè¾“å…¥IDä¸ºcountçš„æ•°å­—è¾“å…¥æ§ä»¶ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  numericInput(&quot;count&quot;, label = &quot;Number of values&quot;, value = 100)</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n\n<p>ç„¶åï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>input$count</code>è®¿é—®è¯¥è¾“å…¥çš„å€¼ã€‚å®ƒæœ€åˆå°†åŒ…å«å€¼100ï¼Œå¹¶éšç€ç”¨æˆ·åœ¨æµè§ˆå™¨ä¸­æ›´æ”¹å€¼è€Œè‡ªåŠ¨æ›´æ–°ã€‚</p>\n<p>ä¸å…¸å‹çš„åˆ—è¡¨ä¸åŒï¼Œè¾“å…¥å¯¹è±¡æ˜¯åªè¯»çš„ã€‚å¦‚æœæ‚¨å°è¯•åœ¨serverå‡½æ•°å†…ä¿®æ”¹è¾“å…¥ï¼Œå°†ä¼šå‡ºç°é”™è¯¯ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  input$count &lt;- 10  </span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">shinyApp(ui, server)</span><br><span class=\"line\">#&gt; Error: Can&#x27;t modify read-only reactive value &#x27;count&#x27;</span><br></pre></td></tr></table></figure>\n\n<p>å‘ç”Ÿæ­¤é”™è¯¯æ˜¯å› ä¸ºè¾“å…¥åæ˜ äº†æµè§ˆå™¨ä¸­æ­£åœ¨å‘ç”Ÿçš„äº‹æƒ…ï¼Œè€Œæµè§ˆå™¨æ˜¯ Shiny çš„â€œå•ä¸€äº‹å®æ¥æºâ€ã€‚å¦‚æœä½ èƒ½ä¿®æ”¹ R ä¸­çš„å€¼ï¼Œä½ å¯èƒ½ä¼šå¼•å…¥ä¸ä¸€è‡´ï¼Œå…¶ä¸­è¾“å…¥æ»‘å—åœ¨æµè§ˆå™¨ä¸­è¯´äº†ä¸€ä»¶äº‹ï¼Œè€Œ <code>input$count</code> åœ¨ R ä¸­è¯´äº†ä¸åŒçš„äº‹æƒ…ã€‚è¿™å°†ä½¿ç¼–ç¨‹å˜å¾—å…·æœ‰æŒ‘æˆ˜æ€§ï¼ç¨åï¼Œåœ¨ç¬¬ 8 ç« ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨ <code>updateNumericInput()</code> ä¹‹ç±»çš„å‡½æ•°æ¥ä¿®æ”¹æµè§ˆå™¨ä¸­çš„å€¼ï¼Œç„¶å input$count å°†ç›¸åº”åœ°æ›´æ–°ã€‚</p>\n<p>å…³äºè¾“å…¥è¿˜æœ‰ä¸€ä»¶æ›´é‡è¦çš„äº‹æƒ…ï¼šå®ƒå¯ä»¥é€‰æ‹©å…è®¸è°æ¥è¯»å–å®ƒã€‚è¦ä»è¾“å…¥ä¸­è¯»å–ï¼Œä½ å¿…é¡»å¤„äºç”± <code>renderText()</code> æˆ– <code>reactive()</code> ç­‰å‡½æ•°åˆ›å»ºçš„å“åº”å¼ç¯å¢ƒä¸­ã€‚æˆ‘ä»¬å¾ˆå¿«å°±ä¼šå›åˆ°è¿™ä¸ªæƒ³æ³•ï¼Œä½†è¿™æ˜¯ä¸€ä¸ªé‡è¦çš„çº¦æŸï¼Œå®ƒå…è®¸è¾“å‡ºåœ¨è¾“å…¥æ›´æ”¹æ—¶è‡ªåŠ¨æ›´æ–°ã€‚è¿™æ®µä»£ç è¯´æ˜äº†å¦‚æœä½ çŠ¯äº†è¿™ä¸ªé”™è¯¯ï¼Œä½ ä¼šçœ‹åˆ°çš„é”™è¯¯ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  message(&quot;The value of input$count is &quot;, input$count)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">shinyApp(ui, server)</span><br><span class=\"line\">#&gt; Error: Can&#x27;t access reactive value &#x27;count&#x27; outside of reactive consumer.</span><br><span class=\"line\">#&gt; â„¹ Do you need to wrap inside reactive() or observer()?</span><br></pre></td></tr></table></figure>\n\n<h3 id=\"3-2-2-è¾“å‡º\"><a href=\"#3-2-2-è¾“å‡º\" class=\"headerlink\" title=\"3.2.2 è¾“å‡º\"></a>3.2.2 è¾“å‡º</h3><p>è¾“å‡ºä¸è¾“å…¥éå¸¸ç›¸ä¼¼ï¼šå®ƒä¹Ÿæ˜¯ä¸€ä¸ªæ ¹æ®è¾“å‡ºIDå‘½åçš„ç±»ä¼¼åˆ—è¡¨çš„å¯¹è±¡ã€‚ä¸»è¦åŒºåˆ«åœ¨äºï¼Œæ‚¨ä½¿ç”¨å®ƒæ¥å‘é€è¾“å‡ºè€Œä¸æ˜¯æ¥æ”¶è¾“å…¥ã€‚æ‚¨æ€»æ˜¯å°†è¾“å‡ºå¯¹è±¡ä¸æ¸²æŸ“å‡½æ•°ä¸€èµ·ä½¿ç”¨ï¼Œå¦‚ä¸‹é¢çš„ç®€å•ç¤ºä¾‹ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  textOutput(&quot;greeting&quot;)</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  output$greeting &lt;- renderText(&quot;Hello human!&quot;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ï¼ˆè¯·æ³¨æ„ï¼ŒIDåœ¨ç”¨æˆ·ç•Œé¢ä¸­è¢«å¼•ç”¨ï¼Œä½†åœ¨æœåŠ¡å™¨ä¸­æ²¡æœ‰å¼•ç”¨â€”â€”ä¸åŠ å¼•å·ã€‚ï¼‰</p>\n<p>æ¸²æŸ“å‡½æ•°åšäº†ä¸¤ä»¶äº‹ï¼š</p>\n<ul>\n<li><p>å®ƒå»ºç«‹äº†ä¸€ä¸ªç‰¹æ®Šçš„ååº”å¼ä¸Šä¸‹æ–‡ï¼Œè¯¥ä¸Šä¸‹æ–‡ä¼šè‡ªåŠ¨è·Ÿè¸ªè¾“å‡ºæ‰€ä½¿ç”¨çš„è¾“å…¥ã€‚</p>\n</li>\n<li><p>å®ƒå°†æ‚¨çš„Rä»£ç çš„è¾“å‡ºè½¬æ¢ä¸ºé€‚åˆåœ¨ç½‘é¡µä¸Šæ˜¾ç¤ºçš„HTMLã€‚</p>\n</li>\n</ul>\n<p>ä¸è¾“å…¥ä¸€æ ·ï¼Œè¾“å‡ºåœ¨ä½¿ç”¨ä¸Šä¹Ÿæ˜¯éå¸¸æŒ‘å‰”çš„ã€‚å°†ä¼šå‡ºç°é”™è¯¯å¦‚æœï¼š</p>\n<ul>\n<li><p>æ‚¨å¿˜è®°ä½¿ç”¨æ¸²æŸ“å‡½æ•°</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">    output$greeting &lt;- &quot;Hello human&quot;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">shinyApp(ui, server)</span><br><span class=\"line\">#&gt; Error: Unexpected character object for output$greeting</span><br><span class=\"line\">#&gt; â„¹ Did you forget to use a render function?</span><br></pre></td></tr></table></figure>\n</li>\n<li><p>è¯•å›¾ä»è¾“å‡ºä¸­è¯»å–</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">    message(&quot;The greeting is &quot;, output$greeting)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">shinyApp(ui, server)</span><br><span class=\"line\">#&gt; Error: Reading from shinyoutput object is not allowed.</span><br></pre></td></tr></table></figure></li>\n</ul>\n<h2 id=\"3-3-å“åº”å¼ç¼–ç¨‹\"><a href=\"#3-3-å“åº”å¼ç¼–ç¨‹\" class=\"headerlink\" title=\"3.3 å“åº”å¼ç¼–ç¨‹\"></a>3.3 å“åº”å¼ç¼–ç¨‹</h2><p>å¦‚æœåº”ç”¨ç¨‹åºåªæœ‰è¾“å…¥æˆ–åªæœ‰è¾“å‡ºï¼Œé‚£ä¹ˆå®ƒå°†éå¸¸æ— èŠã€‚Shinyçš„çœŸæ­£é­”åŠ›åœ¨äºå½“æ‚¨æ‹¥æœ‰åŒæ—¶å…·æœ‰ä¸¤è€…çš„åº”ç”¨ç¨‹åºæ—¶ã€‚è®©æˆ‘ä»¬çœ‹ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  textInput(&quot;name&quot;, &quot;What&#x27;s your name?&quot;),</span><br><span class=\"line\">  textOutput(&quot;greeting&quot;)</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  output$greeting &lt;- renderText(&#123;</span><br><span class=\"line\">    paste0(&quot;Hello &quot;, input$name, &quot;!&quot;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¾ˆéš¾åœ¨ä¹¦ä¸­å±•ç¤ºè¿™æ˜¯å¦‚ä½•å·¥ä½œçš„ï¼Œä½†æˆ‘åœ¨å›¾3.1ä¸­å°½åŠ›äº†ã€‚å¦‚æœæ‚¨è¿è¡Œåº”ç”¨ç¨‹åºå¹¶è¾“å…¥åç§°æ¡†ï¼Œæ‚¨ä¼šçœ‹åˆ°é—®å€™è¯­ä¼šè‡ªåŠ¨æ›´æ–°ï¼Œå°±åƒæ‚¨è¾“å…¥ä¸€æ ·<sup>7</sup>ã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/25d7fea6d0b5dc9d5eabb7805b9fa9ffeb44f924/c426a/demos/basic-reactivity/connection-1.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/25d7fea6d0b5dc9d5eabb7805b9fa9ffeb44f924/c426a/demos/basic-reactivity/connection-1.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.1ï¼šå“åº”æ€§æ„å‘³ç€è¾“å‡ºä¼šéšç€è¾“å…¥çš„å˜åŒ–è€Œè‡ªåŠ¨æ›´æ–°ï¼Œå°±åƒæˆ‘åœ¨è¿™ä¸ªåº”ç”¨ç¨‹åºä¸­è¾“å…¥â€œJâ€ï¼Œâ€œoâ€ï¼Œâ€œeâ€ä¸€æ ·ã€‚è¯·è®¿é—®https://hadley.shinyapps.io/ms-connectionæŸ¥çœ‹å®æ—¶æ›´æ–°ã€‚\"></p>\n<p>è¿™æ˜¯Shinyçš„ä¸€ä¸ªæ ¸å¿ƒæ¦‚å¿µï¼šæ‚¨ä¸éœ€è¦å‘Šè¯‰è¾“å‡ºä½•æ—¶æ›´æ–°ï¼Œå› ä¸ºShinyä¼šè‡ªåŠ¨ä¸ºæ‚¨è§£å†³ã€‚å®ƒæ˜¯å¦‚ä½•å·¥ä½œçš„å‘¢ï¼Ÿå‡½æ•°ä½“ä¸­åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿè®©æˆ‘ä»¬æ›´å‡†ç¡®åœ°æ€è€ƒæœåŠ¡å™¨å‡½æ•°å†…éƒ¨çš„ä»£ç ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">output$greeting &lt;- renderText(&#123;</span><br><span class=\"line\">  paste0(&quot;Hello &quot;, input$name, &quot;!&quot;)</span><br><span class=\"line\">&#125;)</span><br></pre></td></tr></table></figure>\n\n<p>å¾ˆå®¹æ˜“å°†æ­¤ç†è§£ä¸ºâ€œå°†<code>hello</code>å’Œç”¨æˆ·åæ‹¼æ¥åœ¨ä¸€èµ·ï¼Œç„¶åå°†å…¶å‘é€åˆ°<code>output$greeting</code>â€ã€‚ä½†æ˜¯è¿™ç§æ€ç»´æ¨¡å¼åœ¨ç»†å¾®ä½†é‡è¦çš„æ–¹é¢æ˜¯é”™è¯¯çš„ã€‚ä»”ç»†è€ƒè™‘ä¸€ä¸‹ï¼šæ ¹æ®è¿™ç§æ¨¡å‹ï¼Œæ‚¨åªå‘å¸ƒä¸€æ¬¡æŒ‡ä»¤ã€‚ä½†æ˜¯Shinyä¼šåœ¨æˆ‘ä»¬æ¯æ¬¡æ›´æ–°input$nameæ—¶æ‰§è¡Œè¯¥æ“ä½œï¼Œå› æ­¤ä¸€å®šæœ‰æ›´å¤šçš„äº‹æƒ…å‘ç”Ÿã€‚</p>\n<p>åº”ç”¨ç¨‹åºä¹‹æ‰€ä»¥èƒ½å¤Ÿå·¥ä½œï¼Œæ˜¯å› ä¸ºä»£ç å¹¶æ²¡æœ‰å‘Šè¯‰Shinyåˆ›å»ºå­—ç¬¦ä¸²å¹¶å°†å…¶å‘é€åˆ°æµè§ˆå™¨ï¼Œè€Œæ˜¯å‘Šè¯‰Shinyå¦‚æœéœ€è¦çš„è¯å¦‚ä½•åˆ›å»ºå­—ç¬¦ä¸²ã€‚è‡³äºä»£ç ä½•æ—¶ï¼ˆç”šè‡³æ˜¯å¦ï¼ï¼‰è¿è¡Œï¼Œè¿™å–å†³äºShinyã€‚å®ƒå¯èƒ½æ—©åœ¨åº”ç”¨ç¨‹åºå¯åŠ¨æ—¶å°±å¼€å§‹è¿è¡Œï¼Œä¹Ÿå¯èƒ½ç¨åè¿è¡Œï¼›å¯èƒ½å¤šæ¬¡è¿è¡Œï¼Œä¹Ÿå¯èƒ½æ°¸è¿œä¸è¿è¡Œï¼è¿™å¹¶ä¸æ˜¯è¯´Shinyåå¤æ— å¸¸ï¼Œåªæ˜¯è¯´å†³å®šä½•æ—¶æ‰§è¡Œä»£ç æ˜¯Shinyçš„è´£ä»»ï¼Œè€Œä¸æ˜¯æ‚¨çš„è´£ä»»ã€‚å°†æ‚¨çš„åº”ç”¨ç¨‹åºè§†ä¸ºæä¾›é£Ÿè°±ç»™Shinyï¼Œè€Œä¸æ˜¯ç»™å®ƒä¸‹å‘½ä»¤ã€‚</p>\n<h3 id=\"3-3-1-å‘½ä»¤å¼ç¼–ç¨‹ä¸å£°æ˜å¼ç¼–ç¨‹çš„åŒºåˆ«\"><a href=\"#3-3-1-å‘½ä»¤å¼ç¼–ç¨‹ä¸å£°æ˜å¼ç¼–ç¨‹çš„åŒºåˆ«\" class=\"headerlink\" title=\"3.3.1 å‘½ä»¤å¼ç¼–ç¨‹ä¸å£°æ˜å¼ç¼–ç¨‹çš„åŒºåˆ«\"></a>3.3.1 å‘½ä»¤å¼ç¼–ç¨‹ä¸å£°æ˜å¼ç¼–ç¨‹çš„åŒºåˆ«</h3><p>å‘½ä»¤å¼ç¼–ç¨‹å’Œå£°æ˜å¼ç¼–ç¨‹æ˜¯ä¸¤ç§é‡è¦çš„ç¼–ç¨‹é£æ ¼ï¼Œå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«åœ¨äºï¼š</p>\n<ul>\n<li><p>åœ¨å‘½ä»¤å¼ç¼–ç¨‹ä¸­ï¼Œæ‚¨å‘å‡ºç‰¹å®šçš„å‘½ä»¤å¹¶ç«‹å³æ‰§è¡Œã€‚è¿™æ˜¯æ‚¨åœ¨åˆ†æè„šæœ¬ä¸­ä¹ æƒ¯çš„ç¼–ç¨‹æ–¹å¼ï¼šæ‚¨å‘½ä»¤RåŠ è½½æ•°æ®ã€è½¬æ¢æ•°æ®ã€å¯è§†åŒ–æ•°æ®å¹¶å°†ç»“æœä¿å­˜åˆ°ç£ç›˜ã€‚</p>\n</li>\n<li><p>åœ¨å£°æ˜å¼ç¼–ç¨‹ä¸­ï¼Œæ‚¨è¡¨è¾¾äº†è¾ƒé«˜çš„ç›®æ ‡æˆ–æè¿°äº†é‡è¦çš„çº¦æŸï¼Œå¹¶ä¾é å…¶ä»–äººæ¥å†³å®šå¦‚ä½•ä»¥åŠ&#x2F;æˆ–ä½•æ—¶å°†å…¶è½¬åŒ–ä¸ºè¡ŒåŠ¨ã€‚è¿™æ˜¯æ‚¨åœ¨Shinyä¸­ä½¿ç”¨çš„ç¼–ç¨‹é£æ ¼ã€‚</p>\n</li>\n</ul>\n<p>ä½¿ç”¨å‘½ä»¤å¼ä»£ç ï¼Œæ‚¨å¯ä»¥è¯´â€œç»™æˆ‘åšä¸ªä¸‰æ˜æ²»â€<sup>8</sup>ã€‚ä½¿ç”¨å£°æ˜å¼ä»£ç ï¼Œæ‚¨å¯ä»¥è¡¨è¾¾â€œæ— è®ºä½•æ—¶æˆ‘æ‰“å¼€å†°ç®±ï¼Œéƒ½è¦ç¡®ä¿é‡Œé¢æœ‰ä¸€ä¸ªä¸‰æ˜æ²»â€ã€‚å‘½ä»¤å¼ä»£ç æ˜¯æ–­è¨€çš„ï¼›å£°æ˜å¼ä»£ç æ˜¯è¢«åŠ¨çš„ã€‚</p>\n<p>å¤§éƒ¨åˆ†æ—¶é—´ï¼Œå£°æ˜å¼ç¼–ç¨‹æ˜¯éå¸¸è‡ªç”±çš„ï¼šæ‚¨åªéœ€è¦æè¿°æ‚¨çš„æ•´ä½“ç›®æ ‡ï¼Œè½¯ä»¶å°±ä¼šæƒ³å‡ºå¦‚ä½•å®ç°å®ƒä»¬è€Œæ— éœ€è¿›ä¸€æ­¥çš„å¹²é¢„ã€‚ä¸åˆ©çš„ä¸€é¢æ˜¯ï¼Œå¶å°”æ‚¨ä¼šç¡®åˆ‡åœ°çŸ¥é“æ‚¨æƒ³è¦ä»€ä¹ˆï¼Œä½†æ‚¨æ— æ³•å¼„æ¸…æ¥šå¦‚ä½•ä»¥å£°æ˜å¼ç³»ç»Ÿç†è§£çš„æ–¹å¼å¯¹å…¶è¿›è¡Œæ„æ¶<sup>9</sup>ã€‚æœ¬ä¹¦çš„ç›®æ ‡æ˜¯å¸®åŠ©æ‚¨å‘å±•å¯¹åº•å±‚ç†è®ºçš„ç†è§£ï¼Œä»¥å°½å¯èƒ½å‡å°‘è¿™ç§æƒ…å†µçš„å‘ç”Ÿã€‚</p>\n<h3 id=\"3-3-2-æ‡’æƒ°\"><a href=\"#3-3-2-æ‡’æƒ°\" class=\"headerlink\" title=\"3.3.2 æ‡’æƒ°\"></a>3.3.2 æ‡’æƒ°</h3><p>Shinyä¸­å£°æ˜å¼ç¼–ç¨‹çš„ä¼˜åŠ¿ä¹‹ä¸€æ˜¯åº”ç”¨ç¨‹åºå¯ä»¥éå¸¸æ‡’æƒ°ã€‚Shinyåº”ç”¨ç¨‹åºåªä¼šåšæœ€å°‘é‡å·¥ä½œæ¥æ›´æ–°æ‚¨å½“å‰å¯è§çš„è¾“å‡ºæ§ä»¶<sup>10</sup>ã€‚ç„¶è€Œï¼Œè¿™ç§æ‡’æƒ°æœ‰ä¸€ä¸ªé‡è¦çš„ç¼ºç‚¹ï¼Œæ‚¨åº”è¯¥æ³¨æ„ã€‚ä½ èƒ½æ‰¾å‡ºä¸‹é¢serverå‡½æ•°çš„é—®é¢˜å—ï¼Ÿ</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  output$greting &lt;- renderText(&#123;</span><br><span class=\"line\">    paste0(&quot;Hello &quot;, input$name, &quot;!&quot;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœæ‚¨ä»”ç»†è§‚å¯Ÿï¼Œæ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°æˆ‘å†™çš„æ˜¯<code>greting</code>è€Œä¸æ˜¯<code>greeting</code>ã€‚åœ¨Shinyä¸­ï¼Œè¿™ä¸ä¼šäº§ç”Ÿé”™è¯¯ï¼Œä½†ä¸ä¼šå®ç°æ‚¨çš„æœŸæœ›ã€‚gretingè¾“å‡ºä¸å­˜åœ¨ï¼Œå› æ­¤renderText()å†…éƒ¨çš„ä»£ç æ°¸è¿œä¸ä¼šè¢«æ‰§è¡Œã€‚</p>\n<p>å¦‚æœæ‚¨æ­£åœ¨å¼€å‘Shinyåº”ç”¨ç¨‹åºï¼Œå¹¶ä¸”æ‚¨å°±æ˜¯æ— æ³•ç†è§£ä¸ºä»€ä¹ˆæ‚¨çš„ä»£ç ä»æœªè¿è¡Œè¿‡ï¼Œè¯·ä»”ç»†æ£€æŸ¥æ‚¨çš„UIå’ŒæœåŠ¡å™¨å‡½æ•°æ˜¯å¦ä½¿ç”¨ç›¸åŒçš„æ ‡è¯†ç¬¦ã€‚</p>\n<h3 id=\"3-3-3-å“åº”å¼å›¾\"><a href=\"#3-3-3-å“åº”å¼å›¾\" class=\"headerlink\" title=\"3.3.3 å“åº”å¼å›¾\"></a>3.3.3 å“åº”å¼å›¾</h3><p>Shinyçš„æ‡’æƒ°æ€§å…·æœ‰å¦ä¸€ä¸ªé‡è¦å±æ€§ã€‚åœ¨å¤§å¤šæ•°Rä»£ç ä¸­ï¼Œæ‚¨å¯ä»¥é€šè¿‡ä»ä¸Šåˆ°ä¸‹é˜…è¯»ä»£ç æ¥ç†è§£æ‰§è¡Œé¡ºåºã€‚è¿™åœ¨Shinyä¸­ä¸èµ·ä½œç”¨ï¼Œå› ä¸ºä»£ç åªåœ¨éœ€è¦æ—¶æ‰è¿è¡Œã€‚è¦äº†è§£æ‰§è¡Œé¡ºåºï¼Œæ‚¨éœ€è¦æŸ¥çœ‹å“åº”å¼å›¾ï¼Œå®ƒæè¿°äº†è¾“å…¥å’Œè¾“å‡ºä¹‹é—´çš„è¿æ¥æ–¹å¼ã€‚ä¸Šè¿°åº”ç”¨ç¨‹åºçš„å“åº”å¼å›¾éå¸¸ç®€å•ï¼Œå¦‚å›¾3.2æ‰€ç¤ºã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/056990a803a41501e2dbe05df351f8b8f7b493ab/f773a/diagrams/basic-reactivity/graph-1b.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/056990a803a41501e2dbe05df351f8b8f7b493ab/f773a/diagrams/basic-reactivity/graph-1b.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.2 å“åº”å¼å›¾æ˜¾ç¤ºäº†è¾“å…¥å’Œè¾“å‡ºä¹‹é—´çš„è¿æ¥æ–¹å¼\"></p>\n<p>å“åº”å¼å›¾åŒ…å«æ¯ä¸ªè¾“å…¥å’Œè¾“å‡ºçš„ä¸€ä¸ªç¬¦å·ï¼Œå¹¶ä¸”æˆ‘ä»¬å°†è¾“å…¥è¿æ¥åˆ°è¾“å‡ºï¼Œæ¯å½“è¾“å‡ºè®¿é—®è¾“å…¥æ—¶ã€‚è¿™ä¸ªå›¾å‘Šè¯‰æ‚¨greetingå°†éœ€è¦é‡æ–°è®¡ç®—ï¼Œæ¯å½“nameè¢«æ›´æ”¹æ—¶ã€‚æˆ‘ä»¬é€šå¸¸å°†è¿™ç§å…³ç³»æè¿°ä¸ºgreetingå¯¹nameå…·æœ‰ååº”ä¾èµ–æ€§ã€‚</p>\n<p>æ³¨æ„æˆ‘ä»¬ä¸ºè¾“å…¥å’Œè¾“å‡ºä½¿ç”¨çš„å›¾å½¢çº¦å®šï¼šnameè¾“å…¥è‡ªç„¶é€‚åˆgreetingè¾“å‡ºã€‚æˆ‘ä»¬å¯ä»¥å°†å®ƒä»¬ç´§å¯†åœ°æ’åˆ—åœ¨ä¸€èµ·ï¼Œå¦‚å›¾3.3æ‰€ç¤ºï¼Œä»¥å¼ºè°ƒå®ƒä»¬å¦‚ä½•ç»„åˆåœ¨ä¸€èµ·ï¼›é€šå¸¸æˆ‘ä»¬ä¸ä¼šè¿™æ ·åšï¼Œå› ä¸ºè¿™åªé€‚ç”¨äºæœ€ç®€å•çš„åº”ç”¨ç¨‹åºã€‚</p>\n<p>å“åº”å¼å›¾ä¸­ç»„ä»¶çš„å½¢çŠ¶è¡¨è¾¾äº†å®ƒä»¬è¿æ¥çš„æ–¹å¼ã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/3140d17a6b8df9e07c37b368124b56aaa34ab348/99398/diagrams/basic-reactivity/graph-1a.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/3140d17a6b8df9e07c37b368124b56aaa34ab348/99398/diagrams/basic-reactivity/graph-1a.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.3 å“åº”å¼å›¾ä¸­ç»„ä»¶çš„å½¢çŠ¶è¡¨è¾¾äº†å®ƒä»¬è¿æ¥çš„æ–¹å¼\">ã€‚</p>\n<p>å“åº”å¼å›¾æ˜¯ä¸€ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œç”¨äºç†è§£æ‚¨çš„åº”ç”¨ç¨‹åºå¦‚ä½•å·¥ä½œã€‚éšç€åº”ç”¨ç¨‹åºå˜å¾—è¶Šæ¥è¶Šå¤æ‚ï¼Œå¿«é€Ÿé«˜å±‚æ¬¡æ¦‚è¿°å“åº”å¼å›¾é€šå¸¸å¾ˆæœ‰ç”¨ï¼Œä»¥æé†’æ‚¨æ‰€æœ‰ç»„ä»¶å¦‚ä½•ç»„åˆåœ¨ä¸€èµ·ã€‚åœ¨æœ¬ä¹¦ä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡æ˜¾ç¤ºå“åº”å¼å›¾æ¥å¸®åŠ©æ‚¨ç†è§£ç¤ºä¾‹çš„å·¥ä½œåŸç†ï¼Œç¨ååœ¨ç¬¬14ç« ä¸­ï¼Œæ‚¨å°†å­¦ä¹ å¦‚ä½•ä½¿ç”¨reactlogï¼Œå®ƒå°†ä¸ºæ‚¨ç»˜åˆ¶å›¾å½¢ã€‚</p>\n<h3 id=\"3-3-4-ååº”å¼è¡¨è¾¾å¼\"><a href=\"#3-3-4-ååº”å¼è¡¨è¾¾å¼\" class=\"headerlink\" title=\"3.3.4 ååº”å¼è¡¨è¾¾å¼\"></a>3.3.4 ååº”å¼è¡¨è¾¾å¼</h3><p>æ‚¨å°†åœ¨å“åº”å¼å›¾ä¸­çœ‹åˆ°çš„å¦ä¸€ä¸ªé‡è¦ç»„ä»¶æ˜¯ååº”å¼è¡¨è¾¾å¼ã€‚ç°åœ¨ï¼Œæ‚¨å¯ä»¥å°†å…¶è§†ä¸ºå‡å°‘å“åº”å¼ä»£ç é‡å¤çš„å·¥å…·ï¼Œé€šè¿‡åœ¨å“åº”å¼å›¾ä¸­å¼•å…¥é¢å¤–çš„èŠ‚ç‚¹ã€‚</p>\n<p>åœ¨æˆ‘ä»¬çš„ç®€å•åº”ç”¨ç¨‹åºä¸­ï¼Œæˆ‘ä»¬ä¸éœ€è¦ååº”å¼è¡¨è¾¾å¼ï¼Œä½†æˆ‘è¿˜æ˜¯ä¼šæ·»åŠ ä¸€ä¸ªï¼Œä»¥ä¾¿æ‚¨å¯ä»¥äº†è§£å®ƒå¦‚ä½•å½±å“å“åº”å¼å›¾ï¼Œå¦‚å›¾3.4æ‰€ç¤ºã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  string &lt;- reactive(paste0(&quot;Hello &quot;, input$name, &quot;!&quot;))</span><br><span class=\"line\">  output$greeting &lt;- renderText(string())</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/6966978d8dc9ac65a0dfc6ec46ff05cfeef541e2/fdc7f/diagrams/basic-reactivity/graph-2b.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/6966978d8dc9ac65a0dfc6ec46ff05cfeef541e2/fdc7f/diagrams/basic-reactivity/graph-2b.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.4ï¼šç”±äºååº”å¼è¡¨è¾¾å¼è¿æ¥è¾“å…¥å’Œè¾“å‡ºï¼Œå› æ­¤åœ¨å…¶ä¸¤ä¾§ç»˜åˆ¶è§’åº¦ã€‚\"></p>\n<p>ååº”å¼è¡¨è¾¾å¼æ¥å—è¾“å…¥å¹¶äº§ç”Ÿè¾“å‡ºï¼Œå› æ­¤å®ƒä»¬å…·æœ‰ç»“åˆè¾“å…¥å’Œè¾“å‡ºç‰¹å¾çš„å½¢çŠ¶ã€‚å¸Œæœ›è¿™äº›å½¢çŠ¶å¯ä»¥å¸®åŠ©æ‚¨è®°ä½ç»„ä»¶å¦‚ä½•ç»„åˆåœ¨ä¸€èµ·ã€‚</p>\n<h3 id=\"3-3-5-æ‰§è¡Œé¡ºåº\"><a href=\"#3-3-5-æ‰§è¡Œé¡ºåº\" class=\"headerlink\" title=\"3.3.5 æ‰§è¡Œé¡ºåº\"></a>3.3.5 æ‰§è¡Œé¡ºåº</h3><p>äº†è§£ä»£ç çš„æ‰§è¡Œé¡ºåºæ˜¯å¾ˆé‡è¦çš„ï¼Œå› ä¸ºæ‰§è¡Œé¡ºåºå®Œå…¨ç”±å“åº”å¼å›¾å†³å®šã€‚è¿™ä¸å¤§å¤šæ•°Rä»£ç ä¸åŒï¼Œåœ¨å¤§å¤šæ•°Rä»£ç ä¸­ï¼Œæ‰§è¡Œé¡ºåºç”±ä»£ç è¡Œçš„é¡ºåºå†³å®šã€‚ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥ç¿»è½¬ç®€å•serverå‡½æ•°ä¸­çš„ä¸¤è¡Œä»£ç çš„é¡ºåºï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  output$greeting &lt;- renderText(string())</span><br><span class=\"line\">  string &lt;- reactive(paste0(&quot;Hello &quot;, input$name, &quot;!&quot;))</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>æ‚¨å¯èƒ½ä¼šè®¤ä¸ºè¿™ä¼šäº§ç”Ÿé”™è¯¯ï¼Œå› ä¸ºoutput$greetingå¼•ç”¨äº†å°šæœªåˆ›å»ºçš„å“åº”å¼è¡¨è¾¾å¼stringã€‚ä½†æ˜¯è¯·è®°ä½ï¼ŒShinyæ˜¯æƒ°æ€§çš„ï¼Œå› æ­¤åªæœ‰åœ¨ä¼šè¯å¼€å§‹åï¼Œåœ¨stringè¢«åˆ›å»ºåï¼Œæ‰ä¼šè¿è¡Œè¯¥ä»£ç ã€‚</p>\n<p>ç›¸åï¼Œæ­¤ä»£ç äº§ç”Ÿä¸ä¸Šè¿°ç›¸åŒçš„å“åº”å¼å›¾ï¼Œå› æ­¤ä»£ç è¿è¡Œçš„é¡ºåºå®Œå…¨ç›¸åŒã€‚åƒè¿™æ ·ç»„ç»‡ä»£ç å¯¹äºäººç±»æ¥è¯´å¾ˆæ··ä¹±ï¼Œæœ€å¥½é¿å…ã€‚ç›¸åï¼Œè¯·ç¡®ä¿å“åº”å¼è¡¨è¾¾å¼å’Œè¾“å‡ºä»…å¼•ç”¨ä¸Šé¢å®šä¹‰çš„å†…å®¹ï¼Œè€Œä¸æ˜¯ä¸‹é¢ã€‚è¿™å°†ä½¿æ‚¨çš„ä»£ç æ›´æ˜“äºç†è§£ã€‚</p>\n<p>è¿™ä¸ªæ¦‚å¿µéå¸¸é‡è¦ï¼Œä¸å¤§å¤šæ•°å…¶ä»–Rä»£ç ä¸åŒï¼Œå› æ­¤æˆ‘è¦å†è¯´ä¸€éï¼šå“åº”å¼ä»£ç è¿è¡Œçš„é¡ºåºä»…ç”±å“åº”å›¾ç¡®å®šï¼Œè€Œä¸æ˜¯ç”±å…¶åœ¨æœåŠ¡å™¨å‡½æ•°ä¸­çš„å¸ƒå±€å†³å®šã€‚</p>\n<h3 id=\"3-3-6-ç»ƒä¹ é¢˜\"><a href=\"#3-3-6-ç»ƒä¹ é¢˜\" class=\"headerlink\" title=\"3.3.6 ç»ƒä¹ é¢˜\"></a>3.3.6 ç»ƒä¹ é¢˜</h3><p><strong>3.3.6.1 ç»™å®šå¦‚ä¸‹UIï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  textInput(&quot;name&quot;, &quot;What&#x27;s your name?&quot;),</span><br><span class=\"line\">  textOutput(&quot;greeting&quot;)</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n\n<p>ä¿®å¤ä¸‹é¢ä¸‰ä¸ªæœåŠ¡å™¨å‡½æ•°ä¸­çš„ç®€å•é”™è¯¯ã€‚é¦–å…ˆå°è¯•é€šè¿‡é˜…è¯»ä»£ç å‘ç°é—®é¢˜ï¼›ç„¶åè¿è¡Œä»£ç ä»¥ç¡®ä¿ä½ å·²ä¿®å¤å®ƒã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server1 &lt;- function(input, output, server) &#123;</span><br><span class=\"line\">  input$greeting &lt;- renderText(paste0(&quot;Hello &quot;, name))</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">server2 &lt;- function(input, output, server) &#123;</span><br><span class=\"line\">  greeting &lt;- paste0(&quot;Hello &quot;, input$name)</span><br><span class=\"line\">  output$greeting &lt;- renderText(greeting)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">server3 &lt;- function(input, output, server) &#123;</span><br><span class=\"line\">  output$greting &lt;- paste0(&quot;Hello&quot;, input$name)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>3.3.6.2 ç»˜åˆ¶ä»¥ä¸‹serverå‡½æ•°çš„ååº”å›¾ï¼š</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server1 &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  c &lt;- reactive(input$a + input$b)</span><br><span class=\"line\">  e &lt;- reactive(c() + input$d)</span><br><span class=\"line\">  output$f &lt;- renderText(e())</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">server2 &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  x &lt;- reactive(input$x1 + input$x2 + input$x3)</span><br><span class=\"line\">  y &lt;- reactive(input$y1 + input$y2)</span><br><span class=\"line\">  output$z &lt;- renderText(x() / y())</span><br><span class=\"line\">&#125;</span><br><span class=\"line\">server3 &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  d &lt;- reactive(c() ^ input$d)</span><br><span class=\"line\">  a &lt;- reactive(input$a * 10)</span><br><span class=\"line\">  c &lt;- reactive(b() / input$c) </span><br><span class=\"line\">  b &lt;- reactive(a() + input$b)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><strong>3.3.6.3 ä¸ºä½•ä¸‹è¿°ä»£ç ä¼šå¤±è´¥ï¼Ÿ</strong></p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">var &lt;- reactive(df[[input$var]])</span><br><span class=\"line\">range &lt;- reactive(range(var(), na.rm = TRUE))</span><br></pre></td></tr></table></figure>\n\n<p>ä¸ºä»€ä¹ˆ range() å’Œ var() ä¸æ˜¯å¥½çš„ååº”å¼å‘½åï¼Ÿ</p>\n<h2 id=\"3-4-ååº”è¡¨è¾¾å¼\"><a href=\"#3-4-ååº”è¡¨è¾¾å¼\" class=\"headerlink\" title=\"3.4 ååº”è¡¨è¾¾å¼\"></a>3.4 ååº”è¡¨è¾¾å¼</h2><p>æˆ‘ä»¬å·²ç»åœ¨å‡ ä¸ªåœ°æ–¹å¿«é€Ÿæµè§ˆäº†ååº”è¡¨è¾¾å¼ï¼Œæ‰€ä»¥å¸Œæœ›æ‚¨å·²ç»äº†è§£äº†å®ƒä»¬çš„ä½œç”¨ã€‚ç°åœ¨ï¼Œæˆ‘ä»¬å°†æ·±å…¥äº†è§£æ›´å¤šçš„ç»†èŠ‚ï¼Œå¹¶è¯´æ˜ä¸ºä»€ä¹ˆåœ¨æ„å»ºçœŸå®åº”ç”¨ç¨‹åºæ—¶å®ƒä»¬å¦‚æ­¤é‡è¦ã€‚</p>\n<p>ååº”è¡¨è¾¾å¼ä¹‹æ‰€ä»¥é‡è¦ï¼Œæ˜¯å› ä¸ºå®ƒä»¬ä¸ºShinyæä¾›äº†æ›´å¤šä¿¡æ¯ï¼Œä»¥ä¾¿åœ¨è¾“å…¥å‘ç”Ÿå˜åŒ–æ—¶å‡å°‘é‡æ–°è®¡ç®—ï¼Œä½¿åº”ç”¨ç¨‹åºæ›´é«˜æ•ˆï¼Œå¹¶é€šè¿‡ç®€åŒ–ååº”å›¾æ¥è®©äººç±»æ›´å®¹æ˜“ç†è§£åº”ç”¨ç¨‹åºã€‚ååº”è¡¨è¾¾å¼å…·æœ‰è¾“å…¥å’Œè¾“å‡ºçš„å‘³é“ï¼š</p>\n<p>ä¸è¾“å…¥ç±»ä¼¼ï¼Œæ‚¨å¯ä»¥åœ¨è¾“å‡ºä¸­ä½¿ç”¨ååº”è¡¨è¾¾å¼çš„è®¡ç®—ç»“æœã€‚</p>\n<p>ä¸è¾“å‡ºç±»ä¼¼ï¼Œååº”è¡¨è¾¾å¼ä¾èµ–äºè¾“å…¥ï¼Œå¹¶è‡ªåŠ¨çŸ¥é“ä½•æ—¶éœ€è¦æ›´æ–°ã€‚</p>\n<p>è¿™ç§åŒé‡æ€§æ„å‘³ç€æˆ‘ä»¬éœ€è¦ä¸€äº›æ–°çš„è¯æ±‡ï¼šæˆ‘å°†ä½¿ç”¨<code>ç”Ÿäº§è€…</code>æ¥æŒ‡ä»£ååº”è¾“å…¥å’Œè¡¨è¾¾å¼ï¼Œè€Œ<code>æ¶ˆè´¹è€…</code>åˆ™æŒ‡ä»£ååº”è¡¨è¾¾å¼å’Œè¾“å‡ºã€‚å›¾3.5ç”¨ç»´æ©å›¾å±•ç¤ºäº†è¿™ç§å…³ç³»ã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/8dcc3f2cbc55486a76b33a5acd30e379cd05d8ab/27c40/diagrams/basic-reactivity/producers-consumers.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/8dcc3f2cbc55486a76b33a5acd30e379cd05d8ab/27c40/diagrams/basic-reactivity/producers-consumers.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.5 è¾“å…¥å’Œè¡¨è¾¾å¼æ˜¯ååº”æ€§çš„ç”Ÿäº§è€…ï¼›è¡¨è¾¾å¼å’Œè¾“å‡ºæ˜¯ååº”æ€§çš„æ¶ˆè´¹è€…\"></p>\n<p>æˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ›´å¤æ‚çš„åº”ç”¨ç¨‹åºæ¥æŸ¥çœ‹ä½¿ç”¨å“åº”å¼è¡¨è¾¾å¼çš„ä¼˜ç‚¹ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬å°†é€šè¿‡å®šä¹‰ä¸€äº›å¸¸è§„çš„Rå‡½æ•°æ¥ä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæä¾›æ”¯æŒï¼Œä»è€Œä¸ºæˆ‘ä»¬çš„åº”ç”¨ç¨‹åºæ­å»ºèˆå°ã€‚</p>\n<h3 id=\"3-4-1-åŠ¨æœº\"><a href=\"#3-4-1-åŠ¨æœº\" class=\"headerlink\" title=\"3.4.1 åŠ¨æœº\"></a>3.4.1 åŠ¨æœº</h3><p>å‡è®¾æˆ‘æƒ³ç”¨ç»˜å›¾å’Œå‡è®¾æ£€éªŒæ¥æ¯”è¾ƒä¸¤ä¸ªæ¨¡æ‹Ÿæ•°æ®é›†ã€‚æˆ‘åšäº†ä¸€äº›å®éªŒï¼Œå¹¶æå‡ºäº†ä»¥ä¸‹å‡½æ•°ï¼š<code>freqpoly()</code>ç”¨é¢‘ç‡å¤šè¾¹å½¢<sup>12</sup>å¯è§†åŒ–ä¸¤ä¸ªåˆ†å¸ƒï¼Œ<code>t_test()</code>ä½¿ç”¨tæ£€éªŒæ¥æ¯”è¾ƒå‡å€¼ï¼Œå¹¶ç”¨å­—ç¬¦ä¸²æ€»ç»“ç»“æœï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">library(ggplot2)</span><br><span class=\"line\"></span><br><span class=\"line\">freqpoly &lt;- function(x1, x2, binwidth = 0.1, xlim = c(-3, 3)) &#123;</span><br><span class=\"line\">  df &lt;- data.frame(</span><br><span class=\"line\">    x = c(x1, x2),</span><br><span class=\"line\">    g = c(rep(&quot;x1&quot;, length(x1)), rep(&quot;x2&quot;, length(x2)))</span><br><span class=\"line\">  )</span><br><span class=\"line\"></span><br><span class=\"line\">  ggplot(df, aes(x, colour = g)) +</span><br><span class=\"line\">    geom_freqpoly(binwidth = binwidth, size = 1) +</span><br><span class=\"line\">    coord_cartesian(xlim = xlim)</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">t_test &lt;- function(x1, x2) &#123;</span><br><span class=\"line\">  test &lt;- t.test(x1, x2)</span><br><span class=\"line\">  </span><br><span class=\"line\">  # use sprintf() to format t.test() results compactly</span><br><span class=\"line\">  sprintf(</span><br><span class=\"line\">    &quot;p value: %0.3f\\n[%0.2f, %0.2f]&quot;,</span><br><span class=\"line\">    test$p.value, test$conf.int[1], test$conf.int[2]</span><br><span class=\"line\">  )</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>:::primary è¯‘è€…æ³¨<br><strong>è¯‘è€…æ³¨ï¼š</strong></p>\n<p>è¿™æ®µä»£ç ä¸­å®šä¹‰äº†ä¸¤ä¸ªå‡½æ•°ï¼Œfreqpolyå’Œt_testã€‚ä»¥ä¸‹æ˜¯å®ƒä»¬çš„ç®€å•è§£é‡Šï¼š</p>\n<ol>\n<li><p><code>freqpoly</code>å‡½æ•°ï¼š<br>è¿™ä¸ªå‡½æ•°æ˜¯ä¸ºäº†å¯¹æ¯”ä¸¤ä¸ªæ•°æ®é›†x1å’Œx2çš„åˆ†å¸ƒã€‚å®ƒé¦–å…ˆå°†è¿™ä¸¤ä¸ªæ•°æ®é›†åˆå¹¶åˆ°ä¸€ä¸ªæ•°æ®æ¡†ä¸­ï¼Œå¹¶ä¸ºæ¯ä¸ªæ•°æ®é›†åˆ†é…ä¸€ä¸ªç»„åˆ«â€x1â€å’Œâ€x2â€ã€‚ç„¶åï¼Œå®ƒä½¿ç”¨ggplot2åŒ…çš„<code>geom_freqpoly</code>å‡½æ•°ç»˜åˆ¶é¢‘æ•°å¤šè¾¹å½¢å›¾ï¼Œè¿™ä¸ªå›¾èƒ½å¤Ÿå±•ç¤ºæ•°æ®çš„åˆ†å¸ƒæƒ…å†µã€‚<code>binwidth</code>å‚æ•°å†³å®šäº†åˆ†ç®±çš„å®½åº¦ï¼Œè€Œ<code>xlim</code>å‚æ•°åˆ™è®¾å®šäº†xè½´çš„æ˜¾ç¤ºèŒƒå›´ã€‚</p>\n</li>\n<li><p><code>t_test</code>å‡½æ•°ï¼š<br>è¿™ä¸ªå‡½æ•°æ‰§è¡Œtæ£€éªŒï¼Œè¿™æ˜¯ä¸€ç§ç”¨äºæ¯”è¾ƒä¸¤ç»„å¹³å‡å€¼æ˜¯å¦æœ‰æ˜¾è‘—å·®å¼‚çš„ç»Ÿè®¡æ£€éªŒæ–¹æ³•ã€‚å‡½æ•°æ¥å—ä¸¤ä¸ªå‘é‡x1å’Œx2ä½œä¸ºè¾“å…¥ï¼Œç„¶åä½¿ç”¨Rçš„å†…ç½®<code>t.test</code>å‡½æ•°æ‰§è¡Œtæ£€éªŒã€‚ç„¶åï¼Œå®ƒä½¿ç”¨<code>sprintf</code>å‡½æ•°ä»¥ä¸€ç§æ ¼å¼åŒ–çš„æ–¹å¼è¿”å›ç»“æœï¼ŒåŒ…æ‹¬på€¼ä»¥åŠ95%ç½®ä¿¡åŒºé—´ã€‚</p>\n<p> <strong>æ³¨æ„</strong>ï¼šåœ¨è¿™æ®µä»£ç ä¸­ï¼Œ<code>sprintf</code>å‡½æ•°ç”¨äºæ ¼å¼åŒ–è¾“å‡ºå­—ç¬¦ä¸²ã€‚â€%0.3fâ€è¡¨ç¤ºæµ®ç‚¹æ•°ï¼Œä¿ç•™3ä½å°æ•°ï¼›â€[%0.2f, %0.2f]â€è¡¨ç¤ºæµ®ç‚¹æ•°ï¼Œä¿ç•™2ä½å°æ•°ï¼Œç”¨äºæ˜¾ç¤ºç½®ä¿¡åŒºé—´ã€‚</p>\n</li>\n</ol>\n<p>:::</p>\n<p>å¦‚æœæˆ‘æœ‰ä¸€äº›æ¨¡æ‹Ÿæ•°æ®ï¼Œæˆ‘å¯ä»¥ä½¿ç”¨è¿™äº›å‡½æ•°æ¥æ¯”è¾ƒä¸¤ä¸ªå˜é‡ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">x1 &lt;- rnorm(100, mean = 0, sd = 0.5)</span><br><span class=\"line\">x2 &lt;- rnorm(200, mean = 0.15, sd = 0.9)</span><br><span class=\"line\"></span><br><span class=\"line\">freqpoly(x1, x2)</span><br><span class=\"line\">cat(t_test(x1, x2))</span><br><span class=\"line\">#&gt; p value: 0.005</span><br><span class=\"line\">#&gt; [-0.39, -0.07]</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/28bdfb538762e0db56567d98e6b847723161da73/a520e/basic-reactivity_files/figure-html/unnamed-chunk-19-1.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/28bdfb538762e0db56567d98e6b847723161da73/a520e/basic-reactivity_files/figure-html/unnamed-chunk-19-1.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\"></p>\n<p>åœ¨çœŸæ­£çš„åˆ†æä¸­ï¼Œä½ å¯èƒ½åœ¨å®Œæˆè¿™äº›å‡½æ•°ä¹‹å‰å·²ç»åšäº†ä¸€å †æ¢ç´¢ã€‚æˆ‘åœ¨è¿™é‡Œè·³è¿‡äº†è¿™ä¸ªæ¢ç´¢ï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥å°½å¿«åœ°è¿›å…¥åº”ç”¨ç¨‹åºã€‚ä½†æ˜¯å°†å‘½ä»¤å¼ä»£ç æå–åˆ°å¸¸è§„å‡½æ•°ä¸­æ˜¯æ‰€æœ‰Shinyåº”ç”¨ç¨‹åºçš„ä¸€é¡¹é‡è¦æŠ€æœ¯ï¼šä½ ä»åº”ç”¨ç¨‹åºä¸­æå–çš„ä»£ç è¶Šå¤šï¼Œå°±è¶Šå®¹æ˜“ç†è§£ã€‚è¿™æ˜¯å¾ˆå¥½çš„è½¯ä»¶å·¥ç¨‹ï¼Œå› ä¸ºå®ƒæœ‰åŠ©äºéš”ç¦»é—®é¢˜ï¼šåº”ç”¨ç¨‹åºå¤–çš„å‡½æ•°ä¸“æ³¨äºè®¡ç®—ï¼Œè¿™æ ·åº”ç”¨ç¨‹åºå†…çš„ä»£ç å°±å¯ä»¥ä¸“æ³¨äºå“åº”ç”¨æˆ·æ“ä½œã€‚æˆ‘ä»¬å°†åœ¨ç¬¬18ç« å†æ¬¡å›åˆ°è¿™ä¸ªæƒ³æ³•ã€‚</p>\n<h3 id=\"3-4-2-åº”ç”¨ç¨‹åº\"><a href=\"#3-4-2-åº”ç”¨ç¨‹åº\" class=\"headerlink\" title=\"3.4.2 åº”ç”¨ç¨‹åº\"></a>3.4.2 åº”ç”¨ç¨‹åº</h3><p>æˆ‘æƒ³ä½¿ç”¨è¿™ä¸¤ä¸ªå·¥å…·å¿«é€Ÿæ¢ç´¢ä¸€ç³»åˆ—æ¨¡æ‹Ÿã€‚Shinyåº”ç”¨ç¨‹åºæ˜¯ä¸€ç§å¾ˆå¥½çš„æ–¹æ³•ï¼Œå› ä¸ºå®ƒå¯ä»¥è®©ä½ é¿å…ç¹çåœ°ä¿®æ”¹å’Œé‡æ–°è¿è¡ŒRä»£ç ã€‚ä¸‹é¢æˆ‘å°†è¿™äº›éƒ¨åˆ†æ‰“åŒ…æˆä¸€ä¸ªShinyåº”ç”¨ç¨‹åºï¼Œåœ¨è¿™é‡Œæˆ‘å¯ä»¥äº¤äº’å¼åœ°è°ƒæ•´è¾“å…¥ã€‚</p>\n<p>è®©æˆ‘ä»¬ä»UIå¼€å§‹ã€‚æˆ‘ä»¬å°†åœ¨ç¬¬6.2.3èŠ‚ä¸­è¯¦ç»†ä»‹ç»<code>fluidRow()</code>å’Œ<code>column()</code>çš„ä½œç”¨ï¼›ä½†æ˜¯ä½ å¯ä»¥ä»å®ƒä»¬çš„åå­—ä¸­çŒœå‡ºå®ƒä»¬çš„ç›®çš„ã€‚ç¬¬ä¸€è¡Œæœ‰ä¸‰ä¸ªç”¨äºè¾“å…¥æ§ä»¶çš„åˆ—ï¼ˆdistribution 1ã€distribution 2å’Œç»˜å›¾æ§ä»¶ï¼‰ã€‚ç¬¬äºŒè¡Œæœ‰ä¸€ä¸ªå®½åˆ—ç”¨äºç»˜å›¾ï¼Œä¸€ä¸ªçª„åˆ—ç”¨äºå‡è®¾æ£€éªŒã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  fluidRow(</span><br><span class=\"line\">    column(4, </span><br><span class=\"line\">      &quot;Distribution 1&quot;,</span><br><span class=\"line\">      numericInput(&quot;n1&quot;, label = &quot;n&quot;, value = 1000, min = 1),</span><br><span class=\"line\">      numericInput(&quot;mean1&quot;, label = &quot;Âµ&quot;, value = 0, step = 0.1),</span><br><span class=\"line\">      numericInput(&quot;sd1&quot;, label = &quot;Ïƒ&quot;, value = 0.5, min = 0.1, step = 0.1)</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    column(4, </span><br><span class=\"line\">      &quot;Distribution 2&quot;,</span><br><span class=\"line\">      numericInput(&quot;n2&quot;, label = &quot;n&quot;, value = 1000, min = 1),</span><br><span class=\"line\">      numericInput(&quot;mean2&quot;, label = &quot;Âµ&quot;, value = 0, step = 0.1),</span><br><span class=\"line\">      numericInput(&quot;sd2&quot;, label = &quot;Ïƒ&quot;, value = 0.5, min = 0.1, step = 0.1)</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    column(4,</span><br><span class=\"line\">      &quot;Frequency polygon&quot;,</span><br><span class=\"line\">      numericInput(&quot;binwidth&quot;, label = &quot;Bin width&quot;, value = 0.1, step = 0.1),</span><br><span class=\"line\">      sliderInput(&quot;range&quot;, label = &quot;range&quot;, value = c(-3, 3), min = -5, max = 5)</span><br><span class=\"line\">    )</span><br><span class=\"line\">  ),</span><br><span class=\"line\">  fluidRow(</span><br><span class=\"line\">    column(9, plotOutput(&quot;hist&quot;)),</span><br><span class=\"line\">    column(3, verbatimTextOutput(&quot;ttest&quot;))</span><br><span class=\"line\">  )</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n\n<p>serverå‡½æ•°ä»æŒ‡å®šçš„åˆ†å¸ƒä¸­æŠ½å–åï¼Œç»“åˆäº†freqpoly()å’Œt_test()å‡½æ•°çš„è°ƒç”¨ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  output$hist &lt;- renderPlot(&#123;</span><br><span class=\"line\">    x1 &lt;- rnorm(input$n1, input$mean1, input$sd1)</span><br><span class=\"line\">    x2 &lt;- rnorm(input$n2, input$mean2, input$sd2)</span><br><span class=\"line\">    </span><br><span class=\"line\">    freqpoly(x1, x2, binwidth = input$binwidth, xlim = input$range)</span><br><span class=\"line\">  &#125;, res = 96)</span><br><span class=\"line\"></span><br><span class=\"line\">  output$ttest &lt;- renderText(&#123;</span><br><span class=\"line\">    x1 &lt;- rnorm(input$n1, input$mean1, input$sd1)</span><br><span class=\"line\">    x2 &lt;- rnorm(input$n2, input$mean2, input$sd2)</span><br><span class=\"line\">    </span><br><span class=\"line\">    t_test(x1, x2)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/c4b42aa78ca4fa1794c7f29a3b43e42610502212/32dcf/demos/basic-reactivity/case-study-1.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/c4b42aa78ca4fa1794c7f29a3b43e42610502212/32dcf/demos/basic-reactivity/case-study-1.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.6ï¼šä¸€ä¸ªShinyåº”ç”¨ç¨‹åºï¼Œå¯è®©æ‚¨ä½¿ç”¨tæ£€éªŒå’Œé¢‘æ•°å¤šè¾¹å½¢æ¯”è¾ƒä¸¤ä¸ªæ¨¡æ‹Ÿåˆ†å¸ƒã€‚è¯·è®¿é—®https://hadley.shinyapps.io/ms-case-study-1ä»¥æŸ¥çœ‹å®æ—¶æ•ˆæœã€‚\"></p>\n<p>è¿™æ®µå®šä¹‰æœåŠ¡å™¨å’Œç”¨æˆ·ç•Œé¢çš„å†…å®¹äº§ç”Ÿäº†å›¾3.6ã€‚ä½ å¯ä»¥åœ¨<a href=\"https://hadley.shinyapps.io/ms-case-study-1\">https://hadley.shinyapps.io/ms-case-study-1</a>æ‰¾åˆ°å®ƒçš„æ´»è·ƒç‰ˆã€‚æˆ‘æ¨èä½ æ‰“å¼€åº”ç”¨ç¨‹åºå¹¶è¿›è¡Œå¿«é€Ÿæ“ä½œï¼Œä»¥ç¡®ä¿åœ¨ç»§ç»­é˜…è¯»ä¹‹å‰ç†è§£å…¶åŸºæœ¬æ“ä½œã€‚</p>\n<h3 id=\"3-4-3-ååº”å¼å›¾è¡¨\"><a href=\"#3-4-3-ååº”å¼å›¾è¡¨\" class=\"headerlink\" title=\"3.4.3 ååº”å¼å›¾è¡¨\"></a>3.4.3 ååº”å¼å›¾è¡¨</h3><p>è®©æˆ‘ä»¬å¼€å§‹ç»˜åˆ¶è¿™ä¸ªåº”ç”¨ç¨‹åºçš„ååº”å¼å›¾è¡¨ã€‚Shinyè¶³å¤Ÿæ™ºèƒ½ï¼Œä»…åœ¨å¼•ç”¨çš„è¾“å…¥å‘ç”Ÿæ›´æ”¹æ—¶æ›´æ–°è¾“å‡ºï¼›å®ƒä¸å¤Ÿæ™ºèƒ½ï¼Œä¸èƒ½ä»…é€‰æ‹©æ€§åœ°è¿è¡Œè¾“å‡ºå†…éƒ¨çš„ä»£ç ç‰‡æ®µã€‚æ¢å¥è¯è¯´ï¼Œè¾“å‡ºæ˜¯åŸå­çš„ï¼šå®ƒä»¬è¦ä¹ˆæ•´ä½“æ‰§è¡Œï¼Œè¦ä¹ˆä¸æ‰§è¡Œã€‚</p>\n<p>ä¾‹å¦‚ï¼Œä»¥ä¸‹æ˜¯ä»serverä¸­è·å–çš„ä»£ç ç‰‡æ®µï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">x1 &lt;- rnorm(input$n1, input$mean1, input$sd1)</span><br><span class=\"line\">x2 &lt;- rnorm(input$n2, input$mean2, input$sd2)</span><br><span class=\"line\">t_test(x1, x2)</span><br></pre></td></tr></table></figure>\n\n<p>ä½œä¸ºé˜…è¯»æ­¤ä»£ç çš„äººï¼Œä½ å¯ä»¥çœ‹å‡ºæˆ‘ä»¬åªéœ€è¦åœ¨n1ã€mean1æˆ–sd1å‘ç”Ÿå˜åŒ–æ—¶æ›´æ–°x1ï¼Œåœ¨n2ã€mean2æˆ–sd2å‘ç”Ÿå˜åŒ–æ—¶æ›´æ–°x2ã€‚ç„¶è€Œï¼ŒShinyåªå°†è¾“å‡ºè§†ä¸ºä¸€ä¸ªæ•´ä½“ï¼Œå› æ­¤æ¯å½“n1ã€mean1ã€sd1ã€n2ã€mean2æˆ–sd2ä¸­çš„ä¸€ä¸ªå‘ç”Ÿå˜åŒ–æ—¶ï¼Œå®ƒéƒ½ä¼šæ›´æ–°x1å’Œx2ã€‚è¿™å¯¼è‡´äº†å›¾3.7æ‰€ç¤ºçš„ååº”å›¾ã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/840574f96b31b47295cc1ec44d359c0493a6e1bb/4d300/diagrams/basic-reactivity/case-study-1.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/840574f96b31b47295cc1ec44d359c0493a6e1bb/4d300/diagrams/basic-reactivity/case-study-1.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.7 ååº”å›¾æ˜¾ç¤ºï¼Œæ¯ä¸€ä¸ªè¾“å‡ºéƒ½å–å†³äºæ¯ä¸€ä¸ªè¾“å…¥\"></p>\n<p>ä½ ä¼šæ³¨æ„åˆ°ï¼Œå›¾ä¸­éå¸¸å¯†é›†ï¼šå‡ ä¹æ¯ä¸ªè¾“å…¥éƒ½ç›´æ¥è¿æ¥åˆ°æ¯ä¸ªè¾“å‡ºã€‚è¿™é€ æˆäº†ä¸¤ä¸ªé—®é¢˜ï¼š</p>\n<ul>\n<li><p>åº”ç”¨ç¨‹åºéš¾ä»¥ç†è§£ï¼Œå› ä¸ºæœ‰å¤ªå¤šçš„è¿æ¥ã€‚æ‚¨æ— æ³•å°†åº”ç”¨ç¨‹åºçš„ä»»ä½•éƒ¨åˆ†å•ç‹¬æ‹‰å‡ºæ¥è¿›è¡Œåˆ†æã€‚</p>\n</li>\n<li><p>åº”ç”¨ç¨‹åºæ•ˆç‡ä½ä¸‹ï¼Œå› ä¸ºå®ƒåšäº†å¾ˆå¤šä¸å¿…è¦çš„å·¥ä½œã€‚ä¾‹å¦‚ï¼Œå¦‚æœæ‚¨æ›´æ”¹äº†å›¾çš„æ–­ç‚¹ï¼Œå°†é‡æ–°è®¡ç®—æ•°æ®ï¼›å¦‚æœæ‚¨æ›´æ”¹äº†n1çš„å€¼ï¼Œå°†æ›´æ–°x2ï¼ˆåœ¨ä¸¤ä¸ªåœ°æ–¹ï¼ï¼‰ã€‚</p>\n</li>\n</ul>\n<p>åº”ç”¨ç¨‹åºè¿˜æœ‰ä¸€ä¸ªå…¶ä»–ä¸»è¦ç¼ºé™·ï¼šé¢‘ç‡å¤šè¾¹å½¢å’Œtæ£€éªŒä½¿ç”¨å•ç‹¬çš„éšæœºæŠ½æ ·ã€‚è¿™å¯èƒ½ä¼šè¯¯å¯¼ï¼Œå› ä¸ºæ‚¨æœŸæœ›å®ƒä»¬åœ¨åŒä¸€åŸºç¡€æ•°æ®ä¸Šå·¥ä½œã€‚</p>\n<p>å¹¸è¿çš„æ˜¯ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä½¿ç”¨ååº”å¼è¡¨è¾¾å¼æ¥æå–é‡å¤çš„è®¡ç®—ï¼Œä»è€Œè§£å†³æ‰€æœ‰è¿™äº›é—®é¢˜ã€‚</p>\n<h3 id=\"3-4-4-ç®€åŒ–å›¾è¡¨\"><a href=\"#3-4-4-ç®€åŒ–å›¾è¡¨\" class=\"headerlink\" title=\"3.4.4 ç®€åŒ–å›¾è¡¨\"></a>3.4.4 ç®€åŒ–å›¾è¡¨</h3><p>åœ¨serverå‡½æ•°ä¸­ï¼Œæˆ‘ä»¬å°†ç°æœ‰ä»£ç é‡æ„ä¸ºä¸¤ä¸ªæ–°çš„ååº”å¼è¡¨è¾¾å¼x1å’Œx2ï¼Œå®ƒä»¬æ¨¡æ‹Ÿæ¥è‡ªä¸¤ä¸ªåˆ†å¸ƒçš„æ•°æ®ã€‚è¦åˆ›å»ºååº”å¼è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬è°ƒç”¨<code>reactive()</code>å¹¶å°†ç»“æœåˆ†é…ç»™ä¸€ä¸ªå˜é‡ã€‚è¦ç¨åä½¿ç”¨è¯¥è¡¨è¾¾å¼ï¼Œæˆ‘ä»¬å°†å˜é‡ç§°ä¸ºå‡½æ•°è¿›è¡Œè°ƒç”¨ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  x1 &lt;- reactive(rnorm(input$n1, input$mean1, input$sd1))</span><br><span class=\"line\">  x2 &lt;- reactive(rnorm(input$n2, input$mean2, input$sd2))</span><br><span class=\"line\"></span><br><span class=\"line\">  output$hist &lt;- renderPlot(&#123;</span><br><span class=\"line\">    freqpoly(x1(), x2(), binwidth = input$binwidth, xlim = input$range)</span><br><span class=\"line\">  &#125;, res = 96)</span><br><span class=\"line\"></span><br><span class=\"line\">  output$ttest &lt;- renderText(&#123;</span><br><span class=\"line\">    t_test(x1(), x2())</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ç§è½¬æ¢äº§ç”Ÿäº†å›¾3.8æ‰€ç¤ºçš„å®è´¨ä¸Šæ›´ç®€å•çš„å›¾è¡¨ã€‚è¿™ä¸ªæ›´ç®€å•çš„å›¾è¡¨ä½¿å¾—åº”ç”¨ç¨‹åºæ›´å®¹æ˜“ç†è§£ï¼Œå› ä¸ºæ‚¨å¯ä»¥å°†è¿æ¥ç»„ä»¶åˆ†å¼€ç†è§£ï¼›åˆ†å¸ƒå‚æ•°çš„å€¼åªä¼šé€šè¿‡x1å’Œx2å½±å“è¾“å‡ºã€‚è¿™ç§é‡å†™è¿˜ä½¿åº”ç”¨ç¨‹åºæ›´é«˜æ•ˆï¼Œå› ä¸ºå®ƒå‡å°‘äº†å¤§é‡çš„è®¡ç®—ã€‚ç°åœ¨ï¼Œå½“æ‚¨æ›´æ”¹binwidthæˆ–rangeæ—¶ï¼Œåªæœ‰å›¾è¡¨å‘ç”Ÿå˜åŒ–ï¼Œè€Œä¸æ˜¯åŸºç¡€æ•°æ®ã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/7037f40071103105203cef484ca816fa0f72555f/97d14/diagrams/basic-reactivity/case-study-2.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/7037f40071103105203cef484ca816fa0f72555f/97d14/diagrams/basic-reactivity/case-study-2.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.8 ä½¿ç”¨ååº”å¼è¡¨è¾¾å¼å¤§å¤§ç®€åŒ–äº†å›¾è¡¨ï¼Œä½¿å…¶æ›´å®¹æ˜“ç†è§£\"></p>\n<p>ä¸ºäº†å¼ºè°ƒè¿™ç§æ¨¡å—åŒ–ï¼Œå›¾3.9åœ¨ç‹¬ç«‹ç»„ä»¶å‘¨å›´ç”»äº†æ¡†ã€‚æˆ‘ä»¬å°†åœ¨ç¬¬19ç« è®¨è®ºæ¨¡å—æ—¶å›åˆ°è¿™ä¸ªæƒ³æ³•ã€‚æ¨¡å—å…è®¸æ‚¨æå–é‡å¤çš„ä»£ç ä»¥è¿›è¡Œé‡ç”¨ï¼ŒåŒæ—¶ä¿è¯å…¶ä¸åº”ç”¨ç¨‹åºä¸­çš„å…¶ä»–æ‰€æœ‰å†…å®¹éš”ç¦»ã€‚å¯¹äºæ›´å¤æ‚çš„appï¼Œæ¨¡å—æ˜¯ä¸€ç§éå¸¸æœ‰ç”¨ä¸”å¼ºå¤§çš„æŠ€æœ¯ã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/9eda867da502862eae05b9b574ebcc5828858bd8/b75dd/diagrams/basic-reactivity/case-study-3.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/9eda867da502862eae05b9b574ebcc5828858bd8/b75dd/diagrams/basic-reactivity/case-study-3.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.9 æ¨¡å—å¼ºåˆ¶éš”ç¦»åº”ç”¨ç¨‹åºçš„å„ä¸ªéƒ¨åˆ†\"></p>\n<p>æ‚¨å¯èƒ½ç†Ÿæ‚‰ç¼–ç¨‹ä¸­çš„â€œä¸‰æ¬¡è§„åˆ™â€ï¼šæ— è®ºä½•æ—¶æ‚¨å¤åˆ¶å’Œç²˜è´´æŸäº›å†…å®¹ä¸‰æ¬¡ï¼Œæ‚¨åº”è¯¥æƒ³åŠæ³•å‡å°‘é‡å¤ï¼ˆé€šå¸¸é€šè¿‡ç¼–å†™å‡½æ•°ï¼‰ã€‚è¿™æ˜¯å¾ˆé‡è¦çš„ï¼Œå› ä¸ºå®ƒå‡å°‘äº†ä»£ç ä¸­çš„é‡å¤é‡ï¼Œä½¿ä»£ç æ›´å®¹æ˜“ç†è§£ï¼Œå¹¶ä¸”éšç€æ‚¨çš„éœ€æ±‚å˜åŒ–è€Œæ›´å®¹æ˜“æ›´æ–°ã€‚</p>\n<p>ç„¶è€Œï¼Œæˆ‘è®¤ä¸ºåœ¨Shinyä¸­ï¼Œæ‚¨åº”è¯¥è€ƒè™‘â€œä¸€æ¬¡è§„åˆ™â€ï¼šæ— è®ºä½•æ—¶æ‚¨å¤åˆ¶å’Œç²˜è´´æŸäº›å†…å®¹ä¸€æ¬¡ï¼Œæ‚¨åº”è¯¥è€ƒè™‘å°†é‡å¤çš„ä»£ç æå–åˆ°ååº”å¼è¡¨è¾¾å¼ä¸­ã€‚å¯¹äºShinyæ¥è¯´ï¼Œè¿™ä¸ªè§„åˆ™æ›´åŠ ä¸¥æ ¼ï¼Œå› ä¸ºååº”å¼è¡¨è¾¾å¼ä¸ä»…ä½¿äººç±»æ›´å®¹æ˜“ç†è§£ä»£ç ï¼Œè€Œä¸”ä¹Ÿæé«˜äº†Shinyæœ‰æ•ˆåœ°é‡æ–°è¿è¡Œä»£ç çš„èƒ½åŠ›ã€‚</p>\n<h3 id=\"3-4-5-æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ååº”å¼è¡¨è¾¾å¼ï¼Ÿ\"><a href=\"#3-4-5-æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ååº”å¼è¡¨è¾¾å¼ï¼Ÿ\" class=\"headerlink\" title=\"3.4.5 æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ååº”å¼è¡¨è¾¾å¼ï¼Ÿ\"></a>3.4.5 æˆ‘ä»¬ä¸ºä»€ä¹ˆéœ€è¦ååº”å¼è¡¨è¾¾å¼ï¼Ÿ</h3><p>å½“æ‚¨åˆšå¼€å§‹ä½¿ç”¨ååº”å¼ä»£ç æ—¶ï¼Œæ‚¨å¯èƒ½ä¼šæƒ³çŸ¥é“ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦ååº”å¼è¡¨è¾¾å¼ã€‚æ‚¨ä¸ºä»€ä¹ˆä¸ä½¿ç”¨ç°æœ‰çš„å·¥å…·æ¥å‡å°‘ä»£ç ä¸­çš„é‡å¤ï¼šåˆ›å»ºæ–°å˜é‡å’Œç¼–å†™å‡½æ•°ï¼Ÿä¸å¹¸çš„æ˜¯ï¼Œè¿™ä¸¤ç§æŠ€æœ¯åœ¨ååº”å¼ç¯å¢ƒä¸­éƒ½ä¸èµ·ä½œç”¨ã€‚</p>\n<p>å¦‚æœæ‚¨å°è¯•ä½¿ç”¨å˜é‡æ¥å‡å°‘é‡å¤ï¼Œæ‚¨å¯èƒ½ä¼šç¼–å†™ç±»ä¼¼è¿™æ ·çš„ä»£ç ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  x1 &lt;- rnorm(input$n1, input$mean1, input$sd1)</span><br><span class=\"line\">  x2 &lt;- rnorm(input$n2, input$mean2, input$sd2)</span><br><span class=\"line\"></span><br><span class=\"line\">  output$hist &lt;- renderPlot(&#123;</span><br><span class=\"line\">    freqpoly(x1, x2, binwidth = input$binwidth, xlim = input$range)</span><br><span class=\"line\">  &#125;, res = 96)</span><br><span class=\"line\"></span><br><span class=\"line\">  output$ttest &lt;- renderText(&#123;</span><br><span class=\"line\">    t_test(x1, x2)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å¦‚æœæ‚¨è¿è¡Œæ­¤ä»£ç ï¼Œåˆ™ä¼šæ”¶åˆ°é”™è¯¯ï¼Œå› ä¸ºæ‚¨å°è¯•åœ¨ååº”å¼ä¸Šä¸‹æ–‡ä¹‹å¤–è®¿é—®è¾“å…¥å€¼ã€‚å³ä½¿æ‚¨æ²¡æœ‰æ”¶åˆ°è¯¥é”™è¯¯ï¼Œæ‚¨ä»ç„¶ä¼šé‡åˆ°é—®é¢˜ï¼šx1å’Œx2åªä¼šåœ¨ä¼šè¯å¼€å§‹æ—¶è®¡ç®—ä¸€æ¬¡ï¼Œè€Œä¸æ˜¯æ¯æ¬¡è¾“å…¥ä¹‹ä¸€æ›´æ–°æ—¶éƒ½ä¼šè®¡ç®—ã€‚</p>\n<p>å¦‚æœæ‚¨å°è¯•ä½¿ç”¨å‡½æ•°ï¼Œåˆ™åº”ç”¨ç¨‹åºå°†å·¥ä½œï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123; </span><br><span class=\"line\">  x1 &lt;- function() rnorm(input$n1, input$mean1, input$sd1)</span><br><span class=\"line\">  x2 &lt;- function() rnorm(input$n2, input$mean2, input$sd2)</span><br><span class=\"line\"></span><br><span class=\"line\">  output$hist &lt;- renderPlot(&#123;</span><br><span class=\"line\">    freqpoly(x1(), x2(), binwidth = input$binwidth, xlim = input$range)</span><br><span class=\"line\">  &#125;, res = 96)</span><br><span class=\"line\"></span><br><span class=\"line\">  output$ttest &lt;- renderText(&#123;</span><br><span class=\"line\">    t_test(x1(), x2())</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>ä½†å®ƒä¸åŸå§‹ä»£ç æœ‰åŒæ ·çš„é—®é¢˜ï¼šä»»ä½•è¾“å…¥éƒ½ä¼šå¯¼è‡´æ‰€æœ‰è¾“å‡ºè¢«é‡æ–°è®¡ç®—ï¼Œå¹¶ä¸”tæ£€éªŒå’Œé¢‘ç‡å¤šè¾¹å½¢å°†åœ¨å•ç‹¬çš„æ ·æœ¬ä¸Šè¿è¡Œã€‚å“åº”å¼è¡¨è¾¾å¼ä¼šè‡ªåŠ¨ç¼“å­˜å…¶ç»“æœï¼Œå¹¶ä¸”ä»…åœ¨è¾“å…¥æ›´æ”¹æ—¶æ‰è¿›è¡Œæ›´æ–°<sup>13</sup>ã€‚</p>\n<p>å˜é‡åªè®¡ç®—ä¸€æ¬¡å€¼ï¼ˆç²¥å¤ªå‡‰äº†ï¼‰ï¼Œå‡½æ•°åœ¨æ¯æ¬¡è°ƒç”¨æ—¶è®¡ç®—å€¼ï¼ˆç²¥å¤ªçƒ«äº†ï¼‰ï¼Œè€Œå“åº”å¼è¡¨è¾¾å¼åªåœ¨å€¼å¯èƒ½å‘ç”Ÿå˜åŒ–æ—¶è®¡ç®—å€¼ï¼ˆç²¥åˆšåˆšå¥½ï¼ï¼‰ã€‚</p>\n<h2 id=\"3-5-æ§åˆ¶è¯„ä¼°æ—¶é—´\"><a href=\"#3-5-æ§åˆ¶è¯„ä¼°æ—¶é—´\" class=\"headerlink\" title=\"3.5 æ§åˆ¶è¯„ä¼°æ—¶é—´\"></a>3.5 æ§åˆ¶è¯„ä¼°æ—¶é—´</h2><p>ç°åœ¨ä½ å·²ç»ç†Ÿæ‚‰äº†ååº”æ€§çš„åŸºæœ¬æ¦‚å¿µï¼Œæˆ‘ä»¬å°†è®¨è®ºä¸¤ç§æ›´é«˜çº§çš„æŠ€æœ¯ï¼Œå®ƒä»¬å¯ä»¥è®©ä½ å¢åŠ æˆ–å‡å°‘ååº”æ€§è¡¨è¾¾å¼çš„æ‰§è¡Œé¢‘ç‡ã€‚åœ¨è¿™é‡Œï¼Œæˆ‘å°†å±•ç¤ºå¦‚ä½•ä½¿ç”¨åŸºæœ¬æŠ€æœ¯ï¼›åœ¨ç¬¬15ç« ä¸­ï¼Œæˆ‘ä»¬å°†å›åˆ°å®ƒä»¬çš„åº•å±‚å®ç°ã€‚</p>\n<p>ä¸ºäº†æ¢ç´¢åŸºæœ¬æ€æƒ³ï¼Œæˆ‘å°†ç®€åŒ–æˆ‘çš„æ¨¡æ‹Ÿåº”ç”¨ç¨‹åºã€‚æˆ‘å°†ä½¿ç”¨åªæœ‰ä¸€ä¸ªå‚æ•°çš„åˆ†å¸ƒï¼Œå¹¶å¼ºåˆ¶ä¸¤ä¸ªæ ·æœ¬å…±äº«ç›¸åŒçš„nã€‚æˆ‘è¿˜å°†åˆ é™¤ç»˜å›¾æ§ä»¶ã€‚è¿™å°†äº§ç”Ÿæ›´å°çš„UIå¯¹è±¡å’ŒserveråŠŸèƒ½ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  fluidRow(</span><br><span class=\"line\">    column(3, </span><br><span class=\"line\">      numericInput(&quot;lambda1&quot;, label = &quot;lambda1&quot;, value = 3),</span><br><span class=\"line\">      numericInput(&quot;lambda2&quot;, label = &quot;lambda2&quot;, value = 5),</span><br><span class=\"line\">      numericInput(&quot;n&quot;, label = &quot;n&quot;, value = 1e4, min = 0)</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    column(9, plotOutput(&quot;hist&quot;))</span><br><span class=\"line\">  )</span><br><span class=\"line\">)</span><br><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  x1 &lt;- reactive(rpois(input$n, input$lambda1))</span><br><span class=\"line\">  x2 &lt;- reactive(rpois(input$n, input$lambda2))</span><br><span class=\"line\">  output$hist &lt;- renderPlot(&#123;</span><br><span class=\"line\">    freqpoly(x1(), x2(), binwidth = 1, xlim = c(0, 40))</span><br><span class=\"line\">  &#125;, res = 96)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>è¿™ç”Ÿæˆäº†å¦‚å›¾3.10æ‰€ç¤ºçš„åº”ç”¨ç¨‹åºå’Œå¦‚å›¾3.11æ‰€ç¤ºçš„ååº”å›¾ã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/ceed7209822edad11d811e6ad501f2e1cea7fb0d/b35bb/demos/basic-reactivity/simulation-2.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/ceed7209822edad11d811e6ad501f2e1cea7fb0d/b35bb/demos/basic-reactivity/simulation-2.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.10 ä¸€ä¸ªæ›´ç®€å•çš„åº”ç”¨ç¨‹åºï¼Œæ˜¾ç¤ºä»ä¸¤ä¸ªæ³Šæ¾åˆ†å¸ƒä¸­æŠ½å–çš„éšæœºæ•°çš„é¢‘ç‡å¤šè¾¹å½¢ã€‚å‚è§ live åœ¨çº¿åœ¨https://hadley.shinyapps.io/ms-simulation-2ã€‚\"></p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/233a16963b00b9e879f225bc17a918afbad91e15/32c89/diagrams/basic-reactivity/timing.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/233a16963b00b9e879f225bc17a918afbad91e15/32c89/diagrams/basic-reactivity/timing.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.11 ååº”å›¾\"></p>\n<h3 id=\"3-5-1-å®šæ—¶å¤±æ•ˆ\"><a href=\"#3-5-1-å®šæ—¶å¤±æ•ˆ\" class=\"headerlink\" title=\"3.5.1 å®šæ—¶å¤±æ•ˆ\"></a>3.5.1 å®šæ—¶å¤±æ•ˆ</h3><p>æƒ³è±¡ä¸€ä¸‹ï¼Œå¦‚æœä½ æƒ³é€šè¿‡ä¸æ–­é‡æ–°æ¨¡æ‹Ÿæ•°æ®æ¥å¼ºè°ƒè¿™æ˜¯æ¨¡æ‹Ÿæ•°æ®çš„äº‹å®ï¼Œä»¥ä¾¿ä½ çœ‹åˆ°åŠ¨ç”»è€Œä¸æ˜¯é™æ€å›¾<sup>14</sup>ã€‚æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ–°çš„å‡½æ•°ï¼š<code>reactiveTimer()</code>æ¥å¢åŠ æ›´æ–°çš„é¢‘ç‡ã€‚</p>\n<p><code>reactiveTimer()</code>æ˜¯ä¸€ä¸ªååº”å¼è¡¨è¾¾å¼ï¼Œå®ƒä¾èµ–äºä¸€ä¸ªéšè—çš„è¾“å…¥ï¼šå½“å‰æ—¶é—´ã€‚å½“æ‚¨æƒ³è¦ä¸€ä¸ªååº”å¼è¡¨è¾¾å¼æ¯”å…¶ä»–æ–¹å¼æ›´é¢‘ç¹åœ°ä½¿è‡ªå·±æ— æ•ˆæ—¶ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨<code>reactiveTimer()</code>ã€‚ä¾‹å¦‚ï¼Œä»¥ä¸‹ä»£ç ä½¿ç”¨500æ¯«ç§’çš„é—´éš”ï¼Œè¿™æ ·å›¾å°†æ¯ä¸¤ç§’é’Ÿæ›´æ–°ä¸€æ¬¡ã€‚è¿™è¶³å¤Ÿå¿«ï¼Œä»¥æé†’ä½ æ­£åœ¨æŸ¥çœ‹æ¨¡æ‹Ÿï¼Œè€Œä¸ä¼šå› å¿«é€Ÿå˜åŒ–è€Œä½¿ä½ çœ¼èŠ±ç¼­ä¹±ã€‚è¿™ä¸€å˜åŒ–äº§ç”Ÿäº†å¦‚å›¾3.12æ‰€ç¤ºçš„ååº”å›¾ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  timer &lt;- reactiveTimer(500)</span><br><span class=\"line\">  </span><br><span class=\"line\">  x1 &lt;- reactive(&#123;</span><br><span class=\"line\">    timer()</span><br><span class=\"line\">    rpois(input$n, input$lambda1)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  x2 &lt;- reactive(&#123;</span><br><span class=\"line\">    timer()</span><br><span class=\"line\">    rpois(input$n, input$lambda2)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  </span><br><span class=\"line\">  output$hist &lt;- renderPlot(&#123;</span><br><span class=\"line\">    freqpoly(x1(), x2(), binwidth = 1, xlim = c(0, 40))</span><br><span class=\"line\">  &#125;, res = 96)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/82776537eeb3726235dd27f53df0f38880965a60/dfd59/diagrams/basic-reactivity/timing-timer.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/82776537eeb3726235dd27f53df0f38880965a60/dfd59/diagrams/basic-reactivity/timing-timer.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.12 reactiveTimer(500)å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ååº”å¼è¾“å…¥ï¼Œè¯¥è¾“å…¥æ¯åŠç§’è‡ªåŠ¨ä½¿è‡ªå·±æ— æ•ˆä¸€æ¬¡\"></p>\n<p>æ³¨æ„æˆ‘ä»¬åœ¨è®¡ç®—x1()å’Œx2()çš„ååº”å¼è¡¨è¾¾å¼ä¸­ä½¿ç”¨timer()çš„æƒ…å†µï¼šæˆ‘ä»¬è°ƒç”¨å®ƒï¼Œä½†ä¸ä½¿ç”¨å®ƒçš„å€¼ã€‚è¿™ä½¿å¾—x1å’Œx2å¯ä»¥å¯¹timeräº§ç”Ÿååº”å¼ä¾èµ–ï¼Œè€Œä¸å¿…æ‹…å¿ƒå®ƒè¿”å›çš„ç¡®åˆ‡å€¼ã€‚</p>\n<h3 id=\"3-5-2-ç‚¹å‡»äº‹ä»¶\"><a href=\"#3-5-2-ç‚¹å‡»äº‹ä»¶\" class=\"headerlink\" title=\"3.5.2 ç‚¹å‡»äº‹ä»¶\"></a>3.5.2 ç‚¹å‡»äº‹ä»¶</h3><p>åœ¨ä¸Šè¿°åœºæ™¯ä¸­ï¼Œæƒ³è±¡ä¸€ä¸‹å¦‚æœæ¨¡æ‹Ÿä»£ç éœ€è¦1ç§’é’Ÿæ‰èƒ½è¿è¡Œå®Œä¼šå‘ç”Ÿä»€ä¹ˆæƒ…å†µã€‚æˆ‘ä»¬æ¯0.5ç§’æ‰§è¡Œä¸€æ¬¡æ¨¡æ‹Ÿï¼Œæ‰€ä»¥Shinyä¼šæœ‰è¶Šæ¥è¶Šå¤šçš„å·¥ä½œè¦åšï¼Œè€Œä¸”æ°¸è¿œæ— æ³•è¿½èµ¶ä¸Šæ¥ã€‚åŒæ ·çš„é—®é¢˜ä¹Ÿå¯èƒ½å‘ç”Ÿåœ¨å¦‚æœæœ‰äººåœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­å¿«é€Ÿç‚¹å‡»æŒ‰é’®ï¼Œè€Œæ‚¨æ­£åœ¨è¿›è¡Œçš„è®¡ç®—ç›¸å¯¹æ˜‚è´µçš„æƒ…å†µä¸‹ã€‚è¿™å¯èƒ½ä¼šç»™Shinyåˆ›å»ºå¤§é‡çš„åå°å·¥ä½œï¼Œå½“Shinyå¿™äºå¤„ç†è¿™äº›åå°å·¥ä½œæ—¶ï¼Œå®ƒæ— æ³•å“åº”ä»»ä½•æ–°çš„äº‹ä»¶ï¼Œä»è€Œå¯¼è‡´ç”¨æˆ·ä½“éªŒä¸ä½³ã€‚</p>\n<p>å¦‚æœè¿™ç§æƒ…å†µå‘ç”Ÿåœ¨æ‚¨çš„åº”ç”¨ç¨‹åºä¸­ï¼Œæ‚¨å¯èƒ½å¸Œæœ›è¦æ±‚ç”¨æˆ·é€‰æ‹©æ‰§è¡Œæ˜‚è´µçš„è®¡ç®—ï¼Œè¦æ±‚ä»–ä»¬ç‚¹å‡»ä¸€ä¸ªæŒ‰é’®ã€‚è¿™æ˜¯<code>actionButton()</code>çš„ä¸€ä¸ªå¾ˆå¥½çš„ç”¨ä¾‹ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  fluidRow(</span><br><span class=\"line\">    column(3, </span><br><span class=\"line\">      numericInput(&quot;lambda1&quot;, label = &quot;lambda1&quot;, value = 3),</span><br><span class=\"line\">      numericInput(&quot;lambda2&quot;, label = &quot;lambda2&quot;, value = 5),</span><br><span class=\"line\">      numericInput(&quot;n&quot;, label = &quot;n&quot;, value = 1e4, min = 0),</span><br><span class=\"line\">      actionButton(&quot;simulate&quot;, &quot;Simulate!&quot;)</span><br><span class=\"line\">    ),</span><br><span class=\"line\">    column(9, plotOutput(&quot;hist&quot;))</span><br><span class=\"line\">  )</span><br><span class=\"line\">)</span><br></pre></td></tr></table></figure>\n\n<p>è¦ä½¿ç”¨æ“ä½œæŒ‰é’®ï¼Œæˆ‘ä»¬éœ€è¦å­¦ä¹ ä¸€ç§æ–°å·¥å…·ã€‚ä¸ºäº†ç†è§£åŸå› ï¼Œè®©æˆ‘ä»¬é¦–å…ˆä½¿ç”¨ä¸ä¸Šè¿°ç›¸åŒçš„æ–¹æ³•æ¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚ä¸ä¸Šé¢ä¸€æ ·ï¼Œæˆ‘ä»¬æåˆ°simulateä½†ä¸ä½¿ç”¨å®ƒçš„å€¼æ¥å¯¹å…¶äº§ç”Ÿååº”å¼ä¾èµ–ã€‚</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  x1 &lt;- reactive(&#123;</span><br><span class=\"line\">    input$simulate</span><br><span class=\"line\">    rpois(input$n, input$lambda1)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  x2 &lt;- reactive(&#123;</span><br><span class=\"line\">    input$simulate</span><br><span class=\"line\">    rpois(input$n, input$lambda2)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  output$hist &lt;- renderPlot(&#123;</span><br><span class=\"line\">    freqpoly(x1(), x2(), binwidth = 1, xlim = c(0, 40))</span><br><span class=\"line\">  &#125;, res = 96)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/d65eff11607572a166ddc400a771e5e72fb32b99/362e4/demos/basic-reactivity/action-button.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/d65eff11607572a166ddc400a771e5e72fb32b99/362e4/demos/basic-reactivity/action-button.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.13 å…·æœ‰æ“ä½œæŒ‰é’®çš„åº”ç”¨ç¨‹åºã€‚å‚è§ live åœ¨çº¿åœ¨https://hadley.shinyapps.io/ms-action-buttonã€‚\"></p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/ffefc8f9300348bb4c29492c4ebfa04235c78eec/94ace/diagrams/basic-reactivity/timing-button.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/ffefc8f9300348bb4c29492c4ebfa04235c78eec/94ace/diagrams/basic-reactivity/timing-button.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.14 è¿™ä¸ªååº”å›¾æ²¡æœ‰å®ç°æˆ‘ä»¬çš„ç›®æ ‡ï¼›æˆ‘ä»¬æ·»åŠ äº†ä¸€ä¸ªä¾èµ–é¡¹ï¼Œè€Œä¸æ˜¯å–ä»£äº†ç°æœ‰çš„ä¾èµ–é¡¹ã€‚\"></p>\n<p>è¿™äº§ç”Ÿäº†å›¾3.13çš„åº”ç”¨ç¨‹åºå’Œå›¾3.14çš„ååº”å›¾ã€‚è¿™æ²¡æœ‰è¾¾åˆ°æˆ‘ä»¬çš„ç›®æ ‡ï¼Œå› ä¸ºå®ƒåªæ˜¯å¼•å…¥äº†ä¸€ä¸ªæ–°çš„ä¾èµ–é¡¹ï¼šå½“æˆ‘ä»¬ç‚¹å‡»simulateæŒ‰é’®æ—¶ï¼Œ<code>x1()</code>å’Œ<code>x2()</code>å°†æ›´æ–°ï¼Œä½†å®ƒä»¬å°†ç»§ç»­åœ¨<code>lambda1</code>ã€<code>lambda2</code>æˆ–<code>n</code>æ”¹å˜æ—¶æ›´æ–°ã€‚æˆ‘ä»¬å¸Œæœ›å–ä»£ç°æœ‰çš„ä¾èµ–é¡¹ï¼Œè€Œä¸æ˜¯å¢åŠ æ–°çš„ä¾èµ–é¡¹ã€‚</p>\n<p>ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬éœ€è¦ä¸€ä¸ªæ–°çš„å·¥å…·ï¼šä¸€ç§ä½¿ç”¨è¾“å…¥å€¼è€Œä¸äº§ç”Ÿååº”å¼ä¾èµ–çš„æ–¹æ³•ã€‚æˆ‘ä»¬éœ€è¦<code>eventReactive()</code>ï¼Œå®ƒæœ‰ä¸¤ä¸ªå‚æ•°ï¼šç¬¬ä¸€ä¸ªå‚æ•°æŒ‡å®šè¦å¯¹å…¶äº§ç”Ÿä¾èµ–çš„å‚æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æŒ‡å®šè¦è®¡ç®—çš„å†…å®¹ã€‚è¿™è®©åº”ç”¨ç¨‹åºåªæœ‰åœ¨<code>simulate</code>è¢«ç‚¹å‡»æ—¶æ‰è®¡ç®—<code>x1()</code>å’Œ<code>x2()</code>ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  x1 &lt;- eventReactive(input$simulate, &#123;</span><br><span class=\"line\">    rpois(input$n, input$lambda1)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">  x2 &lt;- eventReactive(input$simulate, &#123;</span><br><span class=\"line\">    rpois(input$n, input$lambda2)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\"></span><br><span class=\"line\">  output$hist &lt;- renderPlot(&#123;</span><br><span class=\"line\">    freqpoly(x1(), x2(), binwidth = 1, xlim = c(0, 40))</span><br><span class=\"line\">  &#125;, res = 96)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p>å›¾3.15æ˜¾ç¤ºäº†æ–°çš„ååº”å›¾ã€‚è¯·æ³¨æ„ï¼Œå¦‚æ‰€æœŸæœ›çš„é‚£æ ·ï¼Œ<code>x1</code>å’Œ<code>x2</code>ä¸å†å¯¹<code>lambda1</code>ã€<code>lambda2</code>å’Œ<code>n</code>äº§ç”Ÿååº”å¼ä¾èµ–ï¼šæ”¹å˜å®ƒä»¬çš„å€¼ä¸ä¼šè§¦å‘è®¡ç®—ã€‚æˆ‘ä¿ç•™äº†æµ…ç°è‰²çš„ç®­å¤´ï¼Œåªæ˜¯ä¸ºäº†æé†’æ‚¨x1å’Œx2ç»§ç»­ä½¿ç”¨è¿™äº›å€¼ï¼Œä½†ä¸å†å¯¹å…¶äº§ç”Ÿååº”å¼ä¾èµ–ã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/85daccd0739423ca7b9463531a23e66d280c5724/eb459/diagrams/basic-reactivity/timing-button-2.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/85daccd0739423ca7b9463531a23e66d280c5724/eb459/diagrams/basic-reactivity/timing-button-2.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.15 eventReactive()ä½¿åˆ†ç¦»ä¾èµ–é¡¹ï¼ˆé»‘è‰²ç®­å¤´ï¼‰å’Œä½¿ç”¨æ¥è®¡ç®—ç»“æœçš„å€¼ï¼ˆæµ…ç°è‰²ç®­å¤´ï¼‰æˆä¸ºå¯èƒ½ã€‚\"></p>\n<h2 id=\"3-6-è§‚å¯Ÿè€…\"><a href=\"#3-6-è§‚å¯Ÿè€…\" class=\"headerlink\" title=\"3.6 è§‚å¯Ÿè€…\"></a>3.6 è§‚å¯Ÿè€…</h2><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬ä¸€ç›´å…³æ³¨åº”ç”¨ç¨‹åºå†…éƒ¨å‘ç”Ÿçš„äº‹æƒ…ã€‚ä½†æœ‰æ—¶ï¼Œæ‚¨éœ€è¦å°†åº”ç”¨ç¨‹åºå¤–éƒ¨çš„æŸäº›æ“ä½œä¸åº”ç”¨ç¨‹åºå†…éƒ¨çš„æ“ä½œå…³è”èµ·æ¥ï¼Œä»¥åœ¨å…¶ä»–åœ°æ–¹äº§ç”Ÿå‰¯ä½œç”¨ã€‚è¿™å¯èƒ½æ˜¯å°†æ–‡ä»¶ä¿å­˜åˆ°å…±äº«ç½‘ç»œé©±åŠ¨å™¨ã€å‘Web APIå‘é€æ•°æ®ã€æ›´æ–°æ•°æ®åº“ï¼Œæˆ–è€…ï¼ˆæœ€å¸¸è§ï¼‰æ˜¯åœ¨æ§åˆ¶å°ä¸Šæ‰“å°è°ƒè¯•æ¶ˆæ¯ã€‚è¿™äº›æ“ä½œä¸ä¼šå½±å“åº”ç”¨ç¨‹åºçš„å¤–è§‚ï¼Œå› æ­¤æ‚¨ä¸åº”è¯¥ä½¿ç”¨è¾“å‡ºå’Œæ¸²æŸ“å‡½æ•°ã€‚ç›¸åï¼Œæ‚¨éœ€è¦ä½¿ç”¨è§‚å¯Ÿè€…ï¼ˆobserverï¼‰ã€‚</p>\n<p>æœ‰å¤šç§åˆ›å»ºè§‚å¯Ÿè€…çš„æ–¹æ³•ï¼Œæˆ‘ä»¬å°†åœ¨ç¬¬15.3èŠ‚ä¸­è®¨è®ºå®ƒä»¬ã€‚ç°åœ¨ï¼Œæˆ‘æƒ³å‘æ‚¨å±•ç¤ºå¦‚ä½•ä½¿ç”¨<code>observeEvent()</code>ï¼Œå› ä¸ºå®ƒåœ¨æ‚¨å­¦ä¹ Shinyæ—¶ä¸ºæ‚¨æä¾›äº†ä¸€ä¸ªé‡è¦çš„è°ƒè¯•å·¥å…·ã€‚</p>\n<p><code>observeEvent()</code>ä¸<code>eventReactive()</code>éå¸¸ç›¸ä¼¼ã€‚å®ƒæœ‰ä¸¤ä¸ªé‡è¦çš„å‚æ•°ï¼š<code>eventExpr</code>å’Œ<code>handlerExpr</code>ã€‚ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¾“å…¥æˆ–è¡¨è¾¾å¼ï¼Œå¯¹å…¶äº§ç”Ÿä¾èµ–ï¼›ç¬¬äºŒä¸ªå‚æ•°æ˜¯æ‰§è¡Œçš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œå¯¹<code>server()</code>è¿›è¡Œä»¥ä¸‹ä¿®æ”¹æ„å‘³ç€æ¯å½“<code>name</code>è¢«æ›´æ–°æ—¶ï¼Œéƒ½ä¼šå‘æ§åˆ¶å°å‘é€ä¸€æ¡æ¶ˆæ¯ï¼š</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ui &lt;- fluidPage(</span><br><span class=\"line\">  textInput(&quot;name&quot;, &quot;What&#x27;s your name?&quot;),</span><br><span class=\"line\">  textOutput(&quot;greeting&quot;)</span><br><span class=\"line\">)</span><br><span class=\"line\"></span><br><span class=\"line\">server &lt;- function(input, output, session) &#123;</span><br><span class=\"line\">  string &lt;- reactive(paste0(&quot;Hello &quot;, input$name, &quot;!&quot;))</span><br><span class=\"line\">  </span><br><span class=\"line\">  output$greeting &lt;- renderText(string())</span><br><span class=\"line\">  observeEvent(input$name, &#123;</span><br><span class=\"line\">    message(&quot;Greeting performed&quot;)</span><br><span class=\"line\">  &#125;)</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n\n<p><code>observeEvent()</code>å’Œ<code>eventReactive()</code>ä¹‹é—´æœ‰ä¸¤ä¸ªé‡è¦çš„åŒºåˆ«ï¼š</p>\n<ul>\n<li><p>æ‚¨ä¸éœ€è¦å°†<code>observeEvent()</code>çš„ç»“æœåˆ†é…ç»™ä¸€ä¸ªå˜é‡ï¼Œå› æ­¤</p>\n</li>\n<li><p>æ‚¨ä¸èƒ½ä»å…¶ä»–ååº”å¼æ¶ˆè´¹è€…ä¸­å¼•ç”¨å®ƒã€‚</p>\n</li>\n</ul>\n<p> è§‚å¯Ÿè€…å’Œè¾“å‡ºå¯†åˆ‡ç›¸å…³ã€‚æ‚¨å¯ä»¥å°†è¾“å‡ºè§†ä¸ºå…·æœ‰ç‰¹æ®Šå‰¯ä½œç”¨ï¼šæ›´æ–°ç”¨æˆ·æµè§ˆå™¨ä¸­çš„HTMLã€‚ä¸ºäº†å¼ºè°ƒè¿™ç§ç´§å¯†å…³ç³»ï¼Œæˆ‘ä»¬å°†åœ¨ååº”å›¾ä¸Šä»¥ç›¸åŒçš„æ–¹å¼ç»˜åˆ¶å®ƒä»¬ã€‚è¿™äº§ç”Ÿäº†å¦‚å›¾3.16æ‰€ç¤ºçš„ååº”å›¾ã€‚</p>\n<p><img src=\"https://d33wubrfki0l68.cloudfront.net/c34c3dfb6205be6ff2c2d3e8fca18f16d34d9f3a/9d229/diagrams/basic-reactivity/graph-3.png\" class=\"lazyload placeholder\" data-srcset=\"https://d33wubrfki0l68.cloudfront.net/c34c3dfb6205be6ff2c2d3e8fca18f16d34d9f3a/9d229/diagrams/basic-reactivity/graph-3.png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"å›¾3.16 åœ¨ååº”å›¾ä¸­ï¼Œè§‚å¯Ÿè€…çœ‹èµ·æ¥ä¸è¾“å‡ºç›¸åŒ\"></p>\n<h2 id=\"3-7-æ€»ç»“\"><a href=\"#3-7-æ€»ç»“\" class=\"headerlink\" title=\"3.7 æ€»ç»“\"></a>3.7 æ€»ç»“</h2><p>æœ¬ç« åº”æœ‰åŠ©äºæ‚¨æ›´å¥½åœ°äº†è§£Shinyåº”ç”¨ç¨‹åºçš„åç«¯ï¼Œå³å“åº”ç”¨æˆ·æ“ä½œçš„<code>server()</code>ä»£ç ã€‚æ‚¨è¿˜åˆæ­¥æŒæ¡äº†æ”¯æ’‘Shinyçš„å“åº”å¼ç¼–ç¨‹èŒƒå¼ã€‚åœ¨è¿™é‡Œæ‚¨æ‰€å­¦åˆ°çš„ä¸œè¥¿å°†ä¼šå¯¹æ‚¨å¤§æœ‰å¸®åŠ©ï¼›æˆ‘ä»¬å°†åœ¨ç¬¬13ç« ä¸­å›åˆ°åº•å±‚ç†è®ºã€‚å“åº”å¼ç¼–ç¨‹éå¸¸å¼ºå¤§ï¼Œä½†å®ƒä¸æ‚¨æœ€ä¹ æƒ¯çš„Rç¼–ç¨‹å‘½ä»¤å¼é£æ ¼æˆªç„¶ä¸åŒã€‚å¦‚æœéœ€è¦ä¸€æ®µæ—¶é—´æ‰èƒ½ç†è§£æ‰€æœ‰åæœï¼Œè¯·ä¸è¦æ„Ÿåˆ°æƒŠè®¶ã€‚</p>\n<p>æœ¬ç« ç»“æŸäº†æˆ‘ä»¬å¯¹ShinyåŸºç¡€çš„æ¦‚è¿°ã€‚ä¸‹ä¸€ç« å°†é€šè¿‡åˆ›å»ºä¸€ä¸ªæ›´å¤§çš„Shinyåº”ç”¨ç¨‹åºæ¥å¸®åŠ©æ‚¨ç»ƒä¹ è¿„ä»Šä¸ºæ­¢æ‰€å­¦çš„ææ–™ï¼Œè¯¥åº”ç”¨ç¨‹åºæ—¨åœ¨æ”¯æŒæ•°æ®åˆ†æã€‚</p>\n<h1 id=\"å…³æ³¨\"><a href=\"#å…³æ³¨\" class=\"headerlink\" title=\"å…³æ³¨\"></a>å…³æ³¨</h1><p>å…³æ³¨å…¬ä¼—å·â€œç”Ÿä¿¡ä¹‹å·…â€ã€‚</p>\n<table align=\"center\"><tr>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/ç”Ÿä¿¡ä¹‹å·…å…¬ä¼—å·.jpg\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å¾®ä¿¡å…¬ä¼—å·\" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-right: 0px;margin-bottom: 5px;align: center;\"></td>\n  <td align=\"center\"><img src=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" class=\"lazyload placeholder\" data-srcset=\"https://cdn.jsdelivr.net/gh/liaochenlanruo/cdn@master/img/social/å°ç¨‹åºç .png\" srcset=\"https://pic1.zhimg.com/v2-cd38920285d125be80b3eb504052c550_b.webp\" alt=\"ç”Ÿä¿¡ä¹‹å·…å°ç¨‹åºç \" style=\"width: 100px;height: 100px;vertical-align: -20px;border-radius: 0%;margin-left: 0px;margin-bottom: 5px;align: center\"></td>\n</tr></table>\n\n\n<p><font color=\"#FF0000\"><ruby><b>æ•¬å‘Š</b>ï¼šä½¿ç”¨æ–‡ä¸­è„šæœ¬è¯·å¼•ç”¨æœ¬æ–‡ç½‘å€ï¼Œè¯·å°Šé‡æœ¬äººçš„åŠ³åŠ¨æˆæœï¼Œè°¢è°¢ï¼<rt><b>Notice</b>: When you use the scripts in this article, please cite the link of this webpage. Thank you!</rt></ruby></font></p>\n","raw":null,"categories":[{"name":"IT","path":"api/categories/IT.json"}],"tags":[{"name":"ç¼–ç¨‹","path":"api/tags/ç¼–ç¨‹.json"},{"name":"Shinyå…¥é—¨ç³»åˆ—","path":"api/tags/Shinyå…¥é—¨ç³»åˆ—.json"}]}]}